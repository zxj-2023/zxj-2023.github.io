<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-bounce.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="REST api REST（Representational State Transfer） 是一种软件架构风格，用于设计网络应用程序的 API。 REST API 就是遵循 REST 原则的 Web 接口，通常基于 HTTP 协议。  ✅ 核心思想：把一切看作“资源”（Resource），通过标准 HTTP 方法对资源进行操作。  REST 的六大约束（简化版理解）">
<meta property="og:type" content="article">
<meta property="og:title" content="REST | GraphQL | gRPC | tRPC">
<meta property="og:url" content="http://example.com/2025/10/25/%E5%AD%A6%E4%B9%A0/python-web/REST%20%20GraphQL%20%20gRPC%20%20tRPC/index.html">
<meta property="og:site_name" content="Zhang XiJun">
<meta property="og:description" content="REST api REST（Representational State Transfer） 是一种软件架构风格，用于设计网络应用程序的 API。 REST API 就是遵循 REST 原则的 Web 接口，通常基于 HTTP 协议。  ✅ 核心思想：把一切看作“资源”（Resource），通过标准 HTTP 方法对资源进行操作。  REST 的六大约束（简化版理解）">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-24T16:00:00.000Z">
<meta property="article:modified_time" content="2025-12-20T08:39:10.830Z">
<meta property="article:author" content="张熙浚">
<meta property="article:tag" content="python">
<meta property="article:tag" content="后端">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2025/10/25/%E5%AD%A6%E4%B9%A0/python-web/REST%20%20GraphQL%20%20gRPC%20%20tRPC/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2025/10/25/%E5%AD%A6%E4%B9%A0/python-web/REST%20%20GraphQL%20%20gRPC%20%20tRPC/","path":"2025/10/25/学习/python-web/REST  GraphQL  gRPC  tRPC/","title":"REST | GraphQL | gRPC | tRPC"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>REST | GraphQL | gRPC | tRPC | Zhang XiJun</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Zhang XiJun</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">BLOGS</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#rest-api"><span class="nav-number">1.</span> <span class="nav-text">REST api</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rest-%E7%9A%84%E5%85%AD%E5%A4%A7%E7%BA%A6%E6%9D%9F%E7%AE%80%E5%8C%96%E7%89%88%E7%90%86%E8%A7%A3"><span class="nav-number">1.1.</span> <span class="nav-text">REST 的六大约束（简化版理解）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8-http-%E6%96%B9%E6%B3%95%E4%B8%8E%E8%AF%AD%E4%B9%89"><span class="nav-number">1.2.</span> <span class="nav-text">常用 HTTP 方法与语义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BE%E4%B8%AA-fastapi-%E7%9A%84%E5%AE%8C%E6%95%B4%E4%BE%8B%E5%AD%90"><span class="nav-number">1.3.</span> <span class="nav-text">举个 FastAPI 的完整例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rest-api-%E5%B8%B8%E8%A7%81%E5%93%8D%E5%BA%94%E6%A0%BC%E5%BC%8Fjson"><span class="nav-number">1.4.</span> <span class="nav-text">REST API 常见响应格式（JSON）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#graphql"><span class="nav-number">2.</span> <span class="nav-text">GraphQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF"><span class="nav-number">2.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rest-%E6%96%B9%E5%BC%8F%E4%BD%A0%E7%86%9F%E6%82%89%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">🔹 REST 方式（你熟悉的方式）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#graphql-%E6%96%B9%E5%BC%8F"><span class="nav-number">2.3.</span> <span class="nav-text">🔸 GraphQL 方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#schema%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F"><span class="nav-number">2.4.</span> <span class="nav-text">1. Schema（类型系统）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#query%E6%9F%A5%E8%AF%A2"><span class="nav-number">2.5.</span> <span class="nav-text">2. Query（查询）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mutation%E5%8F%98%E6%9B%B4"><span class="nav-number">2.6.</span> <span class="nav-text">3. Mutation（变更）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rpc"><span class="nav-number">3.</span> <span class="nav-text">RPC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E4%BA%86-http-%E8%BF%98%E9%9C%80%E8%A6%81-rpc"><span class="nav-number">3.1.</span> <span class="nav-text">为什么有了 HTTP 还需要 RPC？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a.-%E6%95%B0%E6%8D%AE%E5%8C%85%E7%9A%84%E5%A4%A7%E5%B0%8F%E4%BF%A1%E5%B0%81-vs.-%E4%BB%A3%E7%A0%81"><span class="nav-number">3.1.1.</span> <span class="nav-text">A. 数据包的大小（信封
vs. 代码）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b.-%E8%A7%A3%E6%9E%90%E9%80%9F%E5%BA%A6%E9%98%85%E8%AF%BB-vs.-%E7%9B%B4%E8%A7%89"><span class="nav-number">3.1.2.</span> <span class="nav-text">B. 解析速度（阅读 vs. 直觉）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c.-%E7%BA%A6%E6%9D%9F%E5%8A%9B%E5%8F%A3%E5%A4%B4%E7%BA%A6%E5%AE%9A-vs.-%E6%B3%95%E5%BE%8B%E5%90%88%E5%90%8C"><span class="nav-number">3.1.3.</span> <span class="nav-text">C. 约束力（口头约定
vs. 法律合同）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rpc-%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E4%BB%80%E4%B9%88%E5%9C%BA%E6%99%AF"><span class="nav-number">3.2.</span> <span class="nav-text">RPC 主要用于什么场景？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%80%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E7%9A%84%E5%86%85%E9%83%A8%E9%80%9A%E4%BF%A1%E8%BF%99%E6%98%AF%E7%BB%9D%E5%AF%B9%E7%9A%84%E4%B8%BB%E6%88%98%E5%9C%BA"><span class="nav-number">3.2.1.</span> <span class="nav-text">场景一：微服务架构的内部通信（这是绝对的主战场）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E4%BA%8C%E9%AB%98%E9%A2%91%E4%BA%A4%E6%98%93%E4%B8%8E%E5%AE%9E%E6%97%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">3.2.2.</span> <span class="nav-text">场景二：高频交易与实时系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%89%E5%A4%9A%E8%AF%AD%E8%A8%80%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91-polyglot"><span class="nav-number">3.2.3.</span> <span class="nav-text">场景三：多语言混合开发
(Polyglot)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rpc-%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B"><span class="nav-number">3.3.</span> <span class="nav-text">RPC 调用流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grpc%E8%B7%A8%E8%AF%AD%E8%A8%80%E7%9A%84%E9%80%9A%E7%94%A8%E7%BF%BB%E8%AF%91%E5%AE%98"><span class="nav-number">3.4.</span> <span class="nav-text">gRPC：跨语言的通用翻译官</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E7%89%B9%E7%82%B9"><span class="nav-number">3.4.1.</span> <span class="nav-text">核心特点：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">3.4.2.</span> <span class="nav-text">适用场景：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#trpctypescript-%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E5%BF%83%E7%81%B5%E6%84%9F%E5%BA%94"><span class="nav-number">3.5.</span> <span class="nav-text">tRPC：TypeScript
开发者的“心灵感应”</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E7%89%B9%E7%82%B9-1"><span class="nav-number">3.5.1.</span> <span class="nav-text">核心特点：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-1"><span class="nav-number">3.5.2.</span> <span class="nav-text">适用场景：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">4.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="张熙浚"
      src="/images/zxjavatar.gif">
  <p class="site-author-name" itemprop="name">张熙浚</p>
  <div class="site-description" itemprop="description">zxj Blogs</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">177</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">64</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zxj-2023" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zxj-2023" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://wpa.qq.com/msgrd?v=3&uin=2902065320&site=qq&menu=yes" title="QQ → http:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;2902065320&amp;site&#x3D;qq&amp;menu&#x3D;yes" rel="noopener me" target="_blank"><i class="fab fa-qq fa-fw"></i>QQ</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://zxj-2023.github.io/" title="https:&#x2F;&#x2F;zxj-2023.github.io" rel="noopener" target="_blank">Zhang XiJun</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://theme-next.js.org/" title="https:&#x2F;&#x2F;theme-next.js.org" rel="noopener" target="_blank">NexT</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/10/25/%E5%AD%A6%E4%B9%A0/python-web/REST%20%20GraphQL%20%20gRPC%20%20tRPC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="REST | GraphQL | gRPC | tRPC | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          REST | GraphQL | gRPC | tRPC
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-10-25 00:00:00" itemprop="dateCreated datePublished" datetime="2025-10-25T00:00:00+08:00">2025-10-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-20 16:39:10" itemprop="dateModified" datetime="2025-12-20T16:39:10+08:00">2025-12-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python-web/" itemprop="url" rel="index"><span itemprop="name">python-web</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="本文总阅读量 far fa-eye 次"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="rest-api">REST api</h2>
<p><strong>REST（Representational State Transfer）</strong>
是一种软件架构风格，用于设计网络应用程序的 API。<br>
<strong>REST API</strong> 就是遵循 REST 原则的 Web 接口，通常基于 HTTP
协议。</p>
<blockquote>
<p>✅ 核心思想：把一切看作“资源”（Resource），通过标准 HTTP
方法对资源进行操作。</p>
</blockquote>
<h3 id="rest-的六大约束简化版理解">REST 的六大约束（简化版理解）</h3>
<table>
<colgroup>
<col style="width: 18%">
<col style="width: 47%">
<col style="width: 33%">
</colgroup>
<thead>
<tr>
<th>约束</th>
<th>含义</th>
<th>举例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>统一接口</strong></td>
<td>所有操作通过标准 HTTP 方法（GET/POST/PUT/DELETE）</td>
<td><code>/books</code> 表示“图书资源”</td>
</tr>
<tr>
<td><strong>无状态</strong></td>
<td>服务器不保存客户端状态，每次请求必须包含全部信息</td>
<td>用 Token 认证，而不是 Session</td>
</tr>
<tr>
<td><strong>可缓存</strong></td>
<td>响应应标明是否可缓存</td>
<td>GET 请求通常可缓存</td>
</tr>
<tr>
<td><strong>分层系统</strong></td>
<td>客户端无需知道是否直接连服务器（可经过代理、网关）</td>
<td>Nginx 反向代理 FastAPI</td>
</tr>
<tr>
<td><strong>按需代码（可选）</strong></td>
<td>可返回可执行代码（如 JS）</td>
<td>较少用</td>
</tr>
<tr>
<td><strong>资源标识</strong></td>
<td>每个资源有唯一 URI</td>
<td><code>/books/123</code> 唯一标识 ID 为 123 的书</td>
</tr>
</tbody>
</table>
<h3 id="常用-http-方法与语义">常用 HTTP 方法与语义</h3>
<table>
<colgroup>
<col style="width: 12%">
<col style="width: 24%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 44%">
</colgroup>
<thead>
<tr>
<th>方法</th>
<th>含义</th>
<th>幂等性</th>
<th>安全性</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GET</code></td>
<td>获取资源</td>
<td>✅ 是</td>
<td>✅ 是</td>
<td>获取所有图书</td>
</tr>
<tr>
<td><code>POST</code></td>
<td>创建资源</td>
<td>❌ 否</td>
<td>❌ 否</td>
<td>新增一本图书</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td><strong>完整</strong>更新资源</td>
<td>✅ 是</td>
<td>❌ 否</td>
<td>替换 ID 为 123 的图书全部信息</td>
</tr>
<tr>
<td><code>PATCH</code></td>
<td><strong>部分</strong>更新资源</td>
<td>❌ 否</td>
<td>❌ 否</td>
<td>只修改图书的标题</td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td>删除资源</td>
<td>✅ 是</td>
<td>❌ 否</td>
<td>删除 ID 为 123 的图书</td>
</tr>
</tbody>
</table>
<blockquote>
<p>🔔 <strong>幂等性</strong>：多次执行结果相同（如 DELETE
/books/123，删一次和删十次效果一样）<br>
🔔 <strong>安全性</strong>：不改变服务器状态（GET 是安全的，POST
不是）</p>
</blockquote>
<h3 id="举个-fastapi-的完整例子">举个 FastAPI 的完整例子</h3>
<p>假设你正在开发<strong>图书管理系统</strong>，下面是典型 REST
API：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span></span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模拟数据库</span></span><br><span class="line">books_db = [</span><br><span class="line">    &#123;<span class="string">&quot;id&quot;</span>: <span class="number">1</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Python 入门&quot;</span>, <span class="string">&quot;author&quot;</span>: <span class="string">&quot;张三&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;id&quot;</span>: <span class="number">2</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;FastAPI 实战&quot;</span>, <span class="string">&quot;author&quot;</span>: <span class="string">&quot;李四&quot;</span>&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BookCreate</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    title: <span class="built_in">str</span></span><br><span class="line">    author: <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(<span class="title class_ inherited__">BookCreate</span>):</span><br><span class="line">    <span class="built_in">id</span>: <span class="built_in">int</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/books&quot;</span>, response_model=<span class="type">List</span>[Book]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_books</span>():</span><br><span class="line">    <span class="keyword">return</span> books_db</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/books&quot;</span>, response_model=Book</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_book</span>(<span class="params">book: BookCreate</span>):</span><br><span class="line">    new_id = <span class="built_in">max</span>(b[<span class="string">&quot;id&quot;</span>] <span class="keyword">for</span> b <span class="keyword">in</span> books_db) + <span class="number">1</span> <span class="keyword">if</span> books_db <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">    new_book = &#123;<span class="string">&quot;id&quot;</span>: new_id, **book.<span class="built_in">dict</span>()&#125;</span><br><span class="line">    books_db.append(new_book)</span><br><span class="line">    <span class="keyword">return</span> new_book</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/books/&#123;book_id&#125;&quot;</span>, response_model=Book</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_book</span>(<span class="params">book_id: <span class="built_in">int</span></span>):</span><br><span class="line">    <span class="keyword">for</span> book <span class="keyword">in</span> books_db:</span><br><span class="line">        <span class="keyword">if</span> book[<span class="string">&quot;id&quot;</span>] == book_id:</span><br><span class="line">            <span class="keyword">return</span> book</span><br><span class="line">    <span class="keyword">raise</span> HTTPException(status_code=<span class="number">404</span>, detail=<span class="string">&quot;Book not found&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.put(<span class="params"><span class="string">&quot;/books/&#123;book_id&#125;&quot;</span>, response_model=Book</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_book</span>(<span class="params">book_id: <span class="built_in">int</span>, book: BookCreate</span>):</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> books_db:</span><br><span class="line">        <span class="keyword">if</span> b[<span class="string">&quot;id&quot;</span>] == book_id:</span><br><span class="line">            b.update(book.<span class="built_in">dict</span>())</span><br><span class="line">            <span class="keyword">return</span> b</span><br><span class="line">    <span class="keyword">raise</span> HTTPException(status_code=<span class="number">404</span>, detail=<span class="string">&quot;Book not found&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.delete(<span class="params"><span class="string">&quot;/books/&#123;book_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">delete_book</span>(<span class="params">book_id: <span class="built_in">int</span></span>):</span><br><span class="line">    <span class="keyword">for</span> i, b <span class="keyword">in</span> <span class="built_in">enumerate</span>(books_db):</span><br><span class="line">        <span class="keyword">if</span> b[<span class="string">&quot;id&quot;</span>] == book_id:</span><br><span class="line">            books_db.pop(i)</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Deleted&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">raise</span> HTTPException(status_code=<span class="number">404</span>, detail=<span class="string">&quot;Book not found&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>启动后，你就可以通过：</p>
<ul>
<li><code>GET /books</code> → 获取所有书</li>
<li><code>POST /books</code> → 创建新书</li>
<li><code>GET /books/1</code> → 获取 ID=1 的书</li>
<li><code>PUT /books/1</code> → 完全替换 ID=1 的书</li>
<li><code>DELETE /books/1</code> → 删除 ID=1 的书</li>
</ul>
<h3 id="rest-api-常见响应格式json">REST API 常见响应格式（JSON）</h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 成功创建</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LangChain 实战&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;王五&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Book not found&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>HTTP 状态码也很关键：</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>OK（GET 成功）</td>
</tr>
<tr>
<td>201</td>
<td>Created（POST 成功）</td>
</tr>
<tr>
<td>204</td>
<td>No Content（DELETE 成功，无返回体）</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request（参数错误）</td>
</tr>
<tr>
<td>404</td>
<td>Not Found（资源不存在）</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody>
</table>
<h2 id="graphql">GraphQL</h2>
<p><strong>GraphQL</strong> 是由 Facebook 开发的一种 <strong>API
查询语言</strong> 和
<strong>运行时</strong>，用于客户端<strong>精确声明</strong>它需要什么数据，服务器则<strong>按需返回</strong>这些数据。</p>
<blockquote>
<p>✅ 核心理念：<strong>“客户端要什么，服务端就给什么”</strong>，避免
REST 中常见的“过载”或“多次请求”问题。</p>
</blockquote>
<h3 id="场景">场景</h3>
<p>你想获取用户 ID=1 的 <strong>姓名</strong> 和他最新的
<strong>两篇文章标题</strong></p>
<h3 id="rest-方式你熟悉的方式">🔹 REST 方式（你熟悉的方式）</h3>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /users/1          → 返回 &#123;id, name, email, avatar, ...&#125; （可能含不需要的 email/avatar）</span><br><span class="line">GET /posts?userId=1   → 返回所有文章（可能有 100 篇，但你只要 2 篇）</span><br></pre></td></tr></table></figure>
<p>→ <strong>2 次请求 + 数据冗余</strong></p>
<h3 id="graphql-方式">🔸 GraphQL 方式</h3>
<p>客户端发送一个 <strong>查询（Query）</strong>：</p>
<figure class="highlight graphql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">query</span> <span class="punctuation">&#123;</span></span><br><span class="line">  user<span class="punctuation">(</span><span class="symbol">id</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">    name</span><br><span class="line">    posts<span class="punctuation">(</span><span class="symbol">first</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">      title</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>服务器返回：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;user&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;张三&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;posts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python 入门&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FastAPI 实战&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>→ <strong>1 次请求 + 精确数据</strong></p>
<h3 id="schema类型系统">1. <strong>Schema（类型系统）</strong></h3>
<p>定义 API 的能力：有哪些类型？有哪些字段？</p>
<figure class="highlight graphql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="symbol">id</span><span class="punctuation">:</span> ID<span class="punctuation">!</span></span><br><span class="line">  <span class="symbol">name</span><span class="punctuation">:</span> String<span class="punctuation">!</span></span><br><span class="line">  posts<span class="punctuation">(</span><span class="symbol">first</span><span class="punctuation">:</span> Int<span class="punctuation">)</span><span class="punctuation">:</span> <span class="punctuation">[</span>Post<span class="punctuation">!</span><span class="punctuation">]</span><span class="punctuation">!</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Post <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="symbol">id</span><span class="punctuation">:</span> ID<span class="punctuation">!</span></span><br><span class="line">  <span class="symbol">title</span><span class="punctuation">:</span> String<span class="punctuation">!</span></span><br><span class="line">  <span class="symbol">content</span><span class="punctuation">:</span> String</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">Query</span> <span class="punctuation">&#123;</span></span><br><span class="line">  user<span class="punctuation">(</span><span class="symbol">id</span><span class="punctuation">:</span> ID<span class="punctuation">!</span><span class="punctuation">)</span><span class="punctuation">:</span> User</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="query查询">2. <strong>Query（查询）</strong></h3>
<p>客户端请求数据（类似 REST 的 GET）</p>
<h3 id="mutation变更">3. <strong>Mutation（变更）</strong></h3>
<p>客户端修改数据（类似 REST 的 POST/PUT/DELETE）</p>
<figure class="highlight graphql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mutation</span> <span class="punctuation">&#123;</span></span><br><span class="line">  createPost<span class="punctuation">(</span><span class="symbol">userId</span><span class="punctuation">:</span> <span class="number">1</span>, <span class="symbol">title</span><span class="punctuation">:</span> <span class="string">&quot;新文章&quot;</span>, <span class="symbol">content</span><span class="punctuation">:</span> <span class="string">&quot;内容&quot;</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">    id</span><br><span class="line">    title</span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="rpc">RPC</h2>
<p><strong>RPC（Remote Procedure Call）</strong>
是一种<strong>让程序调用另一个地址空间（通常是远程服务器）上的函数/过程，就像调用本地函数一样</strong>的机制。</p>
<blockquote>
<p>✅ 核心思想：<strong>“像调用本地函数一样调用远程服务”</strong></p>
</blockquote>
<p>你不需要关心网络细节（HTTP、序列化等），框架会自动处理。</p>
<h3 id="为什么有了-http-还需要-rpc">为什么有了 HTTP 还需要 RPC？</h3>
<p>我们可以把 <strong>HTTP/REST</strong> 比作
<strong>“写信”</strong>，把 <strong>RPC</strong> 比作
<strong>“发电报”</strong>。</p>
<h4 id="a.-数据包的大小信封-vs.-代码">A. 数据包的大小（信封
vs. 代码）</h4>
<ul>
<li><strong>HTTP (REST+JSON):</strong> 为了让人看懂，JSON 极其啰嗦。
<ul>
<li>比如传递一个数字 <code>1000</code>，JSON 需要写成字段
<code>"balance": 1000</code>。为了传这一个数，你得带上
<code>"balance"</code>
这个单词，还有大括号、冒号。这就像写信时要写满客套话。</li>
</ul></li>
<li><strong>RPC (Protobuf/二进制):</strong>
机器不需要看懂单词，它只需要知道位置。
<ul>
<li>RPC 协议会约定：“第2个位置放余额”。传输时，直接发二进制的
<code>1000</code> 即可。<strong>数据体积可以缩小 50%~80%。</strong></li>
</ul></li>
</ul>
<h4 id="b.-解析速度阅读-vs.-直觉">B. 解析速度（阅读 vs. 直觉）</h4>
<ul>
<li><strong>HTTP:</strong> 服务器收到 JSON 后，CPU
需要一行行去“读”文本，把字符串转换成对象。这非常消耗 CPU 资源。</li>
<li><strong>RPC:</strong>
二进制数据到了服务器，几乎不需要转换，直接就能由计算机内存读取。<strong>解析速度比
JSON 快很多倍。</strong></li>
</ul>
<h4 id="c.-约束力口头约定-vs.-法律合同">C. 约束力（口头约定
vs. 法律合同）</h4>
<ul>
<li><strong>HTTP:</strong> REST API 的文档通常写在网页上（比如
Swagger）。如果后端改了字段名，前端没注意，上线可能就崩了。这属于“弱约束”。</li>
<li><strong>RPC:</strong> 强依赖
<strong>IDL（接口定义语言）</strong>。在代码编译阶段，如果客户端和服务端定义的参数类型对不上，代码直接<strong>报错，编译不过</strong>。这大大减少了上线后的低级错误。</li>
</ul>
<blockquote>
<p><strong>注意：</strong> 现代的 RPC（如 gRPC）其实底层往往也是基于
HTTP/2 协议传输的。所以准确地说，<strong>并不是“抛弃 HTTP 用
RPC”，而是“在 HTTP 之上通过 RPC 机制来优化传输效率”。</strong></p>
</blockquote>
<h3 id="rpc-主要用于什么场景">RPC 主要用于什么场景？</h3>
<p>RPC 并不是为了取代 REST，而是为了在特定领域“称王”。</p>
<h4 id="场景一微服务架构的内部通信这是绝对的主战场">场景一：微服务架构的内部通信（这是绝对的主战场）</h4>
<p>想象一个像淘宝或亚马逊这样的大型系统，一个“用户下单”的请求，在后台可能要触发
<strong>50 次</strong>
内部调用（查库存、算优惠、校验风控、写日志、通知物流…）。</p>
<ul>
<li><strong>如果全用 REST:</strong>
<ul>
<li>每次调用都要解析一遍 JSON，CPU 累死。</li>
<li>每次传输都带一堆冗余的 HTTP 头，网络堵死。</li>
<li>总延迟 = 50 次 HTTP 请求的累加，用户会感觉“卡顿”。</li>
</ul></li>
<li><strong>如果用 RPC:</strong>
<ul>
<li>二进制传输，极快。</li>
<li>内部带宽占用极低。</li>
<li><strong>结论：</strong> 对外（给浏览器/App）用
REST，对内（服务器之间）用 RPC。</li>
</ul></li>
</ul>
<h4 id="场景二高频交易与实时系统">场景二：高频交易与实时系统</h4>
<p>在股票交易、实时游戏同步等对<strong>延迟（Latency）</strong>极其敏感的场景。</p>
<ul>
<li>每一毫秒都决定盈亏。RPC 省去了繁琐的 HTTP
报文头解析，能把延迟压榨到极限。</li>
</ul>
<h4 id="场景三多语言混合开发-polyglot">场景三：多语言混合开发
(Polyglot)</h4>
<p>公司里，算法团队用 Python（搞 AI），后端团队用
Java（搞业务），数据团队用 Go。</p>
<ul>
<li>使用 gRPC（Google 的 RPC 框架），只需要定义一份 <code>.proto</code>
文件，就能自动生成 Python、Java、Go
的代码。这三个团队不需要互相通过文档扯皮，直接调用生成的代码即</li>
</ul>
<h3 id="rpc-调用流程">RPC 调用流程</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant Client as 客户端</span><br><span class="line">    participant Server as RPC 服务端</span><br><span class="line">    Client-&gt;&gt;Server: 调用 generate_summary(book_id=456)</span><br><span class="line">    Server-&gt;&gt;Server: 执行本地函数（可能调用 LLM/数据库）</span><br><span class="line">    Server--&gt;&gt;Client: 返回 &#123;summary: &quot;...&quot;, task_id: &quot;...&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>对比 REST 的资源操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant Client</span><br><span class="line">    participant REST_API</span><br><span class="line">    Client-&gt;&gt;REST_API: POST /summaries &#123;book_id: 456&#125;</span><br><span class="line">    REST_API-&gt;&gt;DB: 创建摘要任务</span><br><span class="line">    REST_API--&gt;&gt;Client: 201 Created &#123;location: &quot;/summaries/789&quot;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="grpc跨语言的通用翻译官">gRPC：跨语言的通用翻译官</h3>
<p><strong>gRPC</strong> 是由 <strong>Google</strong> 开发并开源的高性能
RPC 框架。它是目前微服务架构中的事实标准。</p>
<h4 id="核心特点">核心特点：</h4>
<ol type="1">
<li><strong>基于 HTTP/2:</strong> 它利用 HTTP/2
的特性（如多路复用、头部压缩），传输效率极高。</li>
<li><strong>Protocol Buffers (Protobuf):</strong> 这是 gRPC
的灵魂。它不使用 JSON，而是使用 Google 发明的 <code>.proto</code>
文件来定义接口和数据结构。</li>
<li><strong>多语言支持 (Polyglot):</strong>这是它最大的杀手锏。</li>
</ol>
<h4 id="适用场景">适用场景：</h4>
<ul>
<li><strong>微服务架构：</strong> 几十个服务，有的用 Java 写，有的用
Python 写，需要互相通信。</li>
<li><strong>移动端对接：</strong> 手机 App
与服务器通信（省流量、省电）。</li>
</ul>
<hr>
<h3 id="trpctypescript-开发者的心灵感应">tRPC：TypeScript
开发者的“心灵感应”</h3>
<p><strong>tRPC</strong> (TypeScript RPC) 是近年来在前端圈（特别是
React/Next.js 社区）爆火的库。</p>
<p><strong>注意：</strong> tRPC <strong>只能</strong>用于
<strong>TypeScript</strong>。如果你的后端是 Java 或
Go，那就不能用它。</p>
<h4 id="核心特点-1">核心特点：</h4>
<ol type="1">
<li><strong>端到端类型安全 (End-to-End Type Safety):</strong>
这是它存在的全部意义。</li>
<li><strong>无代码生成 (No Code Gen):</strong> 不需要写
<code>.proto</code> 文件，也不需要运行脚本生成代码。</li>
<li><strong>基于标准 HTTP:</strong> 底层通常还是普通的 HTTP
请求，但写代码的感觉是 RPC。</li>
</ol>
<h4 id="适用场景-1">适用场景：</h4>
<ul>
<li><strong>全栈 TypeScript 项目：</strong> 比如使用 Next.js, Nuxt.js
等框架，前后端都在一个代码仓库（Monorepo）里。</li>
<li><strong>中小型快速开发：</strong>
一个团队同时负责前后端，追求极致的开发速度。</li>
</ul>
<h2 id="参考资料">参考资料</h2>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1yL41167fD/?spm_id_from=333.788.recommend_more_video.3&amp;trackid=web_related_0.router-related-2206146-52fdn.1766213172731.35&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">【API技术核心原理】REST
| GraphQL | gRPC | tRPC_哔哩哔哩_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Qv4y127B4/?spm_id_from=333.788.recommend_more_video.0&amp;trackid=web_related_0.router-related-2206146-8qdn5.1766219413613.457&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">RPC是什么？HTTP是什么？RPC和HTTP有什么区别？_哔哩哔哩_bilibili</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>请我一杯咖啡吧！</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="张熙浚 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.png" alt="张熙浚 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># python</a>
              <a href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag"># 后端</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/10/23/%E5%AD%A6%E4%B9%A0/python-web/redis/redis/" rel="prev" title="redis">
                  <i class="fa fa-angle-left"></i> redis
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/10/25/%E5%AD%A6%E4%B9%A0/python-web/Cookie%E3%80%81Session%E3%80%81Token/" rel="next" title="Cookie、Session、JWT">
                  Cookie、Session、JWT <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">张熙浚</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="本站访问数 fa fa-user 次"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="本站总访问量 fa fa-eye 次"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="400" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>



  <script src="/js/third-party/pace.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
