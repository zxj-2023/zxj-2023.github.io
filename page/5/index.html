<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-bounce.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="zxj Blogs">
<meta property="og:type" content="website">
<meta property="og:title" content="Zhang XiJun">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="Zhang XiJun">
<meta property="og:description" content="zxj Blogs">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="å¼ ç†™æµš">
<meta property="article:tag" content="zxj">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/5/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/5/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Zhang XiJun</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Zhang XiJun</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">BLOGS</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="æœç´¢..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="å¼ ç†™æµš"
      src="/images/zxjavatar.gif">
  <p class="site-author-name" itemprop="name">å¼ ç†™æµš</p>
  <div class="site-description" itemprop="description">zxj Blogs</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">127</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zxj-2023" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;zxj-2023" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://wpa.qq.com/msgrd?v=3&uin=2902065320&site=qq&menu=yes" title="QQ â†’ http:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;2902065320&amp;site&#x3D;qq&amp;menu&#x3D;yes" rel="noopener me" target="_blank"><i class="fab fa-qq fa-fw"></i>QQ</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          é“¾æ¥
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://zxj-2023.github.io/" title="https:&#x2F;&#x2F;zxj-2023.github.io" rel="noopener" target="_blank">Zhang XiJun</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://theme-next.js.org/" title="https:&#x2F;&#x2F;theme-next.js.org" rel="noopener" target="_blank">NexT</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/12/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E7%AE%97%E6%B3%95%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/06/12/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E7%AE%97%E6%B3%95%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="post-title-link" itemprop="url">ç®—æ³•æœŸæœ«å¤ä¹ </a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-12 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-12T00:00:00+08:00">2025-06-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-06-14 22:26:13" itemprop="dateModified" datetime="2025-06-14T22:26:13+08:00">2025-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">ç®—æ³•</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="è´ªå¿ƒé—®é¢˜"><a href="#è´ªå¿ƒé—®é¢˜" class="headerlink" title="è´ªå¿ƒé—®é¢˜"></a>è´ªå¿ƒé—®é¢˜</h3><h4 id="æ‰¾é›¶é’±"><a href="#æ‰¾é›¶é’±" class="headerlink" title="æ‰¾é›¶é’±"></a>æ‰¾é›¶é’±</h4><p>ç”¨æœ€å°‘æ•°é‡çš„é’±å¸å‡‘å‡ºç›®æ ‡é‡‘é¢ m å…ƒã€‚</p>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong> ï¼š<br>æ¯æ¬¡é€‰æ‹©<strong>ä¸è¶…è¿‡å‰©ä½™é‡‘é¢çš„æœ€å¤§é¢å€¼</strong> ï¼Œç›´åˆ°å‡‘å¤Ÿç›®æ ‡é‡‘é¢ã€‚</p>
<p><strong>æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å°†é’±å¸é¢å€¼æŒ‰ä»å¤§åˆ°å°æ’åºã€‚</li>
<li>å¯¹äºå½“å‰å‰©ä½™é‡‘é¢ï¼Œä¸æ–­å‡å»æœ€å¤§å¯ç”¨é¢å€¼ï¼Œç›´åˆ°é‡‘é¢ä¸º 0ã€‚</li>
</ol>
<p><strong>è´ªå¿ƒç­–ç•¥çš„é€‚ç”¨æ€§</strong></p>
<p><strong>ä»…å½“é’±å¸é¢å€¼æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶æœ‰æ•ˆ</strong> ï¼š</p>
<ul>
<li>é¢å€¼åºåˆ—ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å‰ä¸€ä¸ªå…ƒç´ çš„å› æ•°ï¼ˆå¦‚ <code>1, 2, 5, 10</code>ï¼‰ã€‚</li>
<li>å¦åˆ™ï¼Œè´ªå¿ƒå¯èƒ½å¤±è´¥ï¼ˆä¾‹å¦‚é¢å€¼ <code>[1, 3, 4]</code>ï¼Œç›®æ ‡ <code>6</code>ï¼šè´ªå¿ƒé€‰ <code>4+1+1</code> éœ€ 3 æšï¼Œè€Œæœ€ä¼˜è§£æ˜¯ <code>3+3</code> éœ€ 2 æšï¼‰ã€‚</li>
</ul>
<p><strong>ä»£ç é—®é¢˜åˆ†æ</strong></p>
<p>ç”¨æˆ·æä¾›çš„ä»£ç æ˜¯ä¸€ä¸ªåŸºäºè´ªå¿ƒç­–ç•¥çš„æ‰¾é›¶é’±å®ç°ï¼Œä½†åœ¨<strong>ç¡¬å¸é¢å€¼ä¸æ»¡è¶³è´ªå¿ƒæ¡ä»¶</strong>æ—¶å¯èƒ½æ— æ³•å¾—åˆ°æœ€ä¼˜è§£ã€‚ä»¥ä¸‹æ˜¯å…·ä½“åˆ†æï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">findMinCoins</span>(<span class="params">coins, amount</span>):</span><br><span class="line">    coins.sort(reverse=<span class="literal">True</span>)  <span class="comment"># é™åºæ’åº</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(coins)):</span><br><span class="line">        <span class="keyword">while</span> amount &gt;= coins[i]:</span><br><span class="line">            res.append(coins[i])</span><br><span class="line">            amount -= coins[i]</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">coins = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>]</span><br><span class="line">amount = <span class="number">1136</span></span><br><span class="line">out = findMinCoins(coins, amount)</span><br><span class="line"><span class="built_in">print</span>(out)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;é’±å¸æ•°é‡ä¸º<span class="subst">&#123;<span class="built_in">len</span>(out)&#125;</span>.&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>é—®é¢˜ç‚¹ï¼š</strong></p>
<ol>
<li><p><strong>è´ªå¿ƒç­–ç•¥çš„å±€é™æ€§</strong><br>ä»…å½“ç¡¬å¸é¢å€¼æ»¡è¶³ <strong>æ¯ç§é¢å€¼æ˜¯å‰ä¸€ç§é¢å€¼çš„å› æ•°</strong>ï¼ˆå¦‚ <code>[1, 2, 5, 10, 50, 100]</code>ï¼‰æ—¶ï¼Œè´ªå¿ƒç®—æ³•æ‰èƒ½ä¿è¯æœ€ä¼˜è§£ã€‚è‹¥é¢å€¼ä¸æ»¡è¶³æ­¤æ¡ä»¶ï¼ˆå¦‚ <code>[1, 3, 4]</code>ï¼‰ï¼Œåˆ™å¯èƒ½å¤±è´¥ã€‚</p>
</li>
<li><p><strong>æœªå¤„ç†ç‰¹æ®Šæƒ…å†µ</strong>  </p>
<ul>
<li>è‹¥ <code>amount</code> æ— æ³•è¢«ç¡¬å¸ç»„åˆå‡‘å‡ºï¼ˆå¦‚ç¡¬å¸ä¸º <code>[2, 5]</code>ï¼Œç›®æ ‡ <code>3</code>ï¼‰ï¼Œä»£ç ä¼šè¿”å›éæœ€ä¼˜è§£æˆ–æ­»å¾ªç¯ã€‚</li>
</ul>
</li>
</ol>
<p><strong>æ”¹è¿›æ–¹æ¡ˆ</strong></p>
<p>é€‚ç”¨äºä»»æ„ç¡¬å¸é¢å€¼ï¼Œç¡®ä¿æœ€ä¼˜è§£ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">min_coins_dp</span>(<span class="params">coins, amount</span>):</span><br><span class="line">    dp = [<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)] * (amount + <span class="number">1</span>)</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, amount + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> coin <span class="keyword">in</span> coins:</span><br><span class="line">            <span class="keyword">if</span> a &gt;= coin <span class="keyword">and</span> dp[a - coin] + <span class="number">1</span> &lt; dp[a]:</span><br><span class="line">                dp[a] = dp[a - coin] + <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> dp[amount] <span class="keyword">if</span> dp[amount] != <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>) <span class="keyword">else</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">coins = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>]</span><br><span class="line">amount = <span class="number">1136</span></span><br><span class="line"><span class="built_in">print</span>(min_coins_dp(coins, amount))  <span class="comment"># è¾“å‡º 16</span></span><br></pre></td></tr></table></figure></p>
<h4 id="æœ€ä¼˜è£…è½½é—®é¢˜"><a href="#æœ€ä¼˜è£…è½½é—®é¢˜" class="headerlink" title="æœ€ä¼˜è£…è½½é—®é¢˜"></a>æœ€ä¼˜è£…è½½é—®é¢˜</h4><p>ğŸ§® é—®é¢˜æè¿°</p>
<p>ç»™å®šä¸€ä¸ªé›†è£…ç®±é‡é‡åˆ—è¡¨ <code>weights</code> å’Œè½®èˆ¹çš„æœ€å¤§è½½é‡ <code>W</code>ï¼Œç›®æ ‡æ˜¯ <strong>å°½å¯èƒ½å¤šåœ°è£…è½½é›†è£…ç®±</strong>ï¼ˆä¸è€ƒè™‘ä½“ç§¯é™åˆ¶ï¼‰ã€‚</p>
<p>âœ… ç®—æ³•æ€è·¯</p>
<ol>
<li><strong>æ’åº</strong>ï¼šå°†æ‰€æœ‰é›†è£…ç®±æŒ‰é‡é‡ä»å°åˆ°å¤§æ’åºã€‚</li>
<li><strong>è´ªå¿ƒè£…è½½</strong>ï¼šä¾æ¬¡å°è¯•è£…è½½æ¯ä¸ªé›†è£…ç®±ï¼Œè‹¥å½“å‰æ€»é‡é‡åŠ ä¸Šè¯¥é›†è£…ç®±çš„é‡é‡ä¸è¶…è¿‡ <code>W</code>ï¼Œåˆ™è£…è½½ï¼›å¦åˆ™åœæ­¢ã€‚</li>
<li><strong>è¿”å›ç»“æœ</strong>ï¼šè¿”å›æˆåŠŸè£…è½½çš„é›†è£…ç®±æ•°é‡ã€‚</li>
</ol>
<p>ğŸ§¾ Python å®ç°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">max_loaded_containers</span>(<span class="params">weights, W</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è¿”å›åœ¨æ€»è½½é‡ W ä¸‹ï¼Œæœ€å¤šå¯ä»¥è£…è½½çš„é›†è£…ç®±æ•°é‡ã€‚</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">    weights (list of int/float): é›†è£…ç®±é‡é‡åˆ—è¡¨</span></span><br><span class="line"><span class="string">    W (int/float): è½®èˆ¹çš„æœ€å¤§è½½é‡</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    è¿”å›:</span></span><br><span class="line"><span class="string">    int: æœ€å¤šå¯ä»¥è£…è½½çš„é›†è£…ç®±æ•°é‡</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># æŒ‰é‡é‡ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    weights.sort()</span><br><span class="line">    </span><br><span class="line">    total_weight = <span class="number">0</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> weight <span class="keyword">in</span> weights:</span><br><span class="line">        <span class="keyword">if</span> total_weight + weight &lt;= W:</span><br><span class="line">            total_weight += weight</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹æµ‹è¯•</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    weights = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">    W = <span class="number">10</span></span><br><span class="line">    result = max_loaded_containers(weights, W)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æœ€å¤šå¯ä»¥è£…è½½ <span class="subst">&#123;result&#125;</span> ä¸ªé›†è£…ç®±&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="æ´»åŠ¨é€‰æ‹©é—®é¢˜ï¼ˆæœ€å¤§ç›¸å®¹æ´»åŠ¨å­é›†ï¼‰"><a href="#æ´»åŠ¨é€‰æ‹©é—®é¢˜ï¼ˆæœ€å¤§ç›¸å®¹æ´»åŠ¨å­é›†ï¼‰" class="headerlink" title="æ´»åŠ¨é€‰æ‹©é—®é¢˜ï¼ˆæœ€å¤§ç›¸å®¹æ´»åŠ¨å­é›†ï¼‰"></a>æ´»åŠ¨é€‰æ‹©é—®é¢˜ï¼ˆæœ€å¤§ç›¸å®¹æ´»åŠ¨å­é›†ï¼‰</h4><p>ğŸ“Œ é—®é¢˜æè¿°</p>
<p>ç»™å®š $ n $ ä¸ªæ´»åŠ¨çš„é›†åˆ $ C = {1, 2, â€¦, n} $ï¼Œæ¯ä¸ªæ´»åŠ¨ $ i $ éƒ½æœ‰èµ·å§‹æ—¶é—´ $ s_i $ å’Œç»“æŸæ—¶é—´ $ f_i $ï¼ˆæ»¡è¶³ $ s_i &lt; f_i $ï¼‰ã€‚è¦æ±‚é€‰æ‹©ä¸€ä¸ª<strong>æœ€å¤§ç›¸å®¹æ´»åŠ¨å­é›†</strong>ï¼Œä½¿å¾—è¢«é€‰ä¸­çš„æ´»åŠ¨ä¹‹é—´<strong>æ—¶é—´äº’ä¸é‡å </strong>ã€‚</p>
<p>ä¸¤ä¸ªæ´»åŠ¨ $ i $ å’Œ $ j $ ç›¸å®¹çš„æ¡ä»¶ä¸ºï¼š</p>
<script type="math/tex; mode=display">
s_i \geq f_j \quad \text{æˆ–} \quad s_j \geq f_i</script><p>âœ… è´ªå¿ƒç­–ç•¥ä¸æ­£ç¡®æ€§</p>
<p><strong>è´ªå¿ƒç­–ç•¥</strong>ï¼š  </p>
<ol>
<li><strong>æŒ‰æ´»åŠ¨ç»“æŸæ—¶é—´ $ f_i $ ä»å°åˆ°å¤§æ’åº</strong>ã€‚</li>
<li><strong>ä¾æ¬¡é€‰æ‹©ç»“æŸæœ€æ—©çš„æ´»åŠ¨</strong>ï¼Œå¹¶è·³è¿‡ä¸å…¶å†²çªçš„æ‰€æœ‰æ´»åŠ¨ã€‚</li>
</ol>
<p><strong>æ­£ç¡®æ€§è¯æ˜ï¼ˆå½’çº³æ³•ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åŸºç¡€æƒ…å†µ</strong>ï¼šå½“åªæœ‰ä¸€é¡¹æ´»åŠ¨æ—¶ï¼Œæ˜¾ç„¶é€‰æ‹©å®ƒæ˜¯æœ€ä¼˜çš„ã€‚</li>
<li><strong>å½’çº³å‡è®¾</strong>ï¼šå¯¹äºå‰ $ k $ ä¸ªæ´»åŠ¨ï¼Œè¯¥ç­–ç•¥èƒ½å¾—åˆ°æœ€å¤§ç›¸å®¹å­é›†ã€‚</li>
<li><strong>å½’çº³æ­¥éª¤</strong>ï¼šè€ƒè™‘ç¬¬ $ k+1 $ ä¸ªæ´»åŠ¨ã€‚è‹¥é€‰æ‹©ç»“æŸæœ€æ—©çš„æ´»åŠ¨ $ A $ï¼Œåˆ™å‰©ä¸‹çš„å¯ç”¨æ—¶é—´åŒºé—´ä¸º $ [f_A, +\infty) $ï¼Œæ­¤æ—¶åœ¨è¯¥åŒºé—´å†…ç»§ç»­åº”ç”¨è¯¥ç­–ç•¥ï¼Œä»èƒ½å¾—åˆ°æœ€å¤§å­é›†ã€‚è‹¥ä¸é€‰ $ A $ è€Œé€‰å…¶ä»–æ´»åŠ¨ï¼Œåˆ™å‰©ä½™æ—¶é—´æ›´å°‘ï¼Œæ— æ³•å®¹çº³æ›´å¤šæ´»åŠ¨ã€‚</li>
</ul>
<p>ğŸ§¾ Python å®ç°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">max_compatible_activities</span>(<span class="params">activities</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è¿”å›æœ€å¤§ç›¸å®¹æ´»åŠ¨å­é›†çš„æ•°é‡åŠå…·ä½“æ´»åŠ¨åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">    activities (list of tuples): æ¯ä¸ªå…ƒç´ ä¸º (s_i, f_i)ï¼Œè¡¨ç¤ºæ´»åŠ¨çš„èµ·å§‹å’Œç»“æŸæ—¶é—´</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    è¿”å›:</span></span><br><span class="line"><span class="string">    tuple: (æœ€å¤§æ´»åŠ¨æ•°é‡, ç›¸å®¹æ´»åŠ¨åˆ—è¡¨)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># æŒ‰ç»“æŸæ—¶é—´ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    sorted_activities = <span class="built_in">sorted</span>(activities, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br><span class="line">    </span><br><span class="line">    selected = []</span><br><span class="line">    last_end = -<span class="number">1</span>  <span class="comment"># ä¸Šä¸€ä¸ªé€‰ä¸­çš„æ´»åŠ¨çš„ç»“æŸæ—¶é—´</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> activity <span class="keyword">in</span> sorted_activities:</span><br><span class="line">        s, f = activity</span><br><span class="line">        <span class="keyword">if</span> s &gt;= last_end:</span><br><span class="line">            selected.append(activity)</span><br><span class="line">            last_end = f</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(selected), selected</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹æµ‹è¯•</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    activities = [</span><br><span class="line">        (<span class="number">1</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">5</span>), (<span class="number">0</span>, <span class="number">6</span>), (<span class="number">5</span>, <span class="number">7</span>), </span><br><span class="line">        (<span class="number">3</span>, <span class="number">8</span>), (<span class="number">5</span>, <span class="number">9</span>), (<span class="number">6</span>, <span class="number">10</span>), (<span class="number">8</span>, <span class="number">11</span>)</span><br><span class="line">    ]</span><br><span class="line">    count, selected = max_compatible_activities(activities)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æœ€å¤§ç›¸å®¹æ´»åŠ¨æ•°: <span class="subst">&#123;count&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ‰€é€‰æ´»åŠ¨:&quot;</span>, selected)</span><br></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨å †ä¼˜åŒ–çš„-Dijkstra-ç®—æ³•ï¼ˆPython-å®ç°ï¼‰"><a href="#ä½¿ç”¨å †ä¼˜åŒ–çš„-Dijkstra-ç®—æ³•ï¼ˆPython-å®ç°ï¼‰" class="headerlink" title="ä½¿ç”¨å †ä¼˜åŒ–çš„ Dijkstra ç®—æ³•ï¼ˆPython å®ç°ï¼‰"></a>ä½¿ç”¨å †ä¼˜åŒ–çš„ Dijkstra ç®—æ³•ï¼ˆPython å®ç°ï¼‰</h4><p>ğŸ§  <strong>æ ¸å¿ƒæ€æƒ³</strong></p>
<ul>
<li>ä½¿ç”¨<strong>æœ€å°å †</strong>ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰é«˜æ•ˆé€‰æ‹©å½“å‰è·ç¦»æœ€å°çš„èŠ‚ç‚¹ï¼Œé¿å…æš´åŠ›éå†ã€‚</li>
<li>æ¯æ¬¡ä»å †ä¸­å–å‡ºå½“å‰æœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ<strong>æ¾å¼›æ“ä½œ</strong>ï¼ˆRelaxationï¼‰ã€‚</li>
<li>è‹¥å‘ç°å †ä¸­å­˜åœ¨è¿‡æ—¶çš„è·¯å¾„è®°å½•ï¼Œåˆ™è·³è¿‡ï¼ˆå› ä¸ºå·²æ‰¾åˆ°æ›´ä¼˜è·¯å¾„ï¼‰ã€‚</li>
</ul>
<p>ğŸ“¦ <strong>å›¾çš„è¡¨ç¤º</strong></p>
<p>ä½¿ç”¨é‚»æ¥è¡¨ï¼ˆå­—å…¸åµŒå¥—åˆ—è¡¨ï¼‰ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph = &#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>: [(<span class="string">&#x27;B&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;C&#x27;</span>, <span class="number">4</span>)],</span><br><span class="line">    <span class="string">&#x27;B&#x27;</span>: [(<span class="string">&#x27;A&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;C&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;D&#x27;</span>, <span class="number">5</span>)],</span><br><span class="line">    <span class="string">&#x27;C&#x27;</span>: [(<span class="string">&#x27;A&#x27;</span>, <span class="number">4</span>), (<span class="string">&#x27;B&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;D&#x27;</span>, <span class="number">1</span>)],</span><br><span class="line">    <span class="string">&#x27;D&#x27;</span>: [(<span class="string">&#x27;B&#x27;</span>, <span class="number">5</span>), (<span class="string">&#x27;C&#x27;</span>, <span class="number">1</span>)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ğŸ§¾ <strong>Python ä»£ç å®ç°</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dijkstra_with_heap</span>(<span class="params">graph, start</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ä½¿ç”¨å †ä¼˜åŒ–çš„ Dijkstra ç®—æ³•æ±‚å•æºæœ€çŸ­è·¯å¾„ã€‚</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">    graph (dict): é‚»æ¥è¡¨å½¢å¼çš„å›¾ï¼Œæ ¼å¼ä¸º &#123;èŠ‚ç‚¹: [(é‚»æ¥èŠ‚ç‚¹, æƒé‡), ...]&#125;</span></span><br><span class="line"><span class="string">    start (str/int): èµ·å§‹èŠ‚ç‚¹</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    è¿”å›:</span></span><br><span class="line"><span class="string">    dict: ä»èµ·å§‹èŠ‚ç‚¹åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–è·ç¦»å­—å…¸ï¼Œæ‰€æœ‰èŠ‚ç‚¹åˆå§‹è·ç¦»ä¸ºæ— ç©·å¤§</span></span><br><span class="line">    distances = &#123;node: <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>) <span class="keyword">for</span> node <span class="keyword">in</span> graph&#125;</span><br><span class="line">    distances[start] = <span class="number">0</span>  <span class="comment"># èµ·å§‹èŠ‚ç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º 0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰ï¼Œå­˜å‚¨ (è·ç¦», èŠ‚ç‚¹)</span></span><br><span class="line">    heap = [(<span class="number">0</span>, start)]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> heap:</span><br><span class="line">        current_distance, current_node = heapq.heappop(heap)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å¦‚æœå½“å‰å¼¹å‡ºçš„è·ç¦»å¤§äºè®°å½•çš„è·ç¦»ï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹å·²è¢«å¤„ç†è¿‡ï¼Œè·³è¿‡</span></span><br><span class="line">        <span class="keyword">if</span> current_distance &gt; distances[current_node]:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># éå†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥è¾¹</span></span><br><span class="line">        <span class="keyword">for</span> neighbor, weight <span class="keyword">in</span> graph[current_node]:</span><br><span class="line">            distance = current_distance + weight</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># å¦‚æœæ‰¾åˆ°æ›´çŸ­è·¯å¾„ï¼Œæ›´æ–°è·ç¦»å¹¶æ¨å…¥å †</span></span><br><span class="line">            <span class="keyword">if</span> distance &lt; distances[neighbor]:</span><br><span class="line">                distances[neighbor] = distance</span><br><span class="line">                heapq.heappush(heap, (distance, neighbor))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> distances</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹æµ‹è¯•</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    graph = &#123;</span><br><span class="line">        <span class="string">&#x27;A&#x27;</span>: [(<span class="string">&#x27;B&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;C&#x27;</span>, <span class="number">4</span>)],</span><br><span class="line">        <span class="string">&#x27;B&#x27;</span>: [(<span class="string">&#x27;A&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;C&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;D&#x27;</span>, <span class="number">5</span>)],</span><br><span class="line">        <span class="string">&#x27;C&#x27;</span>: [(<span class="string">&#x27;A&#x27;</span>, <span class="number">4</span>), (<span class="string">&#x27;B&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;D&#x27;</span>, <span class="number">1</span>)],</span><br><span class="line">        <span class="string">&#x27;D&#x27;</span>: [(<span class="string">&#x27;B&#x27;</span>, <span class="number">5</span>), (<span class="string">&#x27;C&#x27;</span>, <span class="number">1</span>)]</span><br><span class="line">    &#125;</span><br><span class="line">    start_node = <span class="string">&#x27;A&#x27;</span></span><br><span class="line">    shortest_paths = dijkstra_with_heap(graph, start_node)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;ä»èŠ‚ç‚¹ <span class="subst">&#123;start_node&#125;</span> å‡ºå‘çš„æœ€çŸ­è·¯å¾„ï¼š&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> node, dist <span class="keyword">in</span> shortest_paths.items():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;start_node&#125;</span> â†’ <span class="subst">&#123;node&#125;</span> : <span class="subst">&#123;dist&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="å“ˆå¤«æ›¼ç¼–ç "><a href="#å“ˆå¤«æ›¼ç¼–ç " class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç "></a><strong>å“ˆå¤«æ›¼ç¼–ç </strong></h4><p><strong>2. æ„å»ºå“ˆå¤«æ›¼æ ‘çš„æ­¥éª¤</strong></p>
<p><strong>æ­¥éª¤ 1ï¼šç»Ÿè®¡å­—ç¬¦é¢‘ç‡</strong></p>
<p>å‡è®¾è¾“å…¥å­—ç¬¦ä¸²ä¸º <code>&quot;BCCABBDDAECCBAAAEC&quot;</code>ï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A: 6, B: 4, C: 5, D: 2, E: 1</span><br></pre></td></tr></table></figure></p>
<p><strong>æ­¥éª¤ 2ï¼šåˆ›å»ºæœ€å°å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</strong></p>
<ul>
<li>å°†æ¯ä¸ªå­—ç¬¦åŠå…¶é¢‘ç‡æ„å»ºæˆèŠ‚ç‚¹ï¼Œå¹¶æŒ‰é¢‘ç‡å‡åºæ’åˆ—ã€‚</li>
<li>åˆå§‹å †ï¼š<code>[E(1), D(2), B(4), C(5), A(6)]</code></li>
</ul>
<p><strong>æ­¥éª¤ 3ï¼šåˆå¹¶èŠ‚ç‚¹ï¼Œæ„å»ºå“ˆå¤«æ›¼æ ‘</strong></p>
<ol>
<li>å–å‡ºä¸¤ä¸ªé¢‘ç‡æœ€å°çš„èŠ‚ç‚¹ <code>E(1)</code> å’Œ <code>D(2)</code>ï¼Œåˆå¹¶ä¸ºæ–°èŠ‚ç‚¹ <code>ED(3)</code>ã€‚</li>
<li>å°†æ–°èŠ‚ç‚¹æ’å…¥å †ï¼š<code>[B(4), C(5), ED(3), A(6)]</code> â†’ é‡æ–°æ’åºä¸º <code>[ED(3), B(4), C(5), A(6)]</code></li>
<li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°å †ä¸­åªå‰©ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼ˆå“ˆå¤«æ›¼æ ‘ï¼‰ã€‚</li>
</ol>
<p>æœ€ç»ˆæ ‘ç»“æ„ç¤ºæ„å›¾ï¼ˆé¢‘ç‡è¶Šå°è¶Šé è¿‘å¶å­ï¼‰ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">        (18)</span><br><span class="line">       /    \</span><br><span class="line">     (8)    A(6)</span><br><span class="line">    /   \</span><br><span class="line"> (4)   (4)</span><br><span class="line">B     C(5)</span><br></pre></td></tr></table></figure></p>
<p><strong>æ­¥éª¤ 4ï¼šç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç è¡¨</strong></p>
<p>ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œå·¦å­æ ‘æ ‡è®°ä¸º <code>0</code>ï¼Œå³å­æ ‘æ ‡è®°ä¸º <code>1</code>ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A: 11</span><br><span class="line">B: 00</span><br><span class="line">C: 01</span><br><span class="line">D: 100</span><br><span class="line">E: 101</span><br></pre></td></tr></table></figure></p>
<p><strong>4. Python å®ç°å“ˆå¤«æ›¼ç¼–ç </strong></p>
<p>ä»¥ä¸‹ä»£ç å±•ç¤ºå¦‚ä½•ç”¨ Python æ„å»ºå“ˆå¤«æ›¼æ ‘å¹¶ç”Ÿæˆç¼–ç è¡¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HuffmanNode</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, char, freq</span>):</span><br><span class="line">        <span class="variable language_">self</span>.char = char</span><br><span class="line">        <span class="variable language_">self</span>.freq = freq</span><br><span class="line">        <span class="variable language_">self</span>.left = <span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.right = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__lt__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.freq &lt; other.freq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">build_huffman_tree</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="comment"># ç»Ÿè®¡é¢‘ç‡</span></span><br><span class="line">    frequency = Counter(text)</span><br><span class="line">    <span class="comment"># åˆ›å»ºæœ€å°å †</span></span><br><span class="line">    heap = [HuffmanNode(char, freq) <span class="keyword">for</span> char, freq <span class="keyword">in</span> frequency.items()]</span><br><span class="line">    heapq.heapify(heap)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åˆå¹¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(heap) &gt; <span class="number">1</span>:</span><br><span class="line">        left = heapq.heappop(heap)</span><br><span class="line">        right = heapq.heappop(heap)</span><br><span class="line">        merged = HuffmanNode(<span class="literal">None</span>, left.freq + right.freq)</span><br><span class="line">        merged.left = left</span><br><span class="line">        merged.right = right</span><br><span class="line">        heapq.heappush(heap, merged)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> heapq.heappop(heap) <span class="keyword">if</span> heap <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">build_huffman_codes</span>(<span class="params">root</span>):</span><br><span class="line">    codes = &#123;&#125;</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">node, current_code</span>):</span><br><span class="line">        <span class="keyword">if</span> node:</span><br><span class="line">            <span class="keyword">if</span> node.char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                codes[node.char] = current_code</span><br><span class="line">            dfs(node.left, current_code + <span class="string">&quot;0&quot;</span>)</span><br><span class="line">            dfs(node.right, current_code + <span class="string">&quot;1&quot;</span>)</span><br><span class="line">    dfs(root, <span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> codes</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">text = <span class="string">&quot;BCCABBDDAECCBAAAEC&quot;</span></span><br><span class="line">root = build_huffman_tree(text)</span><br><span class="line">codes = build_huffman_codes(root)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å“ˆå¤«æ›¼ç¼–ç è¡¨:&quot;</span>, codes)</span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å“ˆå¤«æ›¼ç¼–ç è¡¨: &#123;&#x27;B&#x27;: &#x27;0&#x27;, &#x27;C&#x27;: &#x27;10&#x27;, &#x27;A&#x27;: &#x27;11&#x27;, &#x27;D&#x27;: &#x27;110&#x27;, &#x27;E&#x27;: &#x27;111&#x27;&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="prim"><a href="#prim" class="headerlink" title="prim"></a>prim</h4><p>ä»¥ä¸‹æ˜¯ <strong>æœ´ç´  Prim ç®—æ³•</strong> çš„å®ç°ä¸è¯¦è§£ï¼Œé€‚ç”¨äºç¨ å¯†å›¾ï¼ˆå¦‚é‚»æ¥çŸ©é˜µå­˜å‚¨çš„å›¾ï¼‰ï¼š</p>
<p><strong>Prim ç®—æ³•æ ¸å¿ƒæ€æƒ³</strong></p>
<ol>
<li>ä»ä»»æ„é¡¶ç‚¹å¼€å§‹ï¼ˆå¦‚ <code>start=0</code>ï¼‰ã€‚</li>
<li>ç»´æŠ¤ä¸€ä¸ªé›†åˆ <code>selected</code>ï¼Œè®°å½•å·²åŠ å…¥ç”Ÿæˆæ ‘çš„é¡¶ç‚¹ã€‚</li>
<li>æ¯æ¬¡ä»æœªé€‰é¡¶ç‚¹ä¸­é€‰æ‹©åˆ°å½“å‰ç”Ÿæˆæ ‘çš„æœ€å°æƒé‡è¾¹çš„é¡¶ç‚¹ã€‚</li>
<li>é‡å¤æ­¥éª¤ 3ï¼Œç›´åˆ°æ‰€æœ‰é¡¶ç‚¹åŠ å…¥ç”Ÿæˆæ ‘ã€‚</li>
</ol>
<p>æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(VÂ²)</strong>ï¼Œå…¶ä¸­ V æ˜¯é¡¶ç‚¹æ•°ã€‚</p>
<p><strong>Python å®ç°</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">prim</span>(<span class="params">graph, start=<span class="number">0</span></span>):</span><br><span class="line">    V = <span class="built_in">len</span>(graph)  <span class="comment"># é¡¶ç‚¹æ•°é‡</span></span><br><span class="line">    selected = [<span class="literal">False</span>] * V  <span class="comment"># æ ‡è®°é¡¶ç‚¹æ˜¯å¦å·²åŠ å…¥ç”Ÿæˆæ ‘</span></span><br><span class="line">    key = [sys.maxsize] * V  <span class="comment"># è®°å½•å„é¡¶ç‚¹åˆ°ç”Ÿæˆæ ‘çš„æœ€å°æƒé‡</span></span><br><span class="line">    parent = [-<span class="number">1</span>] * V         <span class="comment"># è®°å½•æœ€å°ç”Ÿæˆæ ‘çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    key[start] = <span class="number">0</span>  <span class="comment"># èµ·å§‹é¡¶ç‚¹çš„æƒå€¼è®¾ä¸º0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(V):</span><br><span class="line">        <span class="comment"># æ‰¾åˆ°å½“å‰æœªé€‰é¡¶ç‚¹ä¸­ key æœ€å°çš„é¡¶ç‚¹ u</span></span><br><span class="line">        min_key = sys.maxsize</span><br><span class="line">        u = -<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> <span class="built_in">range</span>(V):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> selected[v] <span class="keyword">and</span> key[v] &lt; min_key:</span><br><span class="line">                min_key = key[v]</span><br><span class="line">                u = v</span><br><span class="line">        <span class="keyword">if</span> u == -<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">break</span>  <span class="comment"># æ— è¿é€šé¡¶ç‚¹ï¼Œç”Ÿæˆæ ‘ç»“æŸ</span></span><br><span class="line">        </span><br><span class="line">        selected[u] = <span class="literal">True</span>  <span class="comment"># å°† u åŠ å…¥ç”Ÿæˆæ ‘</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–° u çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹çš„ key å€¼</span></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> <span class="built_in">range</span>(V):</span><br><span class="line">            <span class="keyword">if</span> graph[u][v] &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="keyword">not</span> selected[v] <span class="keyword">and</span> graph[u][v] &lt; key[v]:</span><br><span class="line">                key[v] = graph[u][v]</span><br><span class="line">                parent[v] = u  <span class="comment"># è®°å½• v çš„çˆ¶èŠ‚ç‚¹ä¸º u</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> key, parent</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šé‚»æ¥çŸ©é˜µè¡¨ç¤ºçš„å›¾</span></span><br><span class="line">graph = [</span><br><span class="line">    [<span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">0</span>],</span><br><span class="line">    [<span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">7</span>],</span><br><span class="line">    [<span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">9</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">0</span>]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">key, parent = prim(graph)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æœ€å°ç”Ÿæˆæ ‘çš„æ€»æƒé‡:&quot;</span>, <span class="built_in">sum</span>(key))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çˆ¶èŠ‚ç‚¹æ•°ç»„:&quot;</span>, parent)</span><br></pre></td></tr></table></figure>
<h4 id="kruskal"><a href="#kruskal" class="headerlink" title="kruskal"></a>kruskal</h4><p><strong>2. Kruskal ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³</strong></p>
<ol>
<li><strong>æŒ‰æƒé‡ä»å°åˆ°å¤§æ’åºæ‰€æœ‰è¾¹</strong>ã€‚</li>
<li><strong>ä¾æ¬¡é€‰æ‹©è¾¹</strong>ï¼š<ul>
<li>å¦‚æœè¿™æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹ä¸åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼ˆå³ä¸å½¢æˆç¯ï¼‰ï¼Œåˆ™å°†è¿™æ¡è¾¹åŠ å…¥ç”Ÿæˆæ ‘ã€‚</li>
<li>å¦åˆ™è·³è¿‡è¿™æ¡è¾¹ã€‚</li>
</ul>
</li>
<li><strong>é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°ç”Ÿæˆæ ‘ä¸­æœ‰ <code>V-1</code> æ¡è¾¹</strong>ï¼ˆ<code>V</code> æ˜¯é¡¶ç‚¹æ•°ï¼‰ã€‚</li>
</ol>
<p><strong>6. Python å®ç°ç¤ºä¾‹</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, size</span>):</span><br><span class="line">        <span class="variable language_">self</span>.parent = <span class="built_in">list</span>(<span class="built_in">range</span>(size))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.parent[x] != x:</span><br><span class="line">            <span class="variable language_">self</span>.parent[x] = <span class="variable language_">self</span>.find(<span class="variable language_">self</span>.parent[x])  <span class="comment"># è·¯å¾„å‹ç¼©</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.parent[x]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self, x, y</span>):</span><br><span class="line">        rootX = <span class="variable language_">self</span>.find(x)</span><br><span class="line">        rootY = <span class="variable language_">self</span>.find(y)</span><br><span class="line">        <span class="keyword">if</span> rootX == rootY:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># å·²åœ¨åŒä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        <span class="variable language_">self</span>.parent[rootY] = rootX  <span class="comment"># åˆå¹¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">kruskal</span>(<span class="params">n, edges</span>):</span><br><span class="line">    <span class="comment"># edges: [(æƒé‡, u, v), ...]</span></span><br><span class="line">    edges.sort()</span><br><span class="line">    uf = UnionFind(n)</span><br><span class="line">    mst = []</span><br><span class="line">    cost = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> weight, u, v <span class="keyword">in</span> edges:</span><br><span class="line">        <span class="keyword">if</span> uf.union(u, v):</span><br><span class="line">            mst.append((u, v))</span><br><span class="line">            cost += weight</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(mst) == n - <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">break</span>  <span class="comment"># å·²é€‰å¤Ÿ n-1 æ¡è¾¹</span></span><br><span class="line">    <span class="keyword">return</span> mst, cost</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">n = <span class="number">5</span>  <span class="comment"># é¡¶ç‚¹æ•°ï¼ˆ0~4ï¼‰</span></span><br><span class="line">edges = [</span><br><span class="line">    (<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>),  <span class="comment"># A(0)-B(1)</span></span><br><span class="line">    (<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>),  <span class="comment"># B(1)-C(2)</span></span><br><span class="line">    (<span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>),  <span class="comment"># C(2)-D(3)</span></span><br><span class="line">    (<span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>),  <span class="comment"># D(3)-E(4)</span></span><br><span class="line">    (<span class="number">5</span>, <span class="number">0</span>, <span class="number">4</span>),  <span class="comment"># A(0)-E(4)</span></span><br><span class="line">    (<span class="number">6</span>, <span class="number">1</span>, <span class="number">3</span>)   <span class="comment"># B(1)-D(3)</span></span><br><span class="line">]</span><br><span class="line">mst, total = kruskal(n, edges)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MST è¾¹ï¼š&quot;</span>, mst)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ€»æƒé‡ï¼š&quot;</span>, total)</span><br></pre></td></tr></table></figure>
<h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><h4 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">def unbounded_knapsack_2d(weights, values, capacity):</span><br><span class="line">    n = len(weights)</span><br><span class="line">    dp = [[0] * (capacity + 1) for _ in range(n + 1)]</span><br><span class="line"></span><br><span class="line">    for i in range(1, n + 1):</span><br><span class="line">        for j in range(1, capacity + 1):</span><br><span class="line">            if weights[i-1] &lt;= j:</span><br><span class="line">                dp[i][j] = max(</span><br><span class="line">                    dp[i-1][j],</span><br><span class="line">                    dp[i][j - weights[i-1]] + values[i-1]</span><br><span class="line">                )</span><br><span class="line">            else:</span><br><span class="line">                dp[i][j] = dp[i-1][j]</span><br><span class="line">    </span><br><span class="line">    return dp[n][capacity]</span><br><span class="line"></span><br><span class="line"># ç¤ºä¾‹</span><br><span class="line">weights = [1, 2, 3]</span><br><span class="line">values = [15, 20, 50]</span><br><span class="line">capacity = 5</span><br><span class="line">print(unbounded_knapsack_2d(weights, values, capacity))  # è¾“å‡º 80</span><br></pre></td></tr></table></figure>
<h4 id="æœ€ä¼˜äºŒå‰æœç´¢æ ‘"><a href="#æœ€ä¼˜äºŒå‰æœç´¢æ ‘" class="headerlink" title="æœ€ä¼˜äºŒå‰æœç´¢æ ‘"></a>æœ€ä¼˜äºŒå‰æœç´¢æ ‘</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">def optimal_bst(p, q, n):</span><br><span class="line">    # åˆå§‹åŒ– dp å’Œ w æ•°ç»„ï¼ˆå¤§å°ä¸º (n+2) x (n+2)ï¼Œé¿å…è¶Šç•Œï¼‰</span><br><span class="line">    dp = [[0] * (n+2) for _ in range(n+2)]</span><br><span class="line">    w = [[0] * (n+2) for _ in range(n+2)]</span><br><span class="line">    root = [[0] * (n+2) for _ in range(n+2)]</span><br><span class="line"></span><br><span class="line">    # åˆå§‹åŒ–è™šæ‹Ÿé”®çš„æƒé‡</span><br><span class="line">    for i in range(n+1):</span><br><span class="line">        w[i][i] = q[i]</span><br><span class="line">    </span><br><span class="line">    # å¡«è¡¨é¡ºåºï¼šé“¾é•¿ä» 1 åˆ° n</span><br><span class="line">    for l in range(1, n+1):  # l ä¸ºå…³é”®å­—æ•°é‡</span><br><span class="line">        for i in range(n - l + 1):</span><br><span class="line">            j = i + l</span><br><span class="line">            w[i][j] = w[i][j-1] + p[j] + q[j]</span><br><span class="line">            dp[i][j] = float(&#x27;inf&#x27;)</span><br><span class="line">            # æšä¸¾æ ¹èŠ‚ç‚¹ rï¼ˆi &lt; r â‰¤ jï¼‰</span><br><span class="line">            for r in range(i+1, j+1):</span><br><span class="line">                cost = dp[i][r-1] + dp[r][j]</span><br><span class="line">                if cost &lt; dp[i][j]:</span><br><span class="line">                    dp[i][j] = cost</span><br><span class="line">                    root[i][j] = r</span><br><span class="line">    </span><br><span class="line">    return dp[0][n], root</span><br><span class="line"></span><br><span class="line"># ç¤ºä¾‹è¾“å…¥</span><br><span class="line">p = [0, 0.15, 0.1, 0.05]  # å…³é”®å­—æ¦‚ç‡ï¼ˆä» kâ‚ å¼€å§‹ï¼‰</span><br><span class="line">q = [0.05, 0.1, 0.05, 0.05]  # è™šæ‹Ÿé”®æ¦‚ç‡ï¼ˆä» dâ‚€ å¼€å§‹ï¼‰</span><br><span class="line">n = 3  # å…³é”®å­—æ•°é‡</span><br><span class="line">min_cost, root = optimal_bst(p, q, n)</span><br><span class="line">print(&quot;æœ€å°æœŸæœ›æœç´¢ä»£ä»·:&quot;, min_cost)</span><br></pre></td></tr></table></figure>
<h3 id="å›æº¯æ³•"><a href="#å›æº¯æ³•" class="headerlink" title="å›æº¯æ³•"></a>å›æº¯æ³•</h3><h4 id="å…«çš‡å"><a href="#å…«çš‡å" class="headerlink" title="å…«çš‡å"></a>å…«çš‡å</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">https://leetcode.cn/problems/n-queens/</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">n=4</span><br><span class="line">ans=[]</span><br><span class="line">path=[]</span><br><span class="line">onpath=[False]*n#è®°å½•å“ªä¸€åˆ—æœ‰çš‡å</span><br><span class="line">diag1=[False]*(2*n-1)#è®°å½•ä¸»å¯¹è§’çº¿æ˜¯å¦æœ‰çš‡å</span><br><span class="line">diag2=[False]*(2*n-1)#è®°å½•å‰¯å¯¹è§’çº¿æ˜¯å¦æœ‰çš‡å</span><br><span class="line">def dfs(row,path:list):</span><br><span class="line">    if row==n:</span><br><span class="line">        #print(path)</span><br><span class="line">        chess=[]</span><br><span class="line">        # ç”Ÿæˆæ£‹ç›˜</span><br><span class="line">        for i in range(n):</span><br><span class="line">            chess.append(&quot;.&quot;*path[i]+&quot;Q&quot;+&quot;.&quot;*(n-path[i]-1))</span><br><span class="line">        ans.append(chess)</span><br><span class="line">        return</span><br><span class="line">    for col in range(n):</span><br><span class="line">        if isvalid(row,col):</span><br><span class="line">            path.append(col)#æ”¾ç½®çš‡å</span><br><span class="line">            onpath[col]=diag1[row+col]=diag2[row-col+n-1]=True</span><br><span class="line">            dfs(row+1,path)#é€’å½’ä¸‹ä¸€è¡Œ</span><br><span class="line">            path.pop()#å›æº¯ï¼Œå–æ¶ˆæ”¾ç½®</span><br><span class="line">            onpath[col]=diag1[row+col]=diag2[row-col+n-1]=False</span><br><span class="line">    </span><br><span class="line">def isvalid(row,col):</span><br><span class="line">    if onpath[col] or diag1[row+col] or diag2[row-col+n-1]:</span><br><span class="line">        return False</span><br><span class="line">    return True</span><br><span class="line">dfs(0,path)</span><br><span class="line">print(ans)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/10/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/06/10/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA%EF%BC%89/" class="post-title-link" itemprop="url">æœºå™¨å­¦ä¹ â€”â€”æœŸæœ«å¤ä¹ ï¼ˆæŸ¥æ¼è¡¥ç¼ºï¼‰</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-10 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-10T00:00:00+08:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-06-16 07:35:40" itemprop="dateModified" datetime="2025-06-16T07:35:40+08:00">2025-06-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤§äºŒä¸‹</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">æœºå™¨å­¦ä¹ </span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="é«˜æ–¯æ ¸ï¼ˆRBFæ ¸ï¼‰ä¸­-ÏƒÂ²-çš„ä½œç”¨åŠå…¶å¯¹æ¨¡å‹çš„å½±å“"><a href="#é«˜æ–¯æ ¸ï¼ˆRBFæ ¸ï¼‰ä¸­-ÏƒÂ²-çš„ä½œç”¨åŠå…¶å¯¹æ¨¡å‹çš„å½±å“" class="headerlink" title="é«˜æ–¯æ ¸ï¼ˆRBFæ ¸ï¼‰ä¸­ ÏƒÂ² çš„ä½œç”¨åŠå…¶å¯¹æ¨¡å‹çš„å½±å“"></a>é«˜æ–¯æ ¸ï¼ˆRBFæ ¸ï¼‰ä¸­ ÏƒÂ² çš„ä½œç”¨åŠå…¶å¯¹æ¨¡å‹çš„å½±å“</h3><p>é«˜æ–¯æ ¸ï¼ˆRBFæ ¸ï¼‰çš„å½¢å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
K(x, x') = \exp\left(-\frac{\|x - x'\|^2}{2\sigma^2}\right)</script><p>å…¶ä¸­ $ |x - xâ€™| $ æ˜¯ä¸¤ä¸ªæ ·æœ¬ç‚¹ä¹‹é—´çš„æ¬§æ°è·ç¦»ï¼Œ$ \sigma^2 $ æ˜¯é«˜æ–¯æ ¸çš„æ–¹å·®å‚æ•°ï¼Œæ§åˆ¶æ ¸å‡½æ•°çš„â€œå®½åº¦â€æˆ–â€œå±€éƒ¨æ€§â€ã€‚</p>
<p><strong>1. ÏƒÂ² çš„å‡ ä½•æ„ä¹‰ï¼šæ ¸å‡½æ•°çš„â€œå½±å“èŒƒå›´â€</strong></p>
<ul>
<li><p><strong>ÏƒÂ² è¾ƒå°æ—¶</strong>ï¼š<br>åˆ†æ¯è¾ƒå°ï¼ŒæŒ‡æ•°é¡¹ä¸­çš„ $ \frac{|x - xâ€™|^2}{2\sigma^2} $ ä¼šæ›´å¤§ï¼Œå¯¼è‡´æŒ‡æ•°å‡½æ•°å€¼å¿«é€Ÿè¡°å‡ã€‚<br><strong>ç»“æœ</strong>ï¼šåªæœ‰å½“ $ x $ å’Œ $ xâ€™ $ éå¸¸æ¥è¿‘æ—¶ï¼Œæ ¸å‡½æ•°å€¼æ‰æ¥è¿‘1ï¼›ç¨è¿œä¸€ç‚¹çš„è·ç¦»ä¼šå¯¼è‡´æ ¸å‡½æ•°å€¼è¿…é€Ÿè¶‹è¿‘äº0ã€‚<br><strong>ç›´è§‚ç†è§£</strong>ï¼šæ¨¡å‹åªå…³æ³¨å±€éƒ¨åŒºåŸŸå†…çš„æ ·æœ¬ç‚¹ï¼Œå†³ç­–è¾¹ç•Œä¼šå›´ç»•æ¯ä¸ªæ ·æœ¬ç‚¹â€œå¼¯æ›²â€ï¼Œå½¢æˆå¤æ‚çš„éçº¿æ€§å½¢çŠ¶ã€‚</p>
</li>
<li><p><strong>ÏƒÂ² è¾ƒå¤§æ—¶</strong>ï¼š<br>åˆ†æ¯è¾ƒå¤§ï¼ŒæŒ‡æ•°é¡¹ä¸­çš„ $ \frac{|x - xâ€™|^2}{2\sigma^2} $ ä¼šæ›´å°ï¼ŒæŒ‡æ•°å‡½æ•°å€¼è¡°å‡ç¼“æ…¢ã€‚<br><strong>ç»“æœ</strong>ï¼šå³ä½¿ $ x $ å’Œ $ xâ€™ $ ç›¸è·è¾ƒè¿œï¼Œæ ¸å‡½æ•°å€¼ä»å¯èƒ½è¾ƒå¤§ã€‚<br><strong>ç›´è§‚ç†è§£</strong>ï¼šæ¨¡å‹ä¼šè€ƒè™‘æ›´å¤§èŒƒå›´çš„æ ·æœ¬ç‚¹ï¼Œå†³ç­–è¾¹ç•Œæ›´å¹³æ»‘ï¼Œæ¥è¿‘çº¿æ€§åˆ†éš”ã€‚</p>
</li>
</ul>
<p><strong>2. ÏƒÂ² å¦‚ä½•å½±å“æ¨¡å‹çš„å¤æ‚åº¦</strong></p>
<ul>
<li><p><strong>ÏƒÂ² å° â†’ å±€éƒ¨æ•æ„Ÿï¼Œé«˜å¤æ‚åº¦</strong>ï¼š  </p>
<ul>
<li>æ¯ä¸ªæ ·æœ¬ç‚¹çš„å½±å“èŒƒå›´æœ‰é™ï¼Œæ¨¡å‹éœ€è¦â€œè®°ä½â€æ¯ä¸ªå±€éƒ¨åŒºåŸŸçš„ç»†èŠ‚ã€‚  </li>
<li>å†³ç­–è¾¹ç•Œä¼šå›´ç»•æ¯ä¸ªæ ·æœ¬ç‚¹å‰§çƒˆå¼¯æ›²ï¼Œç”šè‡³å½¢æˆå­¤ç«‹çš„ç¯å½¢åŒºåŸŸï¼ˆå¦‚å›¾1ï¼‰ã€‚  </li>
<li>å®¹æ˜“è¿‡æ‹Ÿåˆï¼šæ¨¡å‹è¿‡åº¦é€‚åº”è®­ç»ƒæ•°æ®çš„å™ªå£°å’Œç»†èŠ‚ã€‚</li>
</ul>
</li>
<li><p><strong>ÏƒÂ² å¤§ â†’ å…¨å±€å¹³æ»‘ï¼Œä½å¤æ‚åº¦</strong>ï¼š  </p>
<ul>
<li>æ ·æœ¬ç‚¹çš„å½±å“èŒƒå›´æ‰©å¤§ï¼Œæ¨¡å‹å€¾å‘äºç”¨ç®€å•çš„å…¨å±€æ¨¡å¼åŒºåˆ†æ•°æ®ã€‚  </li>
<li>å†³ç­–è¾¹ç•Œæ¥è¿‘çº¿æ€§ï¼ˆå¦‚å›¾2ï¼‰ï¼Œå¯èƒ½æ— æ³•æ•æ‰æ•°æ®ä¸­çš„éçº¿æ€§ç»“æ„ã€‚  </li>
<li>å®¹æ˜“æ¬ æ‹Ÿåˆï¼šæ¨¡å‹æ— æ³•æ‹Ÿåˆæ•°æ®ä¸­çš„å±€éƒ¨ç‰¹å¾ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. æ•°å­¦ä¸ç›´è§‚ç¤ºä¾‹</strong></p>
<p>å‡è®¾ä¸¤ä¸ªæ ·æœ¬ç‚¹ $ x_1 $ å’Œ $ x_2 $ è·ç¦»ä¸º $ d $ï¼Œæ ¸å‡½æ•°å€¼ $ K(x_1, x_2) $ éš $ \sigma^2 $ çš„å˜åŒ–å¦‚ä¸‹ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>$ \sigma^2 $</th>
<th>$ d = 1 $</th>
<th>$ d = 2 $</th>
<th>$ d = 3 $</th>
</tr>
</thead>
<tbody>
<tr>
<td>$ \sigma^2 = 0.1 $</td>
<td>$ \exp(-5) \approx 0.0067 $</td>
<td>$ \exp(-20) \approx 2.06 \times 10^{-9} $</td>
<td>$ \exp(-45) \approx 2.87 \times 10^{-20} $</td>
</tr>
<tr>
<td>$ \sigma^2 = 1 $</td>
<td>$ \exp(-0.5) \approx 0.6065 $</td>
<td>$ \exp(-2) \approx 0.1353 $</td>
<td>$ \exp(-4.5) \approx 0.0111 $</td>
</tr>
<tr>
<td>$ \sigma^2 = 10 $</td>
<td>$ \exp(-0.05) \approx 0.9512 $</td>
<td>$ \exp(-0.2) \approx 0.8187 $</td>
<td>$ \exp(-0.45) \approx 0.6376 $</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><strong>ÏƒÂ² å°ï¼ˆå¦‚ 0.1ï¼‰</strong>ï¼šè·ç¦»ç¨å¤§çš„æ ·æœ¬ç‚¹ä¹‹é—´å‡ ä¹æ— å…³è”ï¼Œæ¨¡å‹ä»…ä¾èµ–æé‚»è¿‘çš„ç‚¹åšå†³ç­–ã€‚  </li>
<li><strong>ÏƒÂ² å¤§ï¼ˆå¦‚ 10ï¼‰</strong>ï¼šå³ä½¿è·ç¦»è¾ƒè¿œçš„æ ·æœ¬ç‚¹ä»æœ‰æ˜¾è‘—å…³è”ï¼Œæ¨¡å‹å†³ç­–è¾¹ç•Œæ›´å¹³æ»‘ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨é«˜æ–¯æ ¸ä¹‹å‰è¦å½’ä¸€åŒ–"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨é«˜æ–¯æ ¸ä¹‹å‰è¦å½’ä¸€åŒ–" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨é«˜æ–¯æ ¸ä¹‹å‰è¦å½’ä¸€åŒ–"></a>ä¸ºä»€ä¹ˆä½¿ç”¨é«˜æ–¯æ ¸ä¹‹å‰è¦å½’ä¸€åŒ–</h3><p>åœ¨ä½¿ç”¨é«˜æ–¯æ ¸ï¼ˆRBFæ ¸ï¼‰ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œå½’ä¸€åŒ–ï¼Œæ˜¯æœºå™¨å­¦ä¹ ä¸­è‡³å…³é‡è¦çš„é¢„å¤„ç†æ­¥éª¤ã€‚å…¶æ ¸å¿ƒåŸå› æ˜¯<strong>é«˜æ–¯æ ¸å¯¹ç‰¹å¾çš„å°ºåº¦ï¼ˆscaleï¼‰æåº¦æ•æ„Ÿ</strong>ï¼Œè€Œå½’ä¸€åŒ–èƒ½æ¶ˆé™¤ç‰¹å¾é—´å°ºåº¦å·®å¼‚å¸¦æ¥çš„è´Ÿé¢å½±å“ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š</p>
<ol>
<li><strong>é«˜æ–¯æ ¸çš„æœ¬è´¨ä¾èµ–è·ç¦»è®¡ç®—</strong></li>
</ol>
<p>é«˜æ–¯æ ¸çš„å…¬å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
K(x, x') = \exp\left(-\frac{\|x - x'\|^2}{2\sigma^2}\right)</script><p>å…¶ä¸­ $|x - xâ€™|$ æ˜¯ä¸¤ä¸ªæ ·æœ¬ç‚¹ä¹‹é—´çš„æ¬§æ°è·ç¦»ã€‚<br><strong>é—®é¢˜</strong>ï¼šæ¬§æ°è·ç¦»çš„è®¡ç®—å—ç‰¹å¾å°ºåº¦å½±å“æå¤§ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>å‡è®¾ç‰¹å¾Açš„å–å€¼èŒƒå›´æ˜¯ [0,1]ï¼Œç‰¹å¾Bçš„å–å€¼èŒƒå›´æ˜¯ [0,1000]ã€‚</li>
<li>æ­¤æ—¶ç‰¹å¾Bçš„å·®å¼‚ä¼šä¸»å¯¼è·ç¦»è®¡ç®—ï¼ˆå¦‚ $ (0.5)^2 + (500)^2 \approx 250000 $ï¼‰ï¼Œç‰¹å¾Açš„è´¡çŒ®å‡ ä¹è¢«å¿½ç•¥ã€‚</li>
</ul>
<p><strong>ç»“æœ</strong>ï¼šæ¨¡å‹å†³ç­–è¾¹ç•Œä¼šè¿‡åº¦ä¾èµ–å°ºåº¦å¤§çš„ç‰¹å¾ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</p>
<ol>
<li><strong>å½’ä¸€åŒ–æ¶ˆé™¤ç‰¹å¾å°ºåº¦å·®å¼‚</strong></li>
</ol>
<p>å½’ä¸€åŒ–ï¼ˆå¦‚æ ‡å‡†åŒ–æˆ–æœ€å°-æœ€å¤§ç¼©æ”¾ï¼‰å°†æ‰€æœ‰ç‰¹å¾è°ƒæ•´åˆ°ç›¸ä¼¼çš„æ•°å€¼èŒƒå›´ï¼ˆå¦‚ [0,1] æˆ–å‡å€¼ä¸º0ã€æ–¹å·®ä¸º1ï¼‰ã€‚<br><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li><strong>å…¬å¹³æ¯”è¾ƒç‰¹å¾</strong>ï¼šæ¯ä¸ªç‰¹å¾å¯¹è·ç¦»çš„è´¡çŒ®æƒé‡å‡è¡¡ã€‚</li>
<li><strong>é˜²æ­¢â€œå¤§å°ºåº¦ç‰¹å¾ä¸»å¯¼â€</strong>ï¼šé¿å…æ¨¡å‹å› æŸäº›ç‰¹å¾æ•°å€¼è¿‡å¤§è€Œå¿½ç•¥å…¶ä»–é‡è¦ç‰¹å¾ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼š<br>å‡è®¾ä¸¤ä¸ªæ ·æœ¬ï¼š  </p>
<ul>
<li>æœªå½’ä¸€åŒ–ï¼š$ x_1 = [1, 100], x_2 = [2, 200] $ï¼Œè·ç¦»ä¸º $ \sqrt{(1)^2 + (100)^2} \approx 100.005 $ã€‚  </li>
<li>å½’ä¸€åŒ–åï¼ˆå‡è®¾ç¼©æ”¾åˆ° [0,1]ï¼‰ï¼š$ x_1 = [0.1, 0.1], x_2 = [0.2, 0.2] $ï¼Œè·ç¦»ä¸º $ \sqrt{(0.1)^2 + (0.1)^2} \approx 0.141 $ã€‚<br>æ­¤æ—¶ä¸¤ä¸ªç‰¹å¾çš„è´¡çŒ®æ¯”ä¾‹ä» 1:100 å˜ä¸º 1:1ã€‚</li>
</ul>
<ol>
<li><strong>é«˜æ–¯æ ¸å‚æ•° ÏƒÂ² çš„æœ‰æ•ˆæ€§ä¾èµ–å½’ä¸€åŒ–</strong></li>
</ol>
<p>é«˜æ–¯æ ¸çš„å‚æ•° ÏƒÂ²ï¼ˆæˆ– Î³ = 1/ÏƒÂ²ï¼‰å†³å®šäº†æ ¸å‡½æ•°çš„â€œå±€éƒ¨æ€§â€ï¼ˆå³æ¨¡å‹å…³æ³¨å±€éƒ¨è¿˜æ˜¯å…¨å±€æ¨¡å¼ï¼‰ã€‚  </p>
<ul>
<li><strong>æœªå½’ä¸€åŒ–æ—¶</strong>ï¼šÏƒÂ² çš„é€‰æ‹©å¿…é¡»åŒæ—¶é€‚åº”ä¸åŒå°ºåº¦çš„ç‰¹å¾ï¼Œå¯¼è‡´å‚æ•°è°ƒä¼˜å›°éš¾ã€‚<ul>
<li>ä¾‹å¦‚ï¼šè‹¥æŸç‰¹å¾å°ºåº¦æå¤§ï¼Œéœ€è¦æå°çš„ ÏƒÂ² æ‰èƒ½æ•æ‰å…¶å±€éƒ¨å˜åŒ–ï¼Œä½†è¿™å¯èƒ½ä½¿å…¶ä»–å°å°ºåº¦ç‰¹å¾çš„æ ¸å‡½æ•°å¤±æ•ˆã€‚</li>
</ul>
</li>
<li><strong>å½’ä¸€åŒ–å</strong>ï¼šæ‰€æœ‰ç‰¹å¾å°ºåº¦ä¸€è‡´ï¼ŒÏƒÂ² çš„è°ƒå‚åªéœ€å…³æ³¨æ•°æ®æ•´ä½“åˆ†å¸ƒï¼Œè€Œéå•ä¸ªç‰¹å¾çš„å°ºåº¦ã€‚</li>
</ul>
<h3 id="SVMçš„HingeæŸå¤±å‡½æ•°"><a href="#SVMçš„HingeæŸå¤±å‡½æ•°" class="headerlink" title="SVMçš„HingeæŸå¤±å‡½æ•°"></a>SVMçš„HingeæŸå¤±å‡½æ•°</h3><p>HingeæŸå¤±å‡½æ•°æ˜¯æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰ä¸­ç”¨äºåˆ†ç±»ä»»åŠ¡çš„æ ¸å¿ƒæŸå¤±å‡½æ•°ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯<strong>æœ€å¤§åŒ–åˆ†ç±»é—´éš”</strong>ï¼ŒåŒæ—¶æƒ©ç½šåˆ†ç±»é”™è¯¯æˆ–ç½®ä¿¡åº¦ä¸è¶³çš„æ ·æœ¬ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š</p>
<p><strong>1. æ•°å­¦å®šä¹‰</strong></p>
<p>å¯¹äºäºŒåˆ†ç±»é—®é¢˜ï¼Œå‡è®¾çœŸå®æ ‡ç­¾ $ y \in {+1, -1} $ï¼Œæ¨¡å‹è¾“å‡º $ f(x) = w^T x + b $ï¼Œåˆ™ <strong>HingeæŸå¤±</strong> çš„å®šä¹‰ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\mathcal{L}(y, f(x)) = \max(0, 1 - y \cdot f(x))</script><ul>
<li><strong>å…³é”®å«ä¹‰</strong>ï¼š<ul>
<li>å½“ $ y \cdot f(x) \geq 1 $ï¼šæ ·æœ¬è¢«æ­£ç¡®åˆ†ç±»ä¸”ç½®ä¿¡åº¦è¶³å¤Ÿï¼ˆä½äºé—´éš”è¾¹ç•Œå¤–ï¼‰ï¼ŒæŸå¤±ä¸º0ã€‚</li>
<li>å½“ $ y \cdot f(x) &lt; 1 $ï¼šæ ·æœ¬ä½äºé—´éš”å†…æˆ–è¢«é”™è¯¯åˆ†ç±»ï¼ŒæŸå¤±éš $ y \cdot f(x) $ çº¿æ€§å¢é•¿ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. å‡ ä½•æ„ä¹‰ï¼šæœ€å¤§åŒ–é—´éš”</strong></p>
<p>HingeæŸå¤±çš„è®¾è®¡ä¸SVMçš„<strong>ç¡¬é—´éš”ï¼ˆHard Marginï¼‰</strong>å’Œ<strong>è½¯é—´éš”ï¼ˆSoft Marginï¼‰</strong>ç›®æ ‡ç›´æ¥ç›¸å…³ï¼š</p>
<ul>
<li><strong>ç¡¬é—´éš”</strong>ï¼šè¦æ±‚æ‰€æœ‰æ ·æœ¬ä¸¥æ ¼æ»¡è¶³ $ y_i (w^T x_i + b) \geq 1 $ï¼Œå³å®Œå…¨çº¿æ€§å¯åˆ†ã€‚</li>
<li><strong>è½¯é—´éš”</strong>ï¼šå…è®¸éƒ¨åˆ†æ ·æœ¬è¿åé—´éš”çº¦æŸï¼Œé€šè¿‡HingeæŸå¤±å°†çº¦æŸè½¬åŒ–ä¸ºä¼˜åŒ–ç›®æ ‡ï¼š<script type="math/tex; mode=display">
\min_{w,b} \left( \frac{1}{2} \|w\|^2 + C \sum_{i=1}^n \max(0, 1 - y_i (w^T x_i + b)) \right)</script><ul>
<li><strong>ç¬¬ä¸€é¡¹</strong> $ \frac{1}{2} |w|^2 $ï¼šæœ€å¤§åŒ–é—´éš”ï¼ˆé—´éš”å®½åº¦ä¸ $ |w| $ æˆåæ¯”ï¼‰ã€‚</li>
<li><strong>ç¬¬äºŒé¡¹</strong> HingeæŸå¤±ï¼šæƒ©ç½šè¿åé—´éš”çº¦æŸçš„æ ·æœ¬ï¼Œ$ C $ æ§åˆ¶æƒ©ç½šå¼ºåº¦ã€‚</li>
</ul>
</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆæ ‘çš„æ•°é‡å¢åŠ ä¸ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ ‘çš„æ•°é‡å¢åŠ ä¸ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ ‘çš„æ•°é‡å¢åŠ ä¸ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ ‘çš„æ•°é‡å¢åŠ ä¸ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆï¼Ÿ</h3><p><strong>æ ¸å¿ƒåŸå› </strong>ï¼šéšæœºæ£®æ—é€šè¿‡<strong>é›†æˆå­¦ä¹ </strong>å’Œ<strong>å¤šæ ·æ€§æœºåˆ¶</strong>æŠ‘åˆ¶äº†å•æ£µå†³ç­–æ ‘çš„è¿‡æ‹Ÿåˆé£é™©ã€‚å…·ä½“æ¥è¯´ï¼š</p>
<ol>
<li><p><strong>Baggingï¼ˆè‡ªåŠ©èšåˆï¼‰æœºåˆ¶</strong>ï¼š<br>æ¯æ£µæ ‘çš„è®­ç»ƒæ•°æ®æ˜¯é€šè¿‡æœ‰æ”¾å›é‡‡æ ·ï¼ˆBootstrapï¼‰å¾—åˆ°çš„å­é›†ï¼Œè¿™æ„å‘³ç€æ¯æ£µæ ‘çœ‹åˆ°çš„æ•°æ®ç•¥æœ‰ä¸åŒï¼Œå‡å°‘äº†å¯¹è®­ç»ƒæ•°æ®çš„â€œè®°å¿†â€ä¾èµ–ã€‚</p>
</li>
<li><p><strong>ç‰¹å¾éšæœºé€‰æ‹©</strong>ï¼š<br>æ¯æ¬¡åˆ†è£‚èŠ‚ç‚¹æ—¶ï¼Œä»…ä»éšæœºé€‰æ‹©çš„ç‰¹å¾å­é›†ä¸­æŒ‘é€‰æœ€ä¼˜ç‰¹å¾ï¼Œè¿›ä¸€æ­¥é™ä½äº†å„æ ‘ä¹‹é—´çš„ç›¸å…³æ€§ã€‚</p>
</li>
<li><p><strong>æŠ•ç¥¨/å¹³å‡æœºåˆ¶</strong>ï¼š<br>å¤šæ£µæ ‘çš„é¢„æµ‹ç»“æœé€šè¿‡æŠ•ç¥¨ï¼ˆåˆ†ç±»ï¼‰æˆ–å¹³å‡ï¼ˆå›å½’ï¼‰ç»“åˆï¼Œé«˜æ–¹å·®çš„ä¸ªä½“æ ‘è¢«å¹³æ»‘ï¼Œæ•´ä½“æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å¢å¼ºã€‚</p>
</li>
<li><p><strong>æ”¶æ•›æ€§ä¿è¯</strong>ï¼š<br>éšç€æ ‘çš„æ•°é‡å¢åŠ ï¼Œæ¨¡å‹æ€§èƒ½é€æ¸æ”¶æ•›åˆ°ä¸€ä¸ªç¨³å®šå€¼ã€‚å³ä½¿ç»§ç»­å¢åŠ æ ‘çš„æ•°é‡ï¼Œä¹Ÿä¸ä¼šæ˜¾è‘—æå‡è®­ç»ƒé›†æ€§èƒ½ï¼Œæ›´ä¸ä¼šè¿‡æ‹Ÿåˆã€‚</p>
</li>
</ol>
<h3 id="æ¬§å¼è·ç¦»çš„ç‰¹æ€§åˆ†æ"><a href="#æ¬§å¼è·ç¦»çš„ç‰¹æ€§åˆ†æ" class="headerlink" title="æ¬§å¼è·ç¦»çš„ç‰¹æ€§åˆ†æ"></a>æ¬§å¼è·ç¦»çš„ç‰¹æ€§åˆ†æ</h3><p><strong>æ¬§å¼è·ç¦»</strong>ï¼ˆEuclidean Distanceï¼‰æ˜¯è¡¡é‡æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­ä¸¤ç‚¹ä¹‹é—´ç›´çº¿è·ç¦»çš„å¸¸ç”¨æ–¹æ³•ï¼Œå…¶å…¬å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
d(x, y) = \sqrt{\sum_{i=1}^n (x_i - y_i)^2}</script><p>ä»¥ä¸‹æ˜¯å¯¹å…¶ç‰¹æ€§çš„è¯¦ç»†åˆ†æï¼š</p>
<p><strong>A. æ—‹è½¬ä¸å˜æ€§</strong>  </p>
<p><strong>æ­£ç¡®</strong>  </p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šè‹¥åæ ‡ç³»æ—‹è½¬ï¼Œä¸¤ç‚¹é—´çš„æ¬§å¼è·ç¦»ä¿æŒä¸å˜ã€‚  </li>
<li><strong>åŸå› </strong>ï¼šæ—‹è½¬æ˜¯åˆšæ€§å˜æ¢ï¼ˆrigid transformationï¼‰ï¼Œä»…æ”¹å˜ç‚¹çš„åæ ‡è¡¨ç¤ºï¼Œä½†ä¸æ”¹å˜å‡ ä½•è·ç¦»ã€‚  </li>
<li><strong>ç¤ºä¾‹</strong>ï¼šåœ¨äºŒç»´å¹³é¢ä¸­ï¼Œå°†åæ ‡ç³»æ—‹è½¬Î¸è§’åº¦ï¼Œä¸¤ç‚¹ $(x_1, y_1)$ å’Œ $(x_2, y_2)$ çš„æ—‹è½¬ååæ ‡åˆ†åˆ«ä¸ºï¼š<script type="math/tex; mode=display">
(x_1', y_1') = (x_1\cos\theta - y_1\sin\theta, x_1\sin\theta + y_1\cos\theta)</script><script type="math/tex; mode=display">
(x_2', y_2') = (x_2\cos\theta - y_2\sin\theta, x_2\sin\theta + y_2\cos\theta)</script>è®¡ç®—æ—‹è½¬åçš„è·ç¦»ä»ç­‰äºåŸå§‹è·ç¦»ã€‚</li>
</ul>
<p><strong>B. å°ºåº¦ç¼©æ”¾ä¸å˜æ€§</strong>  </p>
<p><strong>é”™è¯¯</strong>  </p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šè‹¥å¯¹åæ ‡è½´è¿›è¡Œéå‡åŒ€æˆ–å‡åŒ€ç¼©æ”¾ï¼Œæ¬§å¼è·ç¦»ä¼šå‘ç”Ÿå˜åŒ–ã€‚  </li>
<li><strong>åä¾‹</strong>ï¼šå‡è®¾å¯¹æŸç»´ç‰¹å¾ç¼©æ”¾ $k$ å€ï¼ˆå¦‚å°† $x_i$ å˜ä¸º $k x_i$ï¼‰ï¼Œåˆ™è·ç¦»å˜ä¸ºåŸæ¥çš„ $k$ å€ã€‚  </li>
<li><strong>ç»“è®º</strong>ï¼šæ¬§å¼è·ç¦»<strong>ä¾èµ–äºç‰¹å¾çš„ç»å¯¹å°ºåº¦</strong>ï¼Œä¸å…·å¤‡ç¼©æ”¾ä¸å˜æ€§ã€‚</li>
</ul>
<p><strong>C. ä¸å—é‡çº²å½±å“çš„ç‰¹æ€§</strong>  </p>
<p><strong>é”™è¯¯</strong>  </p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šè‹¥ä¸åŒç‰¹å¾çš„é‡çº²ä¸åŒï¼ˆå¦‚èº«é«˜[m]ä¸ä½“é‡[kg]ï¼‰ï¼Œæ¬§å¼è·ç¦»çš„è®¡ç®—ä¼šå› é‡çº²å·®å¼‚è€Œå¤±çœŸã€‚  </li>
<li><strong>åä¾‹</strong>ï¼š  <ul>
<li>ç‚¹Aï¼š(1.8m, 70kg)ï¼Œç‚¹Bï¼š(1.7m, 65kg)  </li>
<li>è‹¥ä¸æ ‡å‡†åŒ–ï¼Œèº«é«˜å·®ï¼ˆ0.1mï¼‰ä¸ä½“é‡å·®ï¼ˆ5kgï¼‰çš„è´¡çŒ®ä¼šè¢«ç›´æ¥ç›¸åŠ ï¼Œä½†ä¸¤è€…é‡çº²ä¸åŒï¼Œç»“æœæ— å®é™…æ„ä¹‰ã€‚  </li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ³•</strong>ï¼šéœ€é€šè¿‡æ ‡å‡†åŒ–ï¼ˆå¦‚Z-scoreå½’ä¸€åŒ–ï¼‰æ¶ˆé™¤é‡çº²å½±å“ã€‚</li>
</ul>
<h3 id="ä¸‹åˆ—å“ªä¸ªä¸å±äºç‰¹å¾æå–"><a href="#ä¸‹åˆ—å“ªä¸ªä¸å±äºç‰¹å¾æå–" class="headerlink" title="ä¸‹åˆ—å“ªä¸ªä¸å±äºç‰¹å¾æå–"></a>ä¸‹åˆ—å“ªä¸ªä¸å±äºç‰¹å¾æå–</h3><p><strong>ç­”æ¡ˆï¼šD. ä¸»æˆåˆ†åˆ†æ</strong></p>
<p><strong>è§£æï¼š</strong></p>
<p>åœ¨æ–‡æœ¬åˆ†ç±»çš„ç‰¹å¾é€‰æ‹©ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>A. å¡æ–¹æ£€éªŒå€¼</strong>ï¼šé€šè¿‡ç»Ÿè®¡æ£€éªŒè¯„ä¼°ç‰¹å¾ä¸ç±»åˆ«çš„ç›¸å…³æ€§ï¼Œå±äºè¿‡æ»¤å¼ç‰¹å¾é€‰æ‹©æ–¹æ³•ã€‚</li>
<li><strong>B. äº’ä¿¡æ¯</strong>ï¼šåŸºäºä¿¡æ¯è®ºï¼Œè¡¡é‡ç‰¹å¾ä¸ç±»åˆ«çš„ä¾èµ–å…³ç³»ï¼Œå±äºæ— ç›‘ç£æˆ–åŠç›‘ç£çš„ç‰¹å¾é€‰æ‹©æ–¹æ³•ã€‚</li>
<li><strong>C. ä¿¡æ¯å¢ç›Š</strong>ï¼šåŸºäºç†µçš„æŒ‡æ ‡ï¼Œè¯„ä¼°ç‰¹å¾å¯¹åˆ†ç±»çš„è´¡çŒ®ï¼Œå¸¸ç”¨äºå†³ç­–æ ‘ç­‰ç®—æ³•ä¸­çš„ç‰¹å¾é€‰æ‹©ã€‚</li>
</ul>
<p>è€Œ <strong>D. ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰</strong> æ˜¯ä¸€ç§ <strong>é™ç»´æŠ€æœ¯</strong>ï¼Œé€šè¿‡çº¿æ€§å˜æ¢å°†é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯ä¿ç•™æ•°æ®çš„ä¸»è¦æ–¹å·®ï¼Œè€Œéç›´æ¥é€‰æ‹©åŸå§‹ç‰¹å¾ã€‚å®ƒå±äº <strong>ç‰¹å¾æå–</strong>ï¼ˆFeature Extractionï¼‰è€Œéä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ <strong>ç‰¹å¾é€‰æ‹©</strong>ï¼ˆFeature Selectionï¼‰ã€‚å› æ­¤ï¼Œä¸»æˆåˆ†åˆ†æä¸å±äºå¸¸ç”¨çš„æ–‡æœ¬åˆ†ç±»ç‰¹å¾é€‰æ‹©ç®—æ³•ã€‚</p>
<h3 id="ridgeå›å½’å’Œlassoå›å½’"><a href="#ridgeå›å½’å’Œlassoå›å½’" class="headerlink" title="ridgeå›å½’å’Œlassoå›å½’"></a>ridgeå›å½’å’Œlassoå›å½’</h3><p>Ridgeå›å½’ï¼ˆå²­å›å½’ï¼‰å’ŒLassoå›å½’ï¼ˆå¥—ç´¢å›å½’ï¼‰æ˜¯ä¸¤ç§å¸¸ç”¨çš„<strong>æ­£åˆ™åŒ–çº¿æ€§å›å½’æ–¹æ³•</strong>ï¼Œä¸»è¦ç”¨äºè§£å†³çº¿æ€§å›å½’ä¸­çš„<strong>è¿‡æ‹Ÿåˆé—®é¢˜</strong>å’Œ<strong>ç‰¹å¾é€‰æ‹©é—®é¢˜</strong>ã€‚å®ƒä»¬çš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨æŸå¤±å‡½æ•°ä¸­æ·»åŠ æ­£åˆ™åŒ–é¡¹ï¼ˆæƒ©ç½šé¡¹ï¼‰ï¼Œä»è€Œé™åˆ¶æ¨¡å‹å‚æ•°çš„å¤§å°ï¼Œæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p><strong>1. Ridgeå›å½’ï¼ˆå²­å›å½’ï¼‰</strong></p>
<p><strong>ç›®æ ‡å‡½æ•°</strong></p>
<script type="math/tex; mode=display">
\min_{\mathbf{w}} \left\{ \sum_{i=1}^n (y_i - \mathbf{w}^T \mathbf{x}_i)^2 + \lambda \|\mathbf{w}\|_2^2 \right\}</script><ul>
<li>ç¬¬ä¸€é¡¹æ˜¯æ™®é€šçº¿æ€§å›å½’çš„å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ã€‚</li>
<li>ç¬¬äºŒé¡¹æ˜¯L2æ­£åˆ™åŒ–é¡¹ï¼ˆæƒé‡å¹³æ–¹çš„å’Œï¼‰ï¼Œ$\lambda \geq 0$ æ˜¯æ­£åˆ™åŒ–ç³»æ•°ï¼Œæ§åˆ¶æƒ©ç½šå¼ºåº¦ã€‚</li>
</ul>
<p><strong>ç‰¹ç‚¹</strong></p>
<ul>
<li><strong>L2æ­£åˆ™åŒ–</strong>ï¼šé€šè¿‡ç¼©å°æƒé‡ç³»æ•°ï¼ˆä½†ä¸ä¼šå®Œå…¨ç½®é›¶ï¼‰æ¥å‡å°‘æ¨¡å‹å¤æ‚åº¦ã€‚</li>
<li><strong>è§£å†³å¤šé‡å…±çº¿æ€§</strong>ï¼šå½“ç‰¹å¾ä¹‹é—´å­˜åœ¨é«˜åº¦ç›¸å…³æ€§æ—¶ï¼ŒRidgeå›å½’èƒ½ç¨³å®šå›å½’ç³»æ•°ã€‚</li>
<li><strong>å”¯ä¸€è§£</strong>ï¼šç›®æ ‡å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œä¸”ä¸¥æ ¼å‡¸ï¼Œå› æ­¤æœ‰å”¯ä¸€æœ€ä¼˜è§£ã€‚</li>
<li><strong>è®¡ç®—æ•ˆç‡é«˜</strong>ï¼šå¯ä»¥é€šè¿‡è§£æè§£ï¼ˆé—­å¼è§£ï¼‰æ±‚è§£ï¼š<script type="math/tex; mode=display">
\mathbf{w}_{\text{Ridge}} = (\mathbf{X}^T \mathbf{X} + \lambda \mathbf{I})^{-1} \mathbf{X}^T \mathbf{y}</script></li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>ç‰¹å¾ç»´åº¦è¾ƒä½ï¼Œä½†å­˜åœ¨å¤šé‡å…±çº¿æ€§ã€‚</li>
<li>éœ€è¦ä¿ç•™æ‰€æœ‰ç‰¹å¾ï¼Œä½†å¸Œæœ›æŠ‘åˆ¶å…¶å½±å“ï¼ˆå¦‚åŸºå› æ•°æ®åˆ†æï¼‰ã€‚</li>
</ul>
<p><strong>2. Lassoå›å½’ï¼ˆå¥—ç´¢å›å½’ï¼‰</strong></p>
<p><strong>ç›®æ ‡å‡½æ•°</strong></p>
<script type="math/tex; mode=display">
\min_{\mathbf{w}} \left\{ \sum_{i=1}^n (y_i - \mathbf{w}^T \mathbf{x}_i)^2 + \lambda \|\mathbf{w}\|_1 \right\}</script><ul>
<li>ç¬¬ä¸€é¡¹æ˜¯å‡æ–¹è¯¯å·®ã€‚</li>
<li>ç¬¬äºŒé¡¹æ˜¯L1æ­£åˆ™åŒ–é¡¹ï¼ˆæƒé‡ç»å¯¹å€¼çš„å’Œï¼‰ï¼Œ$\lambda \geq 0$ æ˜¯æ­£åˆ™åŒ–ç³»æ•°ã€‚</li>
</ul>
<p><strong>ç‰¹ç‚¹</strong></p>
<ul>
<li><strong>L1æ­£åˆ™åŒ–</strong>ï¼šå¼ºåˆ¶éƒ¨åˆ†æƒé‡ç³»æ•°ä¸ºé›¶ï¼Œå®ç°ç‰¹å¾é€‰æ‹©ã€‚</li>
<li><strong>ç¨€ç–æ¨¡å‹</strong>ï¼šé€‚ç”¨äºé«˜ç»´æ•°æ®ï¼ˆå¦‚æ–‡æœ¬åˆ†ç±»ã€åŸºå› æ•°æ®ï¼‰ï¼Œè‡ªåŠ¨ç­›é€‰å…³é”®ç‰¹å¾ã€‚</li>
<li><strong>éå”¯ä¸€è§£</strong>ï¼šç›®æ ‡å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œä½†å¯èƒ½æœ‰å¤šä¸ªè§£ï¼ˆå½“ç‰¹å¾é«˜åº¦ç›¸å…³æ—¶ï¼‰ã€‚</li>
<li><strong>è®¡ç®—å¤æ‚åº¦è¾ƒé«˜</strong>ï¼šé€šå¸¸éœ€è¦è¿­ä»£ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚åæ ‡ä¸‹é™æ³•ã€è¿‘ç«¯æ¢¯åº¦ä¸‹é™ï¼‰ã€‚</li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>ç‰¹å¾ç»´åº¦æé«˜ï¼ˆå¦‚ä¸‡ç»´ä»¥ä¸Šï¼‰ï¼Œéœ€é™ç»´ã€‚</li>
<li>éœ€è¦å¯è§£é‡Šæ€§å¼ºçš„æ¨¡å‹ï¼ˆå¦‚é‡‘èé£æ§ä¸­çš„å…³é”®ç‰¹å¾ç­›é€‰ï¼‰ã€‚</li>
</ul>
<p><strong>3. æ€»ç»“</strong></p>
<ul>
<li><strong>Ridgeå›å½’</strong>ï¼šé€‚åˆç‰¹å¾è¾ƒå°‘ä¸”éœ€è¦ç¨³å®šç³»æ•°çš„åœºæ™¯ã€‚</li>
<li><strong>Lassoå›å½’</strong>ï¼šé€‚åˆé«˜ç»´æ•°æ®å’Œç‰¹å¾é€‰æ‹©åœºæ™¯ã€‚</li>
<li><strong>å®é™…é€‰æ‹©</strong>ï¼š<ul>
<li>å¦‚æœç‰¹å¾æ•°é‡è¿œå¤§äºæ ·æœ¬æ•°é‡ï¼ˆ$p \gg n$ï¼‰ï¼Œä¼˜å…ˆä½¿ç”¨Lassoã€‚</li>
<li>å¦‚æœç‰¹å¾é—´å­˜åœ¨å¼ºç›¸å…³æ€§ï¼Œä¼˜å…ˆä½¿ç”¨Ridgeæˆ–å¼¹æ€§ç½‘ç»œã€‚</li>
</ul>
</li>
</ul>
<p>é€šè¿‡è°ƒæ•´æ­£åˆ™åŒ–ç³»æ•° $\lambda$ï¼Œå¯ä»¥æ§åˆ¶æ¨¡å‹çš„å¤æ‚åº¦ä¸æ³›åŒ–èƒ½åŠ›ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">æ¦‚ç‡è®ºæœŸæœ«ç¬”è®°æ±‡æ€»</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-09 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-09T00:00:00+08:00">2025-06-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-08-02 22:47:47" itemprop="dateModified" datetime="2025-08-02T22:47:47+08:00">2025-08-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤§äºŒä¸‹</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/" itemprop="url" rel="index"><span itemprop="name">æ¦‚ç‡è®º</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="ç¬”è®°"><a href="#ç¬”è®°" class="headerlink" title="ç¬”è®°"></a>ç¬”è®°</h3><p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175733.jpg" alt="IMG_20250627_175733"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175736.jpg" alt="IMG_20250627_175736"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175740.jpg" alt="IMG_20250627_175740"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175743.jpg" alt="IMG_20250627_175743"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175748.jpg" alt="IMG_20250627_175748"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175752.jpg" alt="IMG_20250627_175752"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175755.jpg" alt="IMG_20250627_175755"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%A6%82%E7%8E%87%E8%AE%BA/%E6%A6%82%E7%8E%87%E8%AE%BA%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/IMG_20250627_175759.jpg" alt="IMG_20250627_175759"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="post-title-link" itemprop="url">è®¡ç®—æœºç³»ç»ŸåŸºç¡€â€”â€”æœŸæœ«å¤ä¹ </a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-09 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-09T00:00:00+08:00">2025-06-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-06-30 11:46:47" itemprop="dateModified" datetime="2025-06-30T11:46:47+08:00">2025-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤§äºŒä¸‹</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">è®¡ç®—æœºç³»ç»ŸåŸºç¡€</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="ç¬¬ä¸€ç« "><a href="#ç¬¬ä¸€ç« " class="headerlink" title="ç¬¬ä¸€ç« "></a>ç¬¬ä¸€ç« </h3><p><strong>æ—¶é’Ÿé¢‘ç‡ï¼ˆfï¼‰</strong> ï¼šå•ä½æ—¶é—´å†…å®Œæˆçš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œå•ä½ä¸ºèµ«å…¹ï¼ˆHzï¼‰ã€‚<br>ä¾‹å¦‚ï¼š800MHz è¡¨ç¤ºæ¯ç§’å®Œæˆ 800Ã—106 ä¸ªå‘¨æœŸã€‚</p>
<p><strong>æ—¶é’Ÿå‘¨æœŸï¼ˆTï¼‰</strong> ï¼šå®Œæˆä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰€éœ€çš„æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼ˆsï¼‰ã€‚<br>ä¾‹å¦‚ï¼š800MHz çš„æ—¶é’Ÿå‘¨æœŸä¸º <em>T</em>=800Ã—1061â€‹s=1.25ns ï¼ˆçº³ç§’ï¼‰ã€‚</p>
<p><strong>CPI</strong>ï¼ˆ<strong>Cycles Per Instruction</strong>ï¼Œæ¯æ¡æŒ‡ä»¤æ‰€éœ€çš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼‰æ˜¯è¡¡é‡è®¡ç®—æœºä½“ç³»ç»“æ„æ€§èƒ½çš„å…³é”®æŒ‡æ ‡ä¹‹ä¸€ï¼Œç”¨äºæè¿°<strong>CPUæ‰§è¡Œä¸€æ¡æŒ‡ä»¤å¹³å‡éœ€è¦å¤šå°‘ä¸ªæ—¶é’Ÿå‘¨æœŸ</strong>ã€‚å®ƒç›´æ¥å½±å“ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦å’Œç³»ç»Ÿæ€§èƒ½ã€‚</p>
<ul>
<li><strong>CPI</strong> è¡¨ç¤ºæ¯æ¡æŒ‡ä»¤æ‰§è¡Œæ‰€éœ€çš„å¹³å‡æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š<script type="math/tex; mode=display">
\text{CPI} = \frac{\text{æ€»æ—¶é’Ÿå‘¨æœŸæ•°}}{\text{æ€»æŒ‡ä»¤æ•°}}</script></li>
<li><strong>æ‰§è¡Œæ—¶é—´</strong> ä¸ CPI çš„å…³ç³»ï¼š<script type="math/tex; mode=display">
\text{æ‰§è¡Œæ—¶é—´} = \text{æŒ‡ä»¤æ•°} \times \text{CPI} \times \text{æ—¶é’Ÿå‘¨æœŸæ—¶é—´}</script>å…¶ä¸­ï¼Œæ—¶é’Ÿå‘¨æœŸæ—¶é—´ = 1 / æ—¶é’Ÿé¢‘ç‡ã€‚</li>
</ul>
<p><strong>MIPSï¼ˆMillion Instructions Per Secondï¼‰</strong> æ˜¯è¡¡é‡è®¡ç®—æœºå¤„ç†å™¨æ€§èƒ½çš„ä¸€ä¸ªç»å…¸æŒ‡æ ‡ï¼Œè¡¨ç¤º <strong>æ¯ç§’æ‰§è¡Œçš„ç™¾ä¸‡æ¡æŒ‡ä»¤æ•°</strong>ï¼Œç”¨äºé‡åŒ– CPU çš„æŒ‡ä»¤å¤„ç†èƒ½åŠ›ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>æ•°å€¼è¶Šå¤§ï¼Œæ€§èƒ½è¶Šå¼º</strong>ï¼Œä½†éœ€æ³¨æ„å…¶å±€é™æ€§ã€‚</p>
<ul>
<li><strong>MIPS</strong> = æŒ‡ä»¤æ•° / (æ‰§è¡Œæ—¶é—´ Ã— 10â¶)  </li>
<li>æˆ–é€šè¿‡ <strong>æ—¶é’Ÿé¢‘ç‡</strong> å’Œ <strong>CPIï¼ˆCycles Per Instructionï¼‰</strong> è®¡ç®—ï¼š  <script type="math/tex; mode=display">
\text{MIPS} = \frac{\text{æ—¶é’Ÿé¢‘ç‡ï¼ˆHzï¼‰}}{\text{CPI} \times 10^6}</script></li>
</ul>
<p><strong>ä¸¾ä¾‹</strong>ï¼š  </p>
<ul>
<li>è‹¥ CPU ä¸»é¢‘ä¸º <strong>2 GHz</strong>ï¼ˆ2Ã—10â¹ Hzï¼‰ï¼Œå¹³å‡ CPI=4ï¼Œåˆ™ï¼š  <script type="math/tex; mode=display">
\text{MIPS} = \frac{2 \times 10^9}{4 \times 10^6} = 500 \text{ MIPS}</script></li>
</ul>
<p>æ•°é‡çº§ï¼š</p>
<p>Gï¼Œå‰ï¼Œåçš„ä¹æ¬¡æ–¹</p>
<p>nï¼Œçº³ï¼Œåçš„è´Ÿä¹æ¬¡æ–¹</p>
<p><strong>mï¼ˆmilliï¼Œæ¯«ï¼‰çš„æ•°é‡çº§æ˜¯ 10âˆ’3 ï¼ˆåƒåˆ†ä¹‹ä¸€ï¼‰</strong> ã€‚</p>
<h3 id="ç¬¬äºŒç« "><a href="#ç¬¬äºŒç« " class="headerlink" title="ç¬¬äºŒç« "></a>ç¬¬äºŒç« </h3><h4 id="è¡¥ç "><a href="#è¡¥ç " class="headerlink" title="è¡¥ç "></a>è¡¥ç </h4><p><strong>1. è¡¥ç çš„å®šä¹‰</strong></p>
<p>è¡¥ç ï¼ˆTwoâ€™s Complementï¼‰æ˜¯è®¡ç®—æœºä¸­è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°çš„æ ‡å‡†æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒä½œç”¨æ˜¯å°†å‡æ³•è¿ç®—è½¬åŒ–ä¸ºåŠ æ³•è¿ç®—ï¼Œä»è€Œç®€åŒ–ç¡¬ä»¶è®¾è®¡ã€‚</p>
<p><strong>2. å¦‚ä½•æ±‚ä¸€ä¸ªæ•°çš„è¡¥ç ï¼Ÿ</strong></p>
<p>ä»¥ <strong>8ä½äºŒè¿›åˆ¶</strong> ä¸ºä¾‹ï¼š</p>
<ul>
<li><p><strong>æ­£æ•°</strong>ï¼šè¡¥ç  = åŸç ï¼ˆç¬¦å·ä½ä¸º0ï¼Œå…¶ä½™ä½ç›´æ¥è¡¨ç¤ºæ•°å€¼ï¼‰ã€‚<br>ä¾‹å¦‚ï¼š<code>+5</code> çš„è¡¥ç æ˜¯ <code>00000101</code>ã€‚</p>
</li>
<li><p><strong>è´Ÿæ•°</strong>ï¼šè¡¥ç  = åŸç çš„ç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™ä½å–åï¼ˆåç ï¼‰ï¼Œç„¶åæœ«ä½åŠ 1ã€‚<br>ä¾‹å¦‚ï¼šæ±‚ <code>-5</code> çš„è¡¥ç ï¼š</p>
<ol>
<li>åŸç ï¼š<code>10000101</code>ï¼ˆç¬¦å·ä½ä¸º1ï¼Œå…¶ä½™ä½ä¸º5çš„äºŒè¿›åˆ¶ï¼‰ã€‚</li>
<li>å–åï¼ˆç¬¦å·ä½ä¿ç•™ï¼‰ï¼š<code>11111010</code>ï¼ˆåç ï¼‰ã€‚</li>
<li>åŠ 1ï¼š<code>11111010 + 1 = 11111011</code>ï¼ˆè¡¥ç ï¼‰ã€‚</li>
</ol>
</li>
</ul>
<p><strong>3. æ•°å­¦åŸç†ï¼šæ¨¡è¿ç®—</strong></p>
<p>è¡¥ç çš„æœ¬è´¨æ˜¯åŸºäº <strong>æ¨¡ï¼ˆModuloï¼‰è¿ç®—</strong>ã€‚  </p>
<ul>
<li>å¯¹äº <strong>nä½äºŒè¿›åˆ¶æ•°</strong>ï¼Œå…¶æ¨¡ä¸º $2^n$ã€‚  </li>
<li>è´Ÿæ•°çš„è¡¥ç è¡¨ç¤ºä¸ºï¼š  <script type="math/tex; mode=display">
-x \equiv 2^n - x \ (\text{mod} \ 2^n)</script>ä¾‹å¦‚ï¼Œ8ä½äºŒè¿›åˆ¶æ•°çš„æ¨¡æ˜¯ $2^8 = 256$ï¼Œå› æ­¤ï¼š<br>$-5$ çš„è¡¥ç  = $256 - 5 = 251$ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º <code>11111011</code>ã€‚</li>
</ul>
<p><strong>4. ä¸ºä»€ä¹ˆâ€œå–å + 1â€æœ‰æ•ˆï¼Ÿ</strong></p>
<ul>
<li><strong>å–å</strong>ï¼šç›¸å½“äºå°†æ•°å€¼éƒ¨åˆ†å–åï¼ˆå³ $x \rightarrow (2^{n-1} - 1 - x)$ï¼‰ã€‚</li>
<li><strong>åŠ 1</strong>ï¼šæœ€ç»ˆå¾—åˆ° $2^n - x$ï¼Œå³è¡¥ç çš„æ•°å­¦å®šä¹‰ã€‚</li>
</ul>
<p>ä»¥ <code>-5</code> ä¸ºä¾‹ï¼ˆ8ä½ï¼‰ï¼š</p>
<ol>
<li>åŸç ï¼š<code>10000101</code>ï¼ˆç¬¦å·ä½ä¸º1ï¼Œæ•°å€¼éƒ¨åˆ†ä¸º5ï¼‰ã€‚</li>
<li>å–åï¼š<code>11111010</code>ï¼ˆæ•°å€¼éƒ¨åˆ†å–åï¼Œç¬¦å·ä½ä¿ç•™ï¼‰ã€‚</li>
<li>åŠ 1ï¼š<code>11111010 + 1 = 11111011</code>ï¼Œå³ $251 = 256 - 5$ã€‚</li>
</ol>
<p><strong>5. è¡¥ç çš„ä¼˜åŠ¿</strong></p>
<ul>
<li><strong>å”¯ä¸€é›¶è¡¨ç¤º</strong>ï¼šè¡¥ç ä¸­åªæœ‰ <strong>ä¸€ä¸ªé›¶</strong>ï¼ˆ<code>00000000</code>ï¼‰ï¼Œè€ŒåŸç å’Œåç å­˜åœ¨ <code>+0</code> å’Œ <code>-0</code> çš„é—®é¢˜ã€‚</li>
<li><strong>åŠ å‡ç»Ÿä¸€</strong>ï¼šæ‰€æœ‰åŠ å‡è¿ç®—å‡é€šè¿‡åŠ æ³•å™¨å®Œæˆï¼Œæ— éœ€å•ç‹¬çš„å‡æ³•å™¨ã€‚<br>ä¾‹å¦‚ï¼š<code>5 - 3 = 5 + (-3)</code>ï¼Œç›´æ¥é€šè¿‡è¡¥ç ç›¸åŠ å³å¯ã€‚</li>
<li><strong>æº¢å‡ºè‡ªåŠ¨å¤„ç†</strong>ï¼šè¶…è¿‡èŒƒå›´çš„é«˜ä½ä¼šè‡ªç„¶ä¸¢å¼ƒï¼ˆæ¨¡è¿ç®—ç‰¹æ€§ï¼‰ã€‚</li>
</ul>
<p><strong>6. ç‰¹æ®Šæƒ…å†µï¼šæœ€å°è´Ÿæ•°</strong></p>
<p>å¯¹äº <strong>nä½è¡¥ç </strong>ï¼Œèƒ½è¡¨ç¤ºçš„èŒƒå›´æ˜¯ï¼š  </p>
<script type="math/tex; mode=display">
[-2^{n-1}, \ 2^{n-1} - 1]</script><ul>
<li>ä¾‹å¦‚ï¼Œ8ä½è¡¥ç èŒƒå›´æ˜¯ï¼š<code>-128</code>ï¼ˆ<code>10000000</code>ï¼‰åˆ° <code>+127</code>ï¼ˆ<code>01111111</code>ï¼‰ã€‚</li>
<li><strong>æœ€å°è´Ÿæ•°ï¼ˆ-128ï¼‰</strong> æ²¡æœ‰å¯¹åº”çš„æ­£æ•°ï¼ˆå› ä¸º $+128$ è¶…å‡ºèŒƒå›´ï¼‰ï¼Œå…¶è¡¥ç ç›´æ¥å®šä¹‰ä¸º <code>10000000</code>ï¼Œæ— æ³•é€šè¿‡â€œå–å + 1â€ä»åŸç æ¨å¯¼ï¼ˆå› ä¸ºåŸç ä¸­ä¸å­˜åœ¨ <code>+128</code>ï¼‰ã€‚</li>
</ul>
<h4 id="ç§»ç ï¼ˆOffset-Binaryï¼‰è¯¦è§£"><a href="#ç§»ç ï¼ˆOffset-Binaryï¼‰è¯¦è§£" class="headerlink" title="ç§»ç ï¼ˆOffset Binaryï¼‰è¯¦è§£"></a><strong>ç§»ç ï¼ˆOffset Binaryï¼‰è¯¦è§£</strong></h4><p><strong>1. ç§»ç çš„å®šä¹‰</strong></p>
<p>ç§»ç æ˜¯ä¸€ç§<strong>å¸¦åç§»é‡çš„ç¼–ç æ–¹å¼</strong>ï¼Œä¸»è¦ç”¨äºè¡¨ç¤º<strong>æµ®ç‚¹æ•°çš„é˜¶ç </strong>ï¼ˆExponentï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯å°†çœŸå€¼ï¼ˆå®é™…æ•°å€¼ï¼‰åŠ ä¸Šä¸€ä¸ªå›ºå®šçš„åç§»é‡ï¼ˆBiasï¼‰ï¼Œä½¿å¾—æ‰€æœ‰æ•°å€¼æ˜ å°„åˆ°<strong>éè´Ÿæ•°èŒƒå›´</strong>ï¼Œä»è€Œç®€åŒ–æ¯”è¾ƒå’Œè¿ç®—ã€‚</p>
<p><strong>å…¬å¼</strong>ï¼š  </p>
<script type="math/tex; mode=display">
\text{ç§»ç } = \text{çœŸå€¼} + \text{åç§»é‡}</script><p><strong>2. ç§»ç çš„æ ¸å¿ƒä½œç”¨</strong></p>
<ul>
<li><p><strong>ç®€åŒ–æ¯”è¾ƒ</strong>ï¼š<br>ç§»ç å°†è´Ÿæ•°èŒƒå›´æ˜ å°„åˆ°æ­£æ•°èŒƒå›´ï¼Œä½¿å¾—å¯ä»¥ç›´æ¥é€šè¿‡<strong>æ— ç¬¦å·æ•´æ•°æ¯”è¾ƒ</strong>æ¥åˆ¤æ–­é˜¶ç çš„å¤§å°ã€‚  </p>
<ul>
<li>ä¾‹å¦‚ï¼š<br>åœ¨æµ®ç‚¹æ•°ä¸­ï¼Œé˜¶ç  $-3$ å’Œ $+2$ çš„ç§»ç åˆ†åˆ«ä¸º $125$ å’Œ $130$ï¼ˆåç§»é‡ä¸º127ï¼‰ï¼Œç›´æ¥æ¯”è¾ƒ $125 &lt; 130$ å³å¯å¾—å‡º $-3 &lt; +2$ã€‚</li>
</ul>
</li>
<li><p><strong>æ¶ˆé™¤è´Ÿæ•°è¡¨ç¤º</strong>ï¼š<br>ç§»ç å°†è´Ÿæ•°è½¬æ¢ä¸ºæ­£æ•°è¡¨ç¤ºï¼Œé¿å…äº†è¡¥ç ä¸­è´Ÿæ•°ç¬¦å·ä½çš„å½±å“ã€‚</p>
</li>
</ul>
<p><strong>3. åç§»é‡çš„é€‰æ‹©</strong></p>
<p>åç§»é‡é€šå¸¸ä¸º $2^{n-1}$ æˆ– $2^{n-1}-1$ï¼ˆ$n$ ä¸ºä½æ•°ï¼‰ï¼š</p>
<ul>
<li><strong>å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆ32ä½ï¼‰</strong>ï¼šåç§»é‡ä¸º $127$ï¼ˆå³ $2^7 - 1$ï¼‰ã€‚  </li>
<li><strong>åŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆ64ä½ï¼‰</strong>ï¼šåç§»é‡ä¸º $1023$ï¼ˆå³ $2^{10} - 1$ï¼‰ã€‚</li>
</ul>
<p><strong>4. ç§»ç ä¸è¡¥ç çš„å…³ç³»</strong></p>
<ul>
<li><p><strong>ç¬¦å·ä½å–å</strong>ï¼š<br>ç§»ç å¯ä»¥çœ‹ä½œæ˜¯<strong>è¡¥ç çš„ç¬¦å·ä½å–å</strong>ã€‚ä¾‹å¦‚ï¼š  </p>
<ul>
<li>è¡¥ç  <code>10000000</code>ï¼ˆ$-128$ï¼‰çš„ç§»ç ä¸º <code>00000000</code>ï¼ˆ$-128 + 128 = 0$ï¼‰ã€‚  </li>
<li>è¡¥ç  <code>00000000</code>ï¼ˆ$0$ï¼‰çš„ç§»ç ä¸º <code>10000000</code>ï¼ˆ$0 + 128 = 128$ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>æœ¬è´¨åŒºåˆ«</strong>ï¼š  </p>
<ul>
<li><strong>è¡¥ç </strong>ï¼šç”¨äºå®šç‚¹æ•°çš„åŠ å‡è¿ç®—ï¼Œæ”¯æŒè´Ÿæ•°å’Œæ­£æ•°çš„ç»Ÿä¸€å¤„ç†ã€‚  </li>
<li><strong>ç§»ç </strong>ï¼šç”¨äºæµ®ç‚¹æ•°é˜¶ç çš„è¡¨ç¤ºï¼Œä¾¿äºç›´æ¥æ¯”è¾ƒå¤§å°ã€‚</li>
</ul>
</li>
</ul>
<p><strong>5. ç§»ç çš„åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li><strong>IEEE 754æµ®ç‚¹æ•°æ ‡å‡†</strong>ï¼š<br>ç§»ç ç”¨äºè¡¨ç¤ºæµ®ç‚¹æ•°çš„é˜¶ç ï¼ˆExponentï¼‰ï¼Œä½¿å¾—é˜¶ç å¯ä»¥ç›´æ¥æŒ‰æ— ç¬¦å·æ•´æ•°æ¯”è¾ƒã€‚  <ul>
<li><strong>å•ç²¾åº¦ï¼ˆ32ä½ï¼‰</strong>ï¼š<br>é˜¶ç å 8ä½ï¼Œåç§»é‡ä¸º127ã€‚<br>çœŸå€¼ $E$ çš„ç§»ç ä¸º $E + 127$ã€‚  </li>
<li><strong>åŒç²¾åº¦ï¼ˆ64ä½ï¼‰</strong>ï¼š<br>é˜¶ç å 11ä½ï¼Œåç§»é‡ä¸º1023ã€‚<br>çœŸå€¼ $E$ çš„ç§»ç ä¸º $E + 1023$ã€‚</li>
</ul>
</li>
</ul>
<h4 id="æµ®ç‚¹æ•°è¡¨ç¤º"><a href="#æµ®ç‚¹æ•°è¡¨ç¤º" class="headerlink" title="æµ®ç‚¹æ•°è¡¨ç¤º"></a>æµ®ç‚¹æ•°è¡¨ç¤º</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1VK4y1f7o6?spm_id_from=333.788.videopod.sections&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‘2-4.æµ®ç‚¹æ•°(ä¸Š)_å“”å“©å“”å“©_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Le4y137gU/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€è®¡ç®—æœºçŸ¥è¯†ã€‘å®šç‚¹æ•°ä¸æµ®ç‚¹æ•°ï¼ˆ2ï¼‰æµ®ç‚¹æ•°æ³•è¡¨ç¤ºæ–¹æ³•ï¼_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1ke411T7Qr?spm_id_from=333.788.videopod.sections&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€è®¡ç®—æœºåŸºç¡€ã€‘è¿›åˆ¶è½¬æ¢(3) å°æ•°éƒ¨åˆ†å¦‚ä½•è¿›è¡Œè½¬æ¢ï¼Ÿ_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="æ•´æ•°åŠ å‡"><a href="#æ•´æ•°åŠ å‡" class="headerlink" title="æ•´æ•°åŠ å‡"></a>æ•´æ•°åŠ å‡</h4><h4 id="æµ®ç‚¹æ•°åŠ å‡"><a href="#æµ®ç‚¹æ•°åŠ å‡" class="headerlink" title="æµ®ç‚¹æ•°åŠ å‡"></a>æµ®ç‚¹æ•°åŠ å‡</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1894y1C7br/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">æµ®ç‚¹æ•°åŠ å‡æ³•è¿ç®— ç™½ä¸­è‹±è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«é€Ÿæˆ_å“”å“©å“”å“©_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1ue4y1s71Z/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">(è‡ªç”¨)è®¡ç®—æœºç»„æˆåŸç† é¢˜å‹ä¸‰ æµ®ç‚¹æ•°åŠ å‡æ³•è¿ç®—é¢˜_å“”å“©å“”å“©_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1ej411J71a/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">æµ®ç‚¹è¿ç®—ï¼ˆæµ®ç‚¹æ•°åŠ å‡è¿ç®—ï¼‰è®¡ç®—æœºç»„æˆåŸç†ï¼ˆçœ‹äº†åŒ…ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<p>ieee</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1nwTXz7EVi/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆ5åˆ†é’Ÿï¼‰ï¼šIEEE754æµ®ç‚¹æ•°åŠ å‡è®¡ç®—ï¼_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="ä½æ•°"><a href="#ä½æ•°" class="headerlink" title="ä½æ•°"></a>ä½æ•°</h4><p>short 16ä½</p>
<h3 id="ç¬¬ä¸‰ç« -ç¨‹åºçš„è½¬æ¢ä¸æœºå™¨çº§è¡¨ç¤º"><a href="#ç¬¬ä¸‰ç« -ç¨‹åºçš„è½¬æ¢ä¸æœºå™¨çº§è¡¨ç¤º" class="headerlink" title="ç¬¬ä¸‰ç«  ç¨‹åºçš„è½¬æ¢ä¸æœºå™¨çº§è¡¨ç¤º"></a><strong>ç¬¬ä¸‰ç«  ç¨‹åºçš„è½¬æ¢ä¸æœºå™¨çº§è¡¨ç¤º</strong></h3><h4 id="ç»“æ„ä½“ä¸è”åˆä½“"><a href="#ç»“æ„ä½“ä¸è”åˆä½“" class="headerlink" title="ç»“æ„ä½“ä¸è”åˆä½“"></a>ç»“æ„ä½“ä¸è”åˆä½“</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1754y1Y7Ut?spm_id_from=333.788.player.switch&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‘3-9.ç»“æ„ä½“ä¸è”åˆä½“_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="æ•°ç»„çš„åˆ†é…å’Œè®¿é—®"><a href="#æ•°ç»„çš„åˆ†é…å’Œè®¿é—®" class="headerlink" title="æ•°ç»„çš„åˆ†é…å’Œè®¿é—®"></a>æ•°ç»„çš„åˆ†é…å’Œè®¿é—®</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1ho4y1d7J6?spm_id_from=333.788.videopod.sections&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‘3-8.æ•°ç»„çš„åˆ†é…å’Œè®¿é—®_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="è¿‡ç¨‹è°ƒç”¨"><a href="#è¿‡ç¨‹è°ƒç”¨" class="headerlink" title="è¿‡ç¨‹è°ƒç”¨"></a>è¿‡ç¨‹è°ƒç”¨</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1By4y1x7Yh/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">Cç¨‹åºåœ¨å†…å­˜ä¸­çš„æ ˆ_å“”å“©å“”å“©_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV19X4y1P7Pn?spm_id_from=333.788.videopod.sections&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‘3-7. è¿‡ç¨‹ï¼ˆå‡½æ•°è°ƒç”¨ï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="AT-amp-Tæ ¼å¼"><a href="#AT-amp-Tæ ¼å¼" class="headerlink" title="AT&amp;Tæ ¼å¼"></a>AT&amp;Tæ ¼å¼</h4><p>AT&amp;Tæ ¼å¼æ˜¯æ±‡ç¼–è¯­è¨€ä¸­çš„ä¸€ç§è¯­æ³•é£æ ¼ï¼Œä¸»è¦ç”¨äºx86/x64æ¶æ„çš„æ±‡ç¼–ä»£ç ç¼–å†™ã€‚å®ƒä¸Intelæ ¼å¼å¹¶åˆ—ä¸ºæœ€å¸¸è§çš„ä¸¤ç§æ±‡ç¼–è¯­æ³•ï¼Œä¸¤è€…åœ¨è¯­æ³•ç»†èŠ‚ä¸Šæœ‰æ˜¾è‘—å·®å¼‚ã€‚ä»¥ä¸‹æ˜¯AT&amp;Tæ ¼å¼çš„æ ¸å¿ƒç‰¹ç‚¹ã€ç¤ºä¾‹åŠå¸¸è§ç”¨é€”ï¼š</p>
<p><strong>ä¸»è¦ç‰¹ç‚¹</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>AT&amp;Tæ ¼å¼è¯­æ³•</th>
<th>å¯¹æ¯”Intelæ ¼å¼è¯­æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å¯„å­˜å™¨</strong></td>
<td>å‰ç¼€ <code>%</code>ï¼ˆå¦‚ <code>%eax</code>ï¼‰</td>
<td>æ— å‰ç¼€ï¼ˆå¦‚ <code>eax</code>ï¼‰</td>
</tr>
<tr>
<td><strong>ç«‹å³æ•°</strong></td>
<td>å‰ç¼€ <code>$</code>ï¼ˆå¦‚ <code>$0x10</code>ï¼‰</td>
<td>ç›´æ¥ä½¿ç”¨æ•°å€¼ï¼ˆå¦‚ <code>10</code>ï¼‰</td>
</tr>
<tr>
<td><strong>æ“ä½œæ•°é¡ºåº</strong></td>
<td>æºæ“ä½œæ•°åœ¨å‰ï¼Œç›®æ ‡åœ¨å</td>
<td>ç›®æ ‡åœ¨å‰ï¼Œæºåœ¨å</td>
</tr>
<tr>
<td><strong>å†…å­˜å¯»å€</strong></td>
<td><code>offset(base, index, scale)</code></td>
<td><code>[base + index*scale + offset]</code></td>
</tr>
<tr>
<td><strong>æŒ‡ä»¤åç¼€</strong></td>
<td>é€šè¿‡åç¼€æ ‡æ˜æ“ä½œæ•°å¤§å°ï¼ˆå¦‚ <code>l</code> è¡¨ç¤º32ä½ï¼‰</td>
<td>æ— åç¼€ï¼Œç”±æ“ä½œæ•°æ¨æ–­</td>
</tr>
</tbody>
</table>
</div>
<h4 id="å¯„å­˜å™¨ç§ç±»"><a href="#å¯„å­˜å™¨ç§ç±»" class="headerlink" title="å¯„å­˜å™¨ç§ç±»"></a>å¯„å­˜å™¨ç§ç±»</h4><ul>
<li>8 ä¸ªé€šç”¨å¯„å­˜å™¨ï¼Œå…¶ä¸­<ul>
<li><code>EAX, EBX, ECX, EDX</code> å‡ä¸º 32 ä½å¯„å­˜å™¨</li>
<li><code>AX, BX, CX, DX</code> å‡ä¸º 16 ä½å¯„å­˜å™¨</li>
<li><code>AH, BH, CH, DH</code> å‡ä¸ºé«˜ 8 ä½å¯„å­˜å™¨</li>
<li><code>AL, BL, CL, DL</code> å‡ä¸ºä½ 8 ä½å¯„å­˜å™¨</li>
</ul>
</li>
<li>2 ä¸ªä¸“ç”¨å¯„å­˜å™¨</li>
<li>6 ä¸ªæ®µå¯„å­˜å™¨</li>
</ul>
<h4 id="æ“ä½œæ•°å¯»å€æ–¹å¼"><a href="#æ“ä½œæ•°å¯»å€æ–¹å¼" class="headerlink" title="æ“ä½œæ•°å¯»å€æ–¹å¼"></a>æ“ä½œæ•°å¯»å€æ–¹å¼</h4><p><strong>1. åŸºç¡€å†…å­˜å¯»å€æ¨¡å¼</strong></p>
<p><strong>(1) ç›´æ¥å¯»å€ï¼ˆDirect Addressingï¼‰</strong> cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc              </p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>offset</code>ï¼ˆAT&amp;Tæ ¼å¼ï¼‰æˆ– <code>[offset]</code>ï¼ˆIntelæ ¼å¼ï¼‰ã€‚</li>
<li><strong>ç”¨é€”</strong>ï¼šç›´æ¥è®¿é—®å…¨å±€å˜é‡æˆ–é™æ€æ•°æ®ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movl var(%rip), %eax  # AT&amp;Tæ ¼å¼ï¼ˆRIPç›¸å¯¹å¯»å€ï¼Œ64ä½æ¨¡å¼æ¨èï¼‰</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov eax, [var]        # Intelæ ¼å¼ï¼ˆ32ä½æ¨¡å¼ï¼‰</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>(2) å¯„å­˜å™¨é—´æ¥å¯»å€ï¼ˆRegister Indirect Addressingï¼‰</strong></p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>(base_register)</code> æˆ– <code>[base_register]</code></li>
<li><strong>ç”¨é€”</strong>ï¼šæŒ‡é’ˆè§£å¼•ç”¨ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movl (%eax), %ebx     # å°†EAXæŒ‡å‘çš„å†…å­˜å€¼ä¼ å…¥EBX</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov ebx, [eax]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>(3) åŸºå€å¯»å€ï¼ˆBase Addressingï¼‰</strong></p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>offset(base_register)</code> æˆ– <code>[base_register + offset]</code></li>
<li><strong>ç”¨é€”</strong>ï¼šè®¿é—®æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡æˆ–ç»“æ„ä½“æˆå‘˜ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movl 8(%ebp), %ecx    # ä»æ ˆå¸§åç§»8å¤„è¯»å–æ•°æ®åˆ°ECX</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov ecx, [ebp + 8]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>(4) å˜å€å¯»å€ï¼ˆIndexed Addressingï¼‰æ¯”ä¾‹å¯»å€</strong></p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>array(, index_register, scale)</code> æˆ– <code>[array + index_register*scale]</code></li>
<li><strong>ç”¨é€”</strong>ï¼šæ•°ç»„å…ƒç´ è®¿é—®ã€‚</li>
<li><p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movl array(,%eax,4), %edx  # æ•°ç»„array + EAX*4ä½ç½®çš„å€¼ä¼ å…¥EDXï¼ˆæ•°ç»„ç´¢å¼•ï¼‰</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov edx, [array + eax*4]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>2. ç»„åˆå¯»å€æ¨¡å¼</strong></p>
<p><strong>(1) åŸºå€ + å˜å€ï¼ˆBase + Indexï¼‰</strong></p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>(base_register, index_register)</code> æˆ– <code>[base_register + index_register]</code></li>
<li><strong>ç”¨é€”</strong>ï¼šè®¿é—®äºŒç»´æ•°ç»„æˆ–åŠ¨æ€åˆ†é…çš„æ•°ç»„ã€‚</li>
<li><p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movl (%ebx, %esi), %edi  # å°†EBX + ESIæŒ‡å‘çš„å†…å­˜å€¼ä¼ å…¥EDI</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov edi, [ebx + esi]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>(2) åŸºå€ + æ¯”ä¾‹å˜å€ï¼ˆBase + Index*Scaleï¼‰</strong></p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>(base_register, index_register, scale)</code> æˆ– <code>[base_register + index_register*scale]</code></li>
<li><strong>ç”¨é€”</strong>ï¼šæŒ‰å…ƒç´ å¤§å°ï¼ˆscaleï¼‰è®¿é—®æ•°ç»„ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movl (%ebx, %esi, 4), %edi  # å°†EBX + ESI*4æŒ‡å‘çš„å†…å­˜å€¼ä¼ å…¥EDIï¼ˆ4å­—èŠ‚å…ƒç´ ï¼‰</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov edi, [ebx + esi*4]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>(3) åŸºå€ + æ¯”ä¾‹å˜å€ + åç§»ï¼ˆBase + Index*Scale + Offsetï¼‰</strong></p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>offset(base_register, index_register, scale)</code> æˆ– <code>[base_register + index_register*scale + offset]</code></li>
<li><strong>ç”¨é€”</strong>ï¼šè®¿é—®ç»“æ„ä½“æ•°ç»„æˆ–å¤æ‚æ•°æ®ç»“æ„ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movl 12(%ebx, %esi, 8), %edi  # ç»“æ„ä½“æ•°ç»„ä¸­ç¬¬ESIä¸ªå…ƒç´ çš„åç§»12å¤„æ•°æ®ä¼ å…¥EDI</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov edi, [ebx + esi*8 + 12]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>3.æ€»ç»“</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å¯»å€æ¨¡å¼</th>
<th>AT&amp;Tæ ¼å¼è¯­æ³•</th>
<th>Intelæ ¼å¼è¯­æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç›´æ¥å¯»å€</td>
<td><code>var(%rip)</code></td>
<td><code>[rip + var]</code>ï¼ˆ64ä½ï¼‰æˆ– <code>var</code></td>
</tr>
<tr>
<td>å¯„å­˜å™¨é—´æ¥å¯»å€</td>
<td><code>(%eax)</code></td>
<td><code>[eax]</code></td>
</tr>
<tr>
<td>åŸºå€å¯»å€</td>
<td><code>8(%ebp)</code></td>
<td><code>[ebp + 8]</code></td>
</tr>
<tr>
<td>å˜å€å¯»å€</td>
<td><code>array(,%eax,4)</code></td>
<td><code>[array + eax*4]</code></td>
</tr>
<tr>
<td>åŸºå€+æ¯”ä¾‹å˜å€</td>
<td><code>(%ebx, %esi, 4)</code></td>
<td><code>[ebx + esi*4]</code></td>
</tr>
<tr>
<td>åŸºå€+æ¯”ä¾‹å˜å€+åç§»</td>
<td><code>12(%ebx, %esi, 8)</code></td>
<td><code>[ebx + esi*8 + 12]</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="æŒ‡ä»¤åç¼€"><a href="#æŒ‡ä»¤åç¼€" class="headerlink" title="æŒ‡ä»¤åç¼€"></a>æŒ‡ä»¤åç¼€</h4><p>åœ¨ AT&amp;T æ±‡ç¼–æ ¼å¼ä¸­ï¼Œ<strong>æŒ‡ä»¤åç¼€</strong>ï¼ˆå¦‚ <code>b</code>ã€<code>w</code>ã€<code>l</code>ã€<code>q</code>ï¼‰ç”¨äºæ˜ç¡®æ“ä½œæ•°çš„å¤§å°ï¼Œç¡®ä¿æ±‡ç¼–å™¨æ­£ç¡®ç”Ÿæˆæœºå™¨ç ã€‚åˆ¤æ–­åç¼€çš„æ ¸å¿ƒè§„åˆ™æ˜¯ï¼š<strong>æ ¹æ®æ“ä½œæ•°çš„å¤§å°é€‰æ‹©å¯¹åº”çš„åç¼€</strong>ï¼Œå°¤å…¶æ˜¯å¯„å­˜å™¨çš„ä½æ•°æˆ–å†…å­˜æ“ä½œæ•°çš„æ˜¾å¼æŒ‡å®šã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è¯´æ˜ï¼š</p>
<p><strong>åç¼€ä¸æ“ä½œæ•°å¤§å°çš„å¯¹åº”å…³ç³»</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>åç¼€</th>
<th>æ“ä½œæ•°å¤§å°</th>
<th>ç¤ºä¾‹å¯„å­˜å™¨/æ“ä½œæ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>b</code></td>
<td>byteï¼ˆ8ä½ï¼‰</td>
<td><code>%al</code>, <code>$0x10</code>, <code>12(%ebp)</code>ï¼ˆéœ€æ˜¾å¼æŒ‡å®šï¼‰</td>
</tr>
<tr>
<td><code>w</code></td>
<td>wordï¼ˆ16ä½ï¼‰</td>
<td><code>%ax</code>, <code>%bx</code>, <code>12(%ebp)</code>ï¼ˆéœ€æ˜¾å¼æŒ‡å®šï¼‰</td>
</tr>
<tr>
<td><code>l</code></td>
<td>longï¼ˆ32ä½ï¼‰</td>
<td><code>%eax</code>, <code>%ebx</code>, <code>12(%ebp)</code>ï¼ˆéœ€æ˜¾å¼æŒ‡å®šï¼‰</td>
</tr>
<tr>
<td><code>q</code></td>
<td>quadï¼ˆ64ä½ï¼‰</td>
<td><code>%rax</code>, <code>%rbx</code>, <code>12(%ebp)</code>ï¼ˆéœ€æ˜¾å¼æŒ‡å®šï¼‰</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>ç«‹å³æ•°é»˜è®¤ä¸º32ä½</strong></p>
</blockquote>
<h4 id="åˆ¤æ–­â€œæŒ‡é’ˆâ€ä¸â€œä¸´æ—¶å˜é‡"><a href="#åˆ¤æ–­â€œæŒ‡é’ˆâ€ä¸â€œä¸´æ—¶å˜é‡" class="headerlink" title="åˆ¤æ–­â€œæŒ‡é’ˆâ€ä¸â€œä¸´æ—¶å˜é‡"></a>åˆ¤æ–­â€œæŒ‡é’ˆâ€ä¸â€œä¸´æ—¶å˜é‡</h4><p><strong>ï¼ˆ1ï¼‰<code>%edx</code>ï¼šä¸´æ—¶å˜é‡</strong></p>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼šç›´æ¥ä»å¯„å­˜å™¨ <code>%edx</code> è¯»å–æ•°æ®ï¼Œä¸æ¶‰åŠå†…å­˜åœ°å€çš„é—´æ¥è®¿é—®ã€‚</li>
<li><strong>å¯¹åº”Cè¯­è¨€</strong>ï¼š<br>å¦‚æœ <code>%edx</code> å­˜å‚¨çš„æ˜¯æŸä¸ªå±€éƒ¨å˜é‡æˆ–è®¡ç®—ç»“æœï¼ˆå¦‚ <code>temp = a + b</code>ï¼‰ï¼Œåˆ™å¯¹åº”<strong>ä¸´æ—¶å˜é‡</strong>ã€‚  </li>
</ul>
<p><strong>ï¼ˆ2ï¼‰<code>(%ecx)</code>ï¼šæŒ‡é’ˆ</strong></p>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼š<code>%ecx</code> ä¸­å­˜å‚¨çš„æ˜¯å†…å­˜åœ°å€ï¼Œ<code>(%ecx)</code> è¡¨ç¤ºè§£å¼•ç”¨è¯¥åœ°å€ï¼ˆç±»ä¼¼Cè¯­è¨€çš„ <code>*ptr</code>ï¼‰ã€‚  </li>
<li><strong>å¯¹åº”Cè¯­è¨€</strong>ï¼š<br>å¦‚æœ <code>%ecx</code> å­˜å‚¨çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡ï¼ˆå¦‚ <code>int *ptr</code>ï¼‰ï¼Œåˆ™ <code>(%ecx)</code> å¯¹åº”<strong>æŒ‡é’ˆè§£å¼•ç”¨</strong>ã€‚  </li>
</ul>
<p><strong>å…³é”®ç»“è®º</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ“ä½œæ•°</th>
<th>ç±»å‹</th>
<th>åˆ¤æ–­ä¾æ®</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%edx</code></td>
<td>ä¸´æ—¶å˜é‡</td>
<td>ç›´æ¥ä»å¯„å­˜å™¨è¯»å–æ•°æ®ï¼Œæ— é—´æ¥å†…å­˜è®¿é—®ï¼ˆæ— æ‹¬å·ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>(%ecx)</code></td>
<td>æŒ‡é’ˆ</td>
<td>ä½¿ç”¨æ‹¬å· <code>(%ecx)</code> è¡¨ç¤ºè§£å¼•ç”¨å†…å­˜åœ°å€ï¼ˆç±»ä¼¼Cè¯­è¨€çš„ <code>*ptr</code>ï¼‰ã€‚</td>
</tr>
</tbody>
</table>
</div>
<p><strong>å¸¸è§æ¨¡å¼å¯¹æ¯”</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ±‡ç¼–æŒ‡ä»¤</th>
<th>Cè¯­è¨€å¯¹åº”æ“ä½œ</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>movl %eax, (%ebx)</code></td>
<td><code>*ptr = temp;</code></td>
<td><code>%ebx</code> æ˜¯æŒ‡é’ˆï¼ˆå­˜å‚¨åœ°å€ï¼‰ï¼Œ<code>%eax</code> æ˜¯ä¸´æ—¶å˜é‡ã€‚</td>
</tr>
<tr>
<td><code>movl (%ebx), %eax</code></td>
<td><code>temp = *ptr;</code></td>
<td>ä»æŒ‡é’ˆ <code>ptr</code> è¯»å–å€¼åˆ°ä¸´æ—¶å˜é‡ <code>temp</code>ã€‚</td>
</tr>
<tr>
<td><code>movl $0x1, %eax</code></td>
<td><code>temp = 1;</code></td>
<td><code>%eax</code> æ˜¯ä¸´æ—¶å˜é‡ï¼Œç›´æ¥èµ‹å€¼ã€‚</td>
</tr>
</tbody>
</table>
</div>
<h4 id="æ±‡ç¼–è¯­è¨€ä¸­Mçš„ä½œç”¨"><a href="#æ±‡ç¼–è¯­è¨€ä¸­Mçš„ä½œç”¨" class="headerlink" title="æ±‡ç¼–è¯­è¨€ä¸­Mçš„ä½œç”¨"></a>æ±‡ç¼–è¯­è¨€ä¸­Mçš„ä½œç”¨</h4><p>åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼Œ<strong>M</strong> é€šå¸¸è¡¨ç¤º <strong>å†…å­˜ï¼ˆMemoryï¼‰</strong>ï¼Œç”¨äºæŒ‡ç¤ºæ“ä½œæ•°æ¥è‡ªå†…å­˜åœ°å€ã€‚åœ¨ä½ çš„é—®é¢˜ä¸­ï¼Œ<code>M[R[eax]]</code> çš„å«ä¹‰æ˜¯ï¼š</p>
<p><strong><code>M</code> çš„ä½œç”¨</strong></p>
<ul>
<li><strong><code>M[åœ°å€]</code></strong> è¡¨ç¤ºä» <strong>å†…å­˜åœ°å€ä¸º <code>åœ°å€</code> çš„ä½ç½®è¯»å–æ•°æ®</strong>ã€‚</li>
<li><strong><code>R[eax]</code></strong> è¡¨ç¤ºå¯„å­˜å™¨ <code>EAX</code> çš„å€¼ï¼ˆå³ <code>EAX</code> ä¸­å­˜å‚¨çš„å†…å®¹ï¼‰ã€‚</li>
<li>å› æ­¤ï¼Œ<code>M[R[eax]]</code> çš„å«ä¹‰æ˜¯ï¼š<blockquote>
<p><strong>ä»¥ <code>EAX</code> å¯„å­˜å™¨çš„å€¼ä½œä¸ºå†…å­˜åœ°å€ï¼Œä»è¯¥åœ°å€è¯»å–æ•°æ®</strong>ã€‚</p>
</blockquote>
</li>
</ul>
<p><strong> AT&amp;T æ±‡ç¼–ä¸­çš„ç­‰ä»·å†™æ³•</strong></p>
<p>åœ¨ AT&amp;T æ±‡ç¼–è¯­æ³•ä¸­ï¼Œ<code>M[R[eax]]</code> å¯¹åº”çš„å†™æ³•æ˜¯ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addl (%eax), %edx</span><br></pre></td></tr></table></figure></p>
<ul>
<li><strong>å«ä¹‰</strong>ï¼š<ul>
<li><code>(%eax)</code>ï¼šä»¥ <code>EAX</code> çš„å€¼ä¸ºå†…å­˜åœ°å€ï¼Œè¯»å–è¯¥åœ°å€çš„å†…å®¹ï¼ˆé»˜è®¤æ˜¯ 4 å­—èŠ‚ï¼Œå³ 32 ä½ï¼‰ã€‚</li>
<li><code>addl</code>ï¼šæ‰§è¡Œ 32 ä½åŠ æ³•ã€‚</li>
<li><code>%edx</code>ï¼šç›®æ ‡å¯„å­˜å™¨ï¼Œå­˜å‚¨ç»“æœã€‚</li>
</ul>
</li>
</ul>
<p><strong>å…³é”®ç‚¹æ€»ç»“</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>å«ä¹‰</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>R</code></td>
<td>å¯„å­˜å™¨ï¼ˆRegisterï¼‰</td>
<td><code>R[eax]</code> â†’ <code>EAX</code> çš„å€¼</td>
</tr>
<tr>
<td><code>M</code></td>
<td>å†…å­˜ï¼ˆMemoryï¼‰</td>
<td><code>M[åœ°å€]</code> â†’ ä»åœ°å€è¯»å–æ•°æ®</td>
</tr>
<tr>
<td><code>()</code></td>
<td>AT&amp;T æ±‡ç¼–ä¸­è¡¨ç¤ºå†…å­˜å¯»å€</td>
<td><code>(%eax)</code> â†’ ç­‰ä»·äº <code>M[R[eax]]</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="å¸¸è§AT-amp-Tæ ¼å¼æ±‡ç¼–æŒ‡ä»¤"><a href="#å¸¸è§AT-amp-Tæ ¼å¼æ±‡ç¼–æŒ‡ä»¤" class="headerlink" title="å¸¸è§AT&amp;Tæ ¼å¼æ±‡ç¼–æŒ‡ä»¤"></a>å¸¸è§AT&amp;Tæ ¼å¼æ±‡ç¼–æŒ‡ä»¤</h4><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‡ä»¤ç±»å‹</th>
<th>æ“ä½œç›®çš„</th>
<th>å½±å“æ ‡å¿—ä½</th>
<th>å…¸å‹ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>addl</code></td>
<td>åŠ æ³•</td>
<td>OF, SF, ZF, CF</td>
<td>æ•°å€¼è¿ç®—ã€åœ°å€åç§»</td>
</tr>
<tr>
<td><code>subl</code></td>
<td>å‡æ³•</td>
<td>OF, SF, ZF, CF</td>
<td>æ•°å€¼è¿ç®—ã€æ¡ä»¶åˆ¤æ–­</td>
</tr>
<tr>
<td><code>orl</code></td>
<td>æŒ‰ä½æˆ–</td>
<td>OF=0, SF, ZF, CF=0</td>
<td>ä½æ©ç æ“ä½œ</td>
</tr>
<tr>
<td><code>testl</code></td>
<td>æŒ‰ä½ä¸æµ‹è¯•</td>
<td>OF=0, SF, ZF, CF=0</td>
<td>æ¡ä»¶åˆ¤æ–­ï¼ˆå¦‚æ£€æŸ¥ä½æ˜¯å¦è®¾ç½®ï¼‰</td>
</tr>
<tr>
<td><code>imull</code></td>
<td>æœ‰ç¬¦å·ä¹˜æ³•</td>
<td>OF, CF</td>
<td>æ•°å€¼è¿ç®—</td>
</tr>
<tr>
<td><code>leal</code></td>
<td>åœ°å€è®¡ç®—</td>
<td>æ— å½±å“</td>
<td>é«˜æ•ˆæ•°ç»„ç´¢å¼•è®¡ç®—</td>
</tr>
<tr>
<td><code>decl</code></td>
<td>é€’å‡</td>
<td>OF, SF, ZF, CF</td>
<td>å¾ªç¯è®¡æ•°ã€è¾¹ç•Œæ£€æŸ¥</td>
</tr>
</tbody>
</table>
</div>
<p><strong><code>sall</code>ï¼ˆShift Arithmetic Leftï¼‰â€”â€” å·¦ç§»æŒ‡ä»¤</strong></p>
<p><strong>åŠŸèƒ½</strong></p>
<ul>
<li><strong>ä½œç”¨</strong> ï¼šå°†æ“ä½œæ•°çš„äºŒè¿›åˆ¶ä½ <strong>å‘å·¦ç§»åŠ¨</strong> æŒ‡å®šçš„ä½æ•°ï¼Œä½ä½è¡¥0ã€‚</li>
<li><strong>æ•ˆæœ</strong> ï¼šç›¸å½“äºå°†æ“ä½œæ•°ä¹˜ä»¥ 2<em>n</em> ï¼ˆn ä¸ºç§»åŠ¨çš„ä½æ•°ï¼‰ã€‚</li>
</ul>
<p><strong><code>and</code>ï¼ˆLogical ANDï¼‰â€”â€” é€»è¾‘ä¸æŒ‡ä»¤</strong></p>
<p><strong>åŠŸèƒ½</strong></p>
<ul>
<li><strong>ä½œç”¨</strong> ï¼šå¯¹ä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œ <strong>æŒ‰ä½ä¸è¿ç®—</strong> ï¼Œç»“æœå†™å…¥ç›®æ ‡æ“ä½œæ•°ã€‚</li>
<li><strong>æ•ˆæœ</strong> ï¼šåªæœ‰å¯¹åº”ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœä½æ‰ä¸º1ã€‚</li>
</ul>
<p><code>shrl</code> æ˜¯ <strong>é€»è¾‘å³ç§»æŒ‡ä»¤</strong> ï¼ˆShift Right Logicalï¼‰ï¼Œç”¨äºå¯¹æ“ä½œæ•°è¿›è¡Œ <strong>æ— ç¬¦å·å³ç§»</strong> ï¼Œå³é«˜ä½è¡¥ 0ï¼Œä½ä½ç§»å‡ºã€‚</p>
<p><code>leal</code> æ˜¯ <strong>åŠ è½½æœ‰æ•ˆåœ°å€ï¼ˆLoad Effective Addressï¼‰</strong> çš„æŒ‡ä»¤ï¼Œå…¶åŠŸèƒ½æ˜¯ <strong>è®¡ç®—å†…å­˜åœ°å€å¹¶å­˜å‚¨åˆ°ç›®æ ‡å¯„å­˜å™¨</strong> ï¼Œä½† <strong>ä¸ä¼šè®¿é—®å†…å­˜</strong> ã€‚å®ƒå¸¸ç”¨äº <strong>åœ°å€è®¡ç®—</strong> å’Œ <strong>é«˜æ•ˆç®—æœ¯è¿ç®—</strong> </p>
<h4 id="æ ‡å¿—ä½"><a href="#æ ‡å¿—ä½" class="headerlink" title="æ ‡å¿—ä½"></a>æ ‡å¿—ä½</h4><p>ä»¥ä¸‹æ˜¯ <strong>x86/x64 æ¶æ„ä¸­å¸¸è§çš„å››ä¸ªçŠ¶æ€æ ‡å¿—ä½</strong>ï¼ˆOFã€SFã€ZFã€CFï¼‰çš„è¯¦ç»†è¯´æ˜åŠå…¶åˆ¤æ–­æ–¹æ³•ï¼š</p>
<p><strong>1. æ ‡å¿—ä½æ¦‚è¿°</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ ‡å¿—</th>
<th>å…¨ç§°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>CF</strong></td>
<td>Carry Flag</td>
<td><strong>æ— ç¬¦å·æº¢å‡ºæ ‡å¿—</strong>ï¼šè¡¨ç¤ºæ— ç¬¦å·æ•°è¿ç®—æ˜¯å¦äº§ç”Ÿè¿›ä½æˆ–å€Ÿä½ã€‚</td>
</tr>
<tr>
<td><strong>ZF</strong></td>
<td>Zero Flag</td>
<td><strong>é›¶æ ‡å¿—</strong>ï¼šè¡¨ç¤ºè¿ç®—ç»“æœæ˜¯å¦ä¸ºé›¶ã€‚</td>
</tr>
<tr>
<td><strong>SF</strong></td>
<td>Sign Flag</td>
<td><strong>ç¬¦å·æ ‡å¿—</strong>ï¼šè¡¨ç¤ºè¿ç®—ç»“æœçš„æœ€é«˜ä½ï¼ˆç¬¦å·ä½ï¼‰æ˜¯å¦ä¸º1ï¼ˆè´Ÿæ•°ï¼‰ã€‚</td>
</tr>
<tr>
<td><strong>OF</strong></td>
<td>Overflow Flag</td>
<td><strong>æº¢å‡ºæ ‡å¿—</strong>ï¼šè¡¨ç¤ºæœ‰ç¬¦å·æ•°è¿ç®—æ˜¯å¦æº¢å‡ºï¼ˆç»“æœè¶…å‡ºæ•°æ®ç±»å‹è¡¨ç¤ºèŒƒå›´ï¼‰ã€‚</td>
</tr>
</tbody>
</table>
</div>
<p><strong>2. åˆ¤æ–­æ–¹æ³•è¯¦è§£</strong></p>
<p><strong>(1) è¿›ä½æ ‡å¿—ï¼ˆCFï¼‰</strong></p>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šåˆ¤æ–­ <strong>æ— ç¬¦å·æ•°è¿ç®—</strong> æ˜¯å¦æº¢å‡ºã€‚</li>
<li><strong>åˆ¤æ–­è§„åˆ™</strong>ï¼š<ul>
<li><strong>åŠ æ³•</strong>ï¼šè‹¥ç»“æœæœ€é«˜ä½ï¼ˆæœ€é«˜æœ‰æ•ˆä½ï¼‰å‘ç”Ÿè¿›ä½ï¼ˆè¶…è¿‡æ•°æ®ç±»å‹çš„æœ€å¤§å€¼ï¼‰ï¼ŒCF=1ã€‚</li>
<li><strong>å‡æ³•</strong>ï¼šè‹¥ç»“æœéœ€è¦å€Ÿä½ï¼ˆè¢«å‡æ•° &lt; å‡æ•°ï¼‰ï¼ŒCF=1ã€‚</li>
</ul>
</li>
</ul>
<p><strong>(2) é›¶æ ‡å¿—ï¼ˆZFï¼‰</strong></p>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šåˆ¤æ–­è¿ç®—ç»“æœæ˜¯å¦ä¸ºé›¶ã€‚</li>
<li><strong>åˆ¤æ–­è§„åˆ™</strong>ï¼š<ul>
<li><strong>ç»“æœä¸º0</strong> â†’ ZF=1</li>
<li><strong>ç»“æœé0</strong> â†’ ZF=0</li>
</ul>
</li>
</ul>
<p><strong>(3) ç¬¦å·æ ‡å¿—ï¼ˆSFï¼‰</strong></p>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šè¡¨ç¤ºè¿ç®—ç»“æœçš„ç¬¦å·ï¼ˆæ­£/è´Ÿï¼‰ã€‚</li>
<li><strong>åˆ¤æ–­è§„åˆ™</strong>ï¼š<ul>
<li><strong>ç»“æœæœ€é«˜ä½ä¸º1</strong>ï¼ˆè´Ÿæ•°ï¼‰â†’ SF=1</li>
<li><strong>ç»“æœæœ€é«˜ä½ä¸º0</strong>ï¼ˆæ­£æ•°ï¼‰â†’ SF=0</li>
</ul>
</li>
</ul>
<p><strong>(4) æº¢å‡ºæ ‡å¿—ï¼ˆOFï¼‰</strong></p>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šåˆ¤æ–­ <strong>æœ‰ç¬¦å·æ•°è¿ç®—</strong> æ˜¯å¦æº¢å‡ºã€‚</li>
<li><strong>åˆ¤æ–­è§„åˆ™</strong>ï¼š<ul>
<li><strong>æº¢å‡ºæ¡ä»¶</strong>ï¼šä¸¤ä¸ªæ­£æ•°ç›¸åŠ ç»“æœä¸ºè´Ÿï¼Œæˆ–ä¸¤ä¸ªè´Ÿæ•°ç›¸åŠ ç»“æœä¸ºæ­£ â†’ OF=1ã€‚</li>
<li><strong>æ— æº¢å‡º</strong>ï¼šå…¶ä»–æƒ…å†µ â†’ OF=0ã€‚</li>
</ul>
</li>
</ul>
<h4 id="æ ˆå¸§å¸ƒå±€å’Œå‚æ•°åç§»è®¡ç®—è§„åˆ™"><a href="#æ ˆå¸§å¸ƒå±€å’Œå‚æ•°åç§»è®¡ç®—è§„åˆ™" class="headerlink" title="æ ˆå¸§å¸ƒå±€å’Œå‚æ•°åç§»è®¡ç®—è§„åˆ™"></a>æ ˆå¸§å¸ƒå±€å’Œå‚æ•°åç§»è®¡ç®—è§„åˆ™</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1sV411b7c1/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‘3-3.æ ˆä¸æ•°æ®ä¼ é€æŒ‡ä»¤_å“”å“©å“”å“©_bilibili</a></p>
<p><strong>1. å‚æ•°å‹æ ˆé¡ºåº</strong></p>
<p>Cè¯­è¨€é»˜è®¤ä½¿ç”¨ <strong><code>cdecl</code> è°ƒç”¨çº¦å®š</strong>ï¼Œå‚æ•°<strong>ä»å³åˆ°å·¦</strong>å‹å…¥æ ˆä¸­ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°è°ƒç”¨ <code>operate(x, y, z, k)</code> çš„å‹æ ˆé¡ºåºä¸ºï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">push k;     <span class="comment">// ç¬¬å››ä¸ªå‚æ•°ï¼ˆæœ€å³è¾¹ï¼‰</span></span><br><span class="line">push z;     <span class="comment">// ç¬¬ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line">push y;     <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line">push x;     <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆæœ€å·¦è¾¹ï¼‰</span></span><br><span class="line">call operate;</span><br></pre></td></tr></table></figure><br>æ ˆä¸­å‚æ•°å¸ƒå±€ï¼ˆé«˜åœ°å€ â†’ ä½åœ°å€ï¼‰ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">é«˜åœ°å€</span><br><span class="line">| k  (å‚æ•°4) | â† æ ˆé¡¶ï¼ˆESPï¼‰</span><br><span class="line">| z  (å‚æ•°3) |</span><br><span class="line">| y  (å‚æ•°2) |</span><br><span class="line">| x  (å‚æ•°1) |</span><br><span class="line">| è¿”å›åœ°å€   |</span><br><span class="line">ä½åœ°å€</span><br></pre></td></tr></table></figure></p>
<p><strong>2. æ ˆå¸§å»ºç«‹è¿‡ç¨‹</strong></p>
<p>è¿›å…¥å‡½æ•° <code>operate</code> åï¼Œé€šè¿‡ä»¥ä¸‹æŒ‡ä»¤å»ºç«‹æ ˆå¸§ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pushl %ebp        ; ä¿å­˜æ—§çš„EBPï¼ˆæ ˆå¸§åŸºå€ï¼‰</span><br><span class="line">movl %esp, %ebp   ; å°†å½“å‰æ ˆé¡¶ï¼ˆESPï¼‰èµ‹å€¼ç»™EBPï¼Œä½œä¸ºæ–°æ ˆå¸§çš„åŸºå€</span><br></pre></td></tr></table></figure><br>æ­¤æ—¶æ ˆå¸§å¸ƒå±€å¦‚ä¸‹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">é«˜åœ°å€</span><br><span class="line">| k  (å‚æ•°4) | â† EBP + 20</span><br><span class="line">| z  (å‚æ•°3) | â† EBP + 16</span><br><span class="line">| y  (å‚æ•°2) | â† EBP + 12</span><br><span class="line">| x  (å‚æ•°1) | â† EBP + 8</span><br><span class="line">| è¿”å›åœ°å€   | â† EBP + 4</span><br><span class="line">| æ—§ EBP     | â† EBP</span><br><span class="line">ä½åœ°å€</span><br></pre></td></tr></table></figure></p>
<p><strong>3. å‚æ•°åœ°å€çš„è®¡ç®—é€»è¾‘</strong></p>
<ul>
<li><strong><code>EBP + 4</code></strong>ï¼šè¿”å›åœ°å€ï¼ˆç”± <code>call</code> æŒ‡ä»¤è‡ªåŠ¨å‹æ ˆï¼‰ã€‚  </li>
<li><strong><code>EBP + 8</code></strong>ï¼šç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆ<code>x</code>ï¼‰ã€‚  </li>
<li><strong><code>EBP + 12</code></strong>ï¼šç¬¬äºŒä¸ªå‚æ•°ï¼ˆ<code>y</code>ï¼‰ã€‚  </li>
<li><strong><code>EBP + 16</code></strong>ï¼šç¬¬ä¸‰ä¸ªå‚æ•°ï¼ˆ<code>z</code>ï¼‰ã€‚  </li>
<li><strong><code>EBP + 20</code></strong>ï¼šç¬¬å››ä¸ªå‚æ•°ï¼ˆ<code>k</code>ï¼‰ã€‚  </li>
</ul>
<p><strong>åŸå› </strong>ï¼š  </p>
<ol>
<li><strong>å‚æ•°é¡ºåº</strong>ï¼šå‚æ•°ä»å³åˆ°å·¦å‹æ ˆï¼Œå¯¼è‡´ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆ<code>x</code>ï¼‰ä½äºæ ˆçš„æœ€ä½åœ°å€ï¼ˆ<code>EBP + 8</code>ï¼‰ï¼Œè€Œç¬¬å››ä¸ªå‚æ•°ï¼ˆ<code>k</code>ï¼‰ä½äºæœ€é«˜åœ°å€ï¼ˆ<code>EBP + 20</code>ï¼‰ã€‚  </li>
<li><strong>åç§»è®¡ç®—</strong>ï¼šæ¯ä¸ªå‚æ•°å ç”¨4å­—èŠ‚ï¼ˆ32ä½ç³»ç»Ÿä¸­ <code>int</code> å’ŒæŒ‡é’ˆå¤§å°ï¼‰ï¼Œå› æ­¤åç§»é‡ä¾æ¬¡é€’å¢4ã€‚  </li>
<li><strong>æ ˆå¸§åŸºå€</strong>ï¼š<code>EBP</code> æŒ‡å‘æ—§çš„ <code>EBP</code> å€¼ï¼Œå…¶ä¸Šæ–¹æ˜¯è¿”å›åœ°å€ï¼ˆ<code>EBP + 4</code>ï¼‰ï¼Œå†ä¸Šæ–¹æ˜¯å‚æ•°ã€‚</li>
</ol>
<h4 id="æ±‡ç¼–è¯­è¨€è¡¨ç¤ºç¨‹åºå‡½æ•°çš„è¿‡ç¨‹è°ƒç”¨"><a href="#æ±‡ç¼–è¯­è¨€è¡¨ç¤ºç¨‹åºå‡½æ•°çš„è¿‡ç¨‹è°ƒç”¨" class="headerlink" title="æ±‡ç¼–è¯­è¨€è¡¨ç¤ºç¨‹åºå‡½æ•°çš„è¿‡ç¨‹è°ƒç”¨"></a>æ±‡ç¼–è¯­è¨€è¡¨ç¤ºç¨‹åºå‡½æ•°çš„è¿‡ç¨‹è°ƒç”¨</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Nt4y1G728/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">è¶…ç¡¬æ ¸ï¼408è€ƒç ”é‡ç‚¹ï¼æ±‡ç¼–è¯­è¨€è¡¨ç¤ºç¨‹åºå‡½æ•°çš„è¿‡ç¨‹è°ƒç”¨ï¼23ç‹é“è®¡ç®—æœºç»„æˆåŸç†æŒ‡ä»¤ç³»ç»Ÿ_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="åæ±‡ç¼–"><a href="#åæ±‡ç¼–" class="headerlink" title="åæ±‡ç¼–"></a>åæ±‡ç¼–</h4><p>åæ±‡ç¼–ä»£ç æ˜¯å°†äºŒè¿›åˆ¶æœºå™¨ç ï¼ˆå¦‚å¯æ‰§è¡Œæ–‡ä»¶ã€å†…å­˜è½¬å‚¨ï¼‰è½¬æ¢ä¸º <strong>äººç±»å¯è¯»çš„æ±‡ç¼–æŒ‡ä»¤</strong> çš„ç»“æœã€‚å®ƒæ˜¯é€†å‘å·¥ç¨‹ã€æ¼æ´åˆ†æã€è°ƒè¯•ç­‰é¢†åŸŸçš„æ ¸å¿ƒå·¥å…·ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è¯´æ˜ï¼š</p>
<p><strong>1. åæ±‡ç¼–ä»£ç çš„å®šä¹‰</strong></p>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šå°†æœºå™¨ç ï¼ˆäºŒè¿›åˆ¶/åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºå¯¹åº”çš„æ±‡ç¼–æŒ‡ä»¤ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šå¸®åŠ©å¼€å‘è€…ç†è§£ç¨‹åºé€»è¾‘ã€åˆ†ææ¶æ„è½¯ä»¶ã€è°ƒè¯•å´©æºƒåŸå› æˆ–ç ”ç©¶ç¼–è¯‘å™¨ä¼˜åŒ–ã€‚</li>
</ul>
<p><strong>2. åæ±‡ç¼–ä»£ç çš„å…¸å‹æ ¼å¼</strong></p>
<p>åæ±‡ç¼–ä»£ç é€šå¸¸åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š<br>| <strong>å­—æ®µ</strong>                  | <strong>è¯´æ˜</strong>                                           | <strong>ç¤ºä¾‹</strong>                     |<br>| â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| <strong>åœ°å€ï¼ˆAddressï¼‰</strong>       | æŒ‡ä»¤åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼ˆåå…­è¿›åˆ¶ï¼‰ã€‚                   | <code>0x804838c</code>                  |<br>| <strong>æœºå™¨ç ï¼ˆOpcodeï¼‰</strong>      | å¯¹åº”çš„åŸå§‹åå…­è¿›åˆ¶æœºå™¨ç ï¼ˆæœºå™¨æŒ‡ä»¤çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚ | <code>74 08</code>                      |<br>| <strong>æ±‡ç¼–æŒ‡ä»¤ï¼ˆMnemonicï¼‰</strong>  | æ±‡ç¼–åŠ©è®°ç¬¦ï¼ˆå¦‚ <code>mov</code>, <code>jmp</code>, <code>call</code>ï¼‰åŠæ“ä½œæ•°ã€‚    | <code>je 0x8048396</code>               |<br>| <strong>æ³¨é‡Šï¼ˆComment, å¯é€‰ï¼‰</strong> | å¼€å‘è€…æ·»åŠ çš„æ³¨é‡Šï¼ˆæŸäº›å·¥å…·ä¼šè‡ªåŠ¨ç”Ÿæˆç¬¦å·ä¿¡æ¯ï¼‰ã€‚   | <code>; if (eax == 0) goto label</code> |</p>
<p><strong>ç¤ºä¾‹åæ±‡ç¼–ä»£ç ï¼ˆAT&amp;Tæ ¼å¼ï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0804838c &lt;main&gt;:</span><br><span class="line">804838c:    74 08                   je     8048396 &lt;main+0xa&gt;</span><br><span class="line">804838e:    b8 00 00 00 00          mov    $0x0, %eax</span><br><span class="line">8048393:    e9 0e 00 00 00          jmp    80483a6 &lt;main+0x1a&gt;</span><br></pre></td></tr></table></figure>
<h4 id="å¤§ç«¯å°ç«¯"><a href="#å¤§ç«¯å°ç«¯" class="headerlink" title="å¤§ç«¯å°ç«¯"></a>å¤§ç«¯å°ç«¯</h4><p><strong>å°ç«¯æ–¹å¼ï¼ˆLittle-Endianï¼‰</strong> æ˜¯ä¸€ç§ <strong>æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨é¡ºåº</strong>ï¼Œå…¶æ ¸å¿ƒç‰¹ç‚¹æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ•°æ®çš„ä½ä½å­—èŠ‚ï¼ˆLSB, Least Significant Byteï¼‰å­˜å‚¨åœ¨å†…å­˜çš„ä½åœ°å€å¤„ï¼Œé«˜ä½å­—èŠ‚ï¼ˆMSB, Most Significant Byteï¼‰å­˜å‚¨åœ¨é«˜åœ°å€å¤„</strong>ã€‚</p>
</blockquote>
<p><strong>1. å°ç«¯ vs å¤§ç«¯</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>ç‰¹æ€§</strong></th>
<th><strong>å°ç«¯ï¼ˆLittle-Endianï¼‰</strong></th>
<th><strong>å¤§ç«¯ï¼ˆBig-Endianï¼‰</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å­˜å‚¨é¡ºåº</strong></td>
<td>ä½ä½å­—èŠ‚åœ¨å‰ï¼ˆä½åœ°å€ï¼‰ï¼Œé«˜ä½åœ¨å</td>
<td>é«˜ä½å­—èŠ‚åœ¨å‰ï¼ˆä½åœ°å€ï¼‰ï¼Œä½ä½åœ¨å</td>
</tr>
<tr>
<td><strong>ç¤ºä¾‹</strong></td>
<td><code>0x12345678</code> â†’ å­˜å‚¨ä¸º <code>78 56 34 12</code></td>
<td><code>0x12345678</code> â†’ å­˜å‚¨ä¸º <code>12 34 56 78</code></td>
</tr>
<tr>
<td><strong>å¸¸è§å¹³å°</strong></td>
<td>x86/x64 æ¶æ„ï¼ˆIntel/AMD å¤„ç†å™¨ï¼‰</td>
<td>ARMï¼ˆéƒ¨åˆ†æ¨¡å¼ï¼‰ã€ç½‘ç»œåè®®ï¼ˆTCP/IPï¼‰</td>
</tr>
</tbody>
</table>
</div>
<p><strong>2. å°ç«¯æ–¹å¼çš„ç›´è§‚ç†è§£</strong></p>
<p><strong>ç¤ºä¾‹ï¼š32ä½æ•´æ•° <code>0x12345678</code></strong></p>
<ul>
<li><strong>å†…å­˜åœ°å€åˆ†é…</strong>ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åœ°å€ â†’    0x1000    0x1001    0x1002    0x1003</span><br><span class="line">         +---------+---------+---------+---------+</span><br><span class="line">         |  0x78   |  0x56   |  0x34   |  0x12   |</span><br><span class="line">         +---------+---------+---------+---------+</span><br></pre></td></tr></table></figure></li>
<li><strong>è§£é‡Š</strong>ï¼š<ul>
<li>æ•°æ®çš„æœ€ä½ä½å­—èŠ‚ <code>0x78</code> å­˜å‚¨åœ¨æœ€ä½åœ°å€ <code>0x1000</code>ã€‚</li>
<li>é«˜ä½å­—èŠ‚ <code>0x12</code> å­˜å‚¨åœ¨æœ€é«˜åœ°å€ <code>0x1003</code>ã€‚</li>
</ul>
</li>
</ul>
<h4 id="è½¬ç§»ç›®æ ‡åœ°å€çš„è®¡ç®—"><a href="#è½¬ç§»ç›®æ ‡åœ°å€çš„è®¡ç®—" class="headerlink" title="è½¬ç§»ç›®æ ‡åœ°å€çš„è®¡ç®—"></a>è½¬ç§»ç›®æ ‡åœ°å€çš„è®¡ç®—</h4><p>åœ¨ IA-32ï¼ˆx86ï¼‰æ¶æ„ä¸­ï¼Œ<strong>è½¬ç§»ç›®æ ‡åœ°å€çš„è®¡ç®—</strong>ä¾èµ–äº <strong>æŒ‡ä»¤çš„é•¿åº¦</strong> å’Œ <strong>ç›¸å¯¹åç§»é‡ï¼ˆDisplacementï¼‰</strong>ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†åˆ†æï¼š</p>
<p><strong>1. è½¬ç§»æŒ‡ä»¤çš„åŸºæœ¬åŸç†</strong></p>
<ul>
<li><strong>ç›¸å¯¹è·³è½¬ï¼ˆRelative Jumpï¼‰</strong>ï¼šè½¬ç§»ç›®æ ‡åœ°å€ = <strong>ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€</strong> + <strong>åç§»é‡</strong>ã€‚</li>
<li><strong>åç§»é‡</strong>ï¼šæœ‰ç¬¦å·çš„ 8 ä½ã€16 ä½æˆ– 32 ä½æ•´æ•°ï¼Œè¡¨ç¤ºä» <strong>ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€</strong> å¼€å§‹çš„åç§»ï¼ˆæ­£å‘æˆ–è´Ÿå‘ï¼‰ã€‚</li>
<li><strong>å°ç«¯æ–¹å¼ï¼ˆLittle-Endianï¼‰</strong>ï¼šå¤šå­—èŠ‚åç§»é‡éœ€æŒ‰å°ç«¯æ–¹å¼å­˜å‚¨ï¼ˆä½ä½å­—èŠ‚åœ¨å‰ï¼‰ã€‚</li>
</ul>
<p><strong>2. ç¤ºä¾‹ï¼š<code>call</code> æŒ‡ä»¤çš„åœ°å€è®¡ç®—</strong></p>
<p><strong>(1) å·²çŸ¥æ¡ä»¶</strong></p>
<ul>
<li><strong>æŒ‡ä»¤åœ°å€</strong>ï¼š<code>0x804838e</code>ï¼ˆ<code>call</code> æŒ‡ä»¤çš„èµ·å§‹åœ°å€ï¼‰ã€‚</li>
<li><strong>æœºå™¨ç </strong>ï¼š<code>E8 1E 00 00 00</code>ã€‚<ul>
<li><code>E8</code> æ˜¯ <code>call</code> çš„æ“ä½œç ã€‚</li>
<li><code>1E 00 00 00</code> æ˜¯åç§»é‡ï¼ˆå°ç«¯æ–¹å¼å­˜å‚¨ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>(2) è®¡ç®—æ­¥éª¤</strong></p>
<ol>
<li><strong>ç¡®å®šæŒ‡ä»¤é•¿åº¦</strong>ï¼š<ul>
<li><code>call</code> æŒ‡ä»¤å  <strong>5 å­—èŠ‚</strong>ï¼ˆ1 å­—èŠ‚æ“ä½œç  + 4 å­—èŠ‚åç§»é‡ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è®¡ç®—ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€</strong>ï¼š<ul>
<li>ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ = å½“å‰æŒ‡ä»¤åœ°å€ + æŒ‡ä»¤é•¿åº¦<br>= <code>0x804838e + 5 = 0x8048393</code>ã€‚</li>
</ul>
</li>
<li><strong>è§£æåç§»é‡</strong>ï¼š<ul>
<li>åç§»é‡å­—æ®µä¸º <code>1E 00 00 00</code>ï¼ˆå°ç«¯æ–¹å¼ï¼‰â†’ è½¬æ¢ä¸ºå¤§ç«¯é¡ºåºä¸º <code>0x0000001E</code>ï¼ˆåè¿›åˆ¶ 30ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è®¡ç®—è½¬ç§»ç›®æ ‡åœ°å€</strong>ï¼š<ul>
<li>è½¬ç§»ç›®æ ‡åœ°å€ = ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ + åç§»é‡<br>= <code>0x8048393 + 0x1E = 0x80483B1</code>ã€‚</li>
</ul>
</li>
</ol>
<p><strong>3. æ ¸å¿ƒå…¬å¼</strong></p>
<script type="math/tex; mode=display">
\text{ç›®æ ‡åœ°å€} = (\text{å½“å‰æŒ‡ä»¤åœ°å€} + \text{æŒ‡ä»¤é•¿åº¦}) + \text{åç§»é‡}</script><ul>
<li><strong>å½“å‰æŒ‡ä»¤åœ°å€</strong>ï¼šæŒ‡ä»¤çš„èµ·å§‹åœ°å€ï¼ˆå¦‚ <code>0x804838e</code>ï¼‰ã€‚</li>
<li><strong>æŒ‡ä»¤é•¿åº¦</strong>ï¼šç”±æ“ä½œç å’Œæ“ä½œæ•°å†³å®šï¼ˆå¦‚ <code>call</code> å  5 å­—èŠ‚ï¼‰ã€‚</li>
<li><strong>åç§»é‡</strong>ï¼šä»æŒ‡ä»¤çš„æ“ä½œæ•°ä¸­æå–å¹¶è½¬æ¢ä¸ºæœ‰ç¬¦å·æ•´æ•°ã€‚</li>
</ul>
<p><strong>9. å…¶ä»–æŒ‡ä»¤ç¤ºä¾‹</strong></p>
<p><strong>(1) <code>je</code> æŒ‡ä»¤</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">804838c:    74 08                   je     0x8048396</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>å½“å‰åœ°å€</strong>ï¼š<code>0x804838c</code>ã€‚</li>
<li><strong>æŒ‡ä»¤é•¿åº¦</strong>ï¼š2 å­—èŠ‚ã€‚</li>
<li><strong>åç§»é‡</strong>ï¼š<code>0x08</code>ï¼ˆå•å­—èŠ‚ï¼Œæ— éœ€åè½¬ï¼‰ã€‚</li>
<li><strong>ç›®æ ‡åœ°å€</strong>ï¼š<code>0x804838c + 2 + 0x08 = 0x8048396</code>ã€‚</li>
</ul>
<p><strong>(2) <code>jmp</code> æŒ‡ä»¤</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">80483a4:    E9 F6 FF FF FF          jmp    0x804839f</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>å½“å‰åœ°å€</strong>ï¼š<code>0x80483a4</code>ã€‚</li>
<li><strong>æŒ‡ä»¤é•¿åº¦</strong>ï¼š5 å­—èŠ‚ã€‚</li>
<li><strong>åç§»é‡</strong>ï¼š<code>F6 FF FF FF</code>ï¼ˆå°ç«¯ï¼‰â†’ è¡¥ç ä¸º <code>-10</code>ï¼ˆåè¿›åˆ¶ï¼‰ã€‚</li>
<li><strong>ç›®æ ‡åœ°å€</strong>ï¼š<code>0x80483a4 + 5 + (-10) = 0x804839f</code>ã€‚</li>
</ul>
<h4 id="è®¡ç®—ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€"><a href="#è®¡ç®—ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€" class="headerlink" title="è®¡ç®—ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€"></a><strong>è®¡ç®—ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€</strong></h4><p>ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€=å½“å‰æŒ‡ä»¤åœ°å€+å½“å‰æŒ‡ä»¤é•¿åº¦</p>
<h3 id="ç¬¬å››ç« -ç¨‹åºçš„é“¾æ¥"><a href="#ç¬¬å››ç« -ç¨‹åºçš„é“¾æ¥" class="headerlink" title="ç¬¬å››ç«  ç¨‹åºçš„é“¾æ¥"></a>ç¬¬å››ç«  ç¨‹åºçš„é“¾æ¥</h3><h4 id="é‡å®šä½"><a href="#é‡å®šä½" class="headerlink" title="é‡å®šä½"></a>é‡å®šä½</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JL411L7ku?spm_id_from=333.788.videopod.sections&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‘7-6. é‡å®šä½_å“”å“©å“”å“©_bilibili</a></p>
<h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1oe411n72U/?spm_id_from=333.337.search-card.all.click">3åˆ†é’Ÿå½»åº•ç†è§£é“¾æ¥å™¨_å“”å“©å“”å“©_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/gzxb1995/article/details/105088502">è®¡ç®—æœºç³»ç»ŸåŸºç¡€æ‘˜è®°â€”â€”ç¨‹åºçš„é“¾æ¥_å¼•å…¥é“¾æ¥çš„å¥½å¤„æ˜¯ä»€ä¹ˆ-CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1oS4y1T7Uf?spm_id_from=333.788.player.switch&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ã€CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‘7-5. é™æ€åº“çš„è§£æè¿‡ç¨‹_å“”å“©å“”å“©_bilibili</a></p>
<h3 id="å…¶ä»–-1"><a href="#å…¶ä»–-1" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>gdbè°ƒè¯•</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Sg41167B1/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">ä¸€åˆ†é’Ÿå­¦ä¼šGDBç¨‹åºè°ƒè¯•_å“”å“©å“”å“©_bilibili</a></p>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV17K4y1N7Q2?spm_id_from=333.788.videopod.episodes&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿåˆé›†ï¼ˆå‘¨æ›´ä¸­ï¼‰_å“”å“©å“”å“©_bilibili</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/" class="post-title-link" itemprop="url">è®¡ç®—æœºç³»ç»ŸåŸºç¡€æœŸæœ«ç¬”è®°æ±‡æ€»</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-09 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-09T00:00:00+08:00">2025-06-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-08-02 22:45:24" itemprop="dateModified" datetime="2025-08-02T22:45:24+08:00">2025-08-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤§äºŒä¸‹</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">è®¡ç®—æœºç³»ç»ŸåŸºç¡€</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="ç¬”è®°"><a href="#ç¬”è®°" class="headerlink" title="ç¬”è®°"></a>ç¬”è®°</h3><p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/IMG_20250706_165933.jpg" alt="IMG_20250706_165933"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/IMG_20250706_165925.jpg" alt="IMG_20250706_165925"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/IMG_20250706_165919.jpg" alt="IMG_20250706_165919"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/IMG_20250706_165914.jpg" alt="IMG_20250706_165914"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/IMG_20250706_165903.jpg" alt="IMG_20250706_165903"></p>
<p><img src="/2025/06/09/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/IMG_20250706_165909.jpg" alt="IMG_20250706_165909"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/" class="post-title-link" itemprop="url">æœºå™¨å­¦ä¹ â€”â€”æœŸæœ«å¤ä¹ ï¼ˆä¸‹ï¼‰</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-06 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-06T00:00:00+08:00">2025-06-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-06-22 19:53:19" itemprop="dateModified" datetime="2025-06-22T19:53:19+08:00">2025-06-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤§äºŒä¸‹</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">æœºå™¨å­¦ä¹ </span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="æœŸæœ«å¤ä¹ "><a href="#æœŸæœ«å¤ä¹ " class="headerlink" title="æœŸæœ«å¤ä¹ "></a>æœŸæœ«å¤ä¹ </h2><h3 id="æ–¹å·®ä¸åå·®"><a href="#æ–¹å·®ä¸åå·®" class="headerlink" title="æ–¹å·®ä¸åå·®"></a>æ–¹å·®ä¸åå·®</h3><p>æ–¹å·®ï¼ˆVarianceï¼‰å’Œåå·®ï¼ˆBiasï¼‰æ˜¯æœºå™¨å­¦ä¹ ä¸­è¡¡é‡æ¨¡å‹æ€§èƒ½çš„ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»¬å…±åŒæ„æˆäº†<strong>åå·®-æ–¹å·®æƒè¡¡</strong>ï¼ˆBias-Variance Tradeoffï¼‰çš„åŸºç¡€æ¡†æ¶ã€‚ä»¥ä¸‹æ˜¯ä¸¤è€…çš„å®šä¹‰ä¸åŒºåˆ«ï¼š</p>
<p><strong>1. åå·®ï¼ˆBiasï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šåå·®æ˜¯æŒ‡æ¨¡å‹é¢„æµ‹çš„æœŸæœ›å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„å·®å¼‚ã€‚å®ƒåæ˜ äº†æ¨¡å‹æœ¬èº«çš„æ‹Ÿåˆèƒ½åŠ›ï¼Œå³æ˜¯å¦èƒ½å¤Ÿå‡†ç¡®æ•æ‰æ•°æ®ä¸­çš„è§„å¾‹ã€‚</li>
</ul>
<p><strong>2. æ–¹å·®ï¼ˆVarianceï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šæ–¹å·®æ˜¯æŒ‡æ¨¡å‹åœ¨ä¸åŒè®­ç»ƒæ•°æ®é›†ä¸‹é¢„æµ‹ç»“æœçš„æ³¢åŠ¨ç¨‹åº¦ã€‚å®ƒè¡¡é‡äº†æ¨¡å‹å¯¹è®­ç»ƒæ•°æ®ä¸­å™ªå£°æˆ–å¾®å°å˜åŒ–çš„æ•æ„Ÿæ€§ã€‚</li>
</ul>
<p><strong>3. å¦‚ä½•é™ä½åå·®ä¸æ–¹å·®</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>ç›®æ ‡</strong></th>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>ç¤ºä¾‹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>é™ä½åå·®</strong></td>
<td>å¢åŠ æ¨¡å‹å¤æ‚åº¦ï¼ˆå¦‚æ›´å¤šç‰¹å¾ã€æ›´æ·±çš„ç¥ç»ç½‘ç»œï¼‰ã€å‡å°‘æ­£åˆ™åŒ–å¼ºåº¦</td>
<td>ä½¿ç”¨å¤šé¡¹å¼å›å½’æ›¿ä»£çº¿æ€§å›å½’</td>
</tr>
<tr>
<td><strong>é™ä½æ–¹å·®</strong></td>
<td>å¢åŠ è®­ç»ƒæ•°æ®ã€å¼•å…¥æ­£åˆ™åŒ–ï¼ˆL1/L2ï¼‰ã€ä½¿ç”¨é›†æˆæ–¹æ³•ï¼ˆå¦‚ Baggingã€Boostingï¼‰</td>
<td>éšæœºæ£®æ—ï¼ˆBaggingï¼‰é™ä½å†³ç­–æ ‘çš„æ–¹å·®</td>
</tr>
</tbody>
</table>
</div>
<p><strong>4. æ€»ç»“</strong></p>
<ul>
<li><strong>åå·®</strong>å…³æ³¨æ¨¡å‹æ˜¯å¦èƒ½å‡†ç¡®æ‹Ÿåˆæ•°æ®ï¼ˆ<strong>å­¦ä¹ èƒ½åŠ›</strong>ï¼‰ï¼Œè€Œ<strong>æ–¹å·®</strong>å…³æ³¨æ¨¡å‹å¯¹æ•°æ®æ³¢åŠ¨çš„ç¨³å®šæ€§ï¼ˆ<strong>æ³›åŒ–èƒ½åŠ›</strong>ï¼‰ã€‚</li>
<li>å®é™…åº”ç”¨ä¸­éœ€é€šè¿‡äº¤å‰éªŒè¯ã€æ­£åˆ™åŒ–æˆ–é›†æˆå­¦ä¹ ç­‰æŠ€æœ¯å¹³è¡¡ä¸¤è€…çš„å…³ç³»ã€‚</li>
</ul>
<h3 id="ç›‘ç£å­¦ä¹ ä¸æ— ç›‘ç£å­¦ä¹ "><a href="#ç›‘ç£å­¦ä¹ ä¸æ— ç›‘ç£å­¦ä¹ " class="headerlink" title="ç›‘ç£å­¦ä¹ ä¸æ— ç›‘ç£å­¦ä¹ "></a>ç›‘ç£å­¦ä¹ ä¸æ— ç›‘ç£å­¦ä¹ </h3><p>ä»¥ä¸‹æ˜¯å…³äºç›‘ç£å­¦ä¹ ä¸æ— ç›‘ç£å­¦ä¹ çš„æ ¸å¿ƒåŒºåˆ«æ€»ç»“ï¼š</p>
<p><strong>1. ç›‘ç£å­¦ä¹ ï¼ˆSupervised Learningï¼‰</strong></p>
<p><strong>ä»»åŠ¡ç±»å‹</strong>ï¼š  </p>
<ul>
<li><strong>åˆ†ç±»ï¼ˆClassificationï¼‰</strong>ï¼šé¢„æµ‹ç¦»æ•£ç±»åˆ«æ ‡ç­¾ï¼ˆå¦‚åƒåœ¾é‚®ä»¶/éåƒåœ¾é‚®ä»¶ï¼‰ã€‚  </li>
<li><strong>å›å½’ï¼ˆRegressionï¼‰</strong>ï¼šé¢„æµ‹è¿ç»­æ•°å€¼æ ‡ç­¾ï¼ˆå¦‚æˆ¿ä»·é¢„æµ‹ï¼‰ã€‚  </li>
</ul>
<p><strong>ç‰¹ç‚¹</strong>ï¼š  </p>
<ul>
<li>éœ€è¦<strong>å¸¦æ ‡ç­¾çš„æ ·æœ¬</strong>ï¼ˆLabeled Dataï¼‰ï¼Œå³æ¯ä¸ªè®­ç»ƒæ ·æœ¬éƒ½æœ‰æ˜ç¡®çš„è¾“å…¥ $ x $ å’Œè¾“å‡º $ y $ã€‚  </li>
<li>æ¨¡å‹é€šè¿‡å­¦ä¹ è¾“å…¥ä¸æ ‡ç­¾ä¹‹é—´çš„æ˜ å°„å…³ç³»è¿›è¡Œé¢„æµ‹ã€‚  </li>
</ul>
<p><strong>2. æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised Learningï¼‰</strong></p>
<p><strong>ä»»åŠ¡ç±»å‹</strong>ï¼š  </p>
<ul>
<li><strong>èšç±»ï¼ˆClusteringï¼‰</strong>ï¼šå°†æ ·æœ¬åˆ’åˆ†ä¸ºå…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„ç¾¤ä½“ï¼ˆå¦‚å®¢æˆ·åˆ†ç¾¤ï¼‰ã€‚  </li>
<li><strong>é™ç»´ï¼ˆDimensionality Reductionï¼‰</strong>ï¼šå‹ç¼©æ•°æ®ç»´åº¦åŒæ—¶ä¿ç•™å…³é”®ä¿¡æ¯ï¼ˆå¦‚PCAï¼‰ã€‚  </li>
</ul>
<p><strong>ç‰¹ç‚¹</strong>ï¼š  </p>
<ul>
<li>ä»…éœ€<strong>æ— æ ‡ç­¾çš„æ ·æœ¬</strong>ï¼ˆUnlabeled Dataï¼‰ï¼Œæ— éœ€é¢„å…ˆå®šä¹‰è¾“å‡ºç›®æ ‡ã€‚  </li>
<li>æ¨¡å‹è‡ªä¸»æŒ–æ˜æ•°æ®å†…åœ¨ç»“æ„æˆ–åˆ†å¸ƒè§„å¾‹ã€‚  </li>
</ul>
<h3 id="è´å¶æ–¯åˆ†ç±»"><a href="#è´å¶æ–¯åˆ†ç±»" class="headerlink" title="è´å¶æ–¯åˆ†ç±»"></a>è´å¶æ–¯åˆ†ç±»</h3><h4 id="è´å¶æ–¯åˆ†ç±»å™¨"><a href="#è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="è´å¶æ–¯åˆ†ç±»å™¨"></a>è´å¶æ–¯åˆ†ç±»å™¨</h4><h5 id="è´å¶æ–¯å†³ç­–è®º"><a href="#è´å¶æ–¯å†³ç­–è®º" class="headerlink" title="è´å¶æ–¯å†³ç­–è®º"></a>è´å¶æ–¯å†³ç­–è®º</h5><p>æœ¬è´¨æ€æƒ³ï¼šå¯»æ‰¾åˆé€‚çš„å‚æ•°ä½¿å¾—ã€Œå½“å‰çš„æ ·æœ¬æƒ…å†µå‘ç”Ÿçš„æ¦‚ç‡ã€æœ€å¤§ã€‚</p>
<p>åˆç”±äºå‡è®¾æ¯ä¸€ä¸ªæ ·æœ¬ç›¸äº’ç‹¬ç«‹ï¼ˆæ¦‚ç‡æ¡ä»¶ç†æƒ³çš„æƒ…å†µä¸‹ï¼‰ï¼Œå› æ­¤å¯ä»¥ç”¨è¿ä¹˜çš„å½¢å¼è¡¨ç¤ºä¸Šè¿°æ¦‚ç‡ï¼Œå½“ç„¶ç”±äºæ¦‚ç‡è¾ƒå°å¯¼è‡´è¿ä¹˜å®¹æ˜“å‡ºç°æµ®ç‚¹æ•°ç²¾åº¦æŸå¤±ï¼Œå› æ­¤å°å°é‡‡ç”¨å–å¯¹æ•°çš„æ–¹å¼æ¥é¿å…ã€Œä¸‹æº¢ã€é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯æ‰€è°“çš„ã€Œå¯¹æ•°ä¼¼ç„¶ä¼°è®¡ã€æ–¹æ³•ã€‚</p>
<p>åœ¨å·²çŸ¥æ ·æœ¬ç‰¹å¾ $ \mathbf{x} $ çš„æ¡ä»¶ä¸‹ï¼Œé€‰æ‹©åˆ†ç±»ç»“æœ $ c_i $ï¼Œä½¿å¾—åˆ†ç±»çš„æœŸæœ›æŸå¤±ï¼ˆRiskï¼‰æœ€å°<strong>ã€‚</strong></p>
<p><strong>(1) æŸå¤±å‡½æ•° $ \lambda_{ij} $</strong></p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼š$ \lambda_{ij} $ æ˜¯å°†çœŸå®ç±»åˆ«ä¸º $ c_j $ çš„æ ·æœ¬è¯¯åˆ†ç±»ä¸º $ c_i $ æ‰€äº§ç”Ÿçš„æŸå¤±ã€‚<ul>
<li>ä¾‹å¦‚ï¼š<ul>
<li>åœ¨åŒ»å­¦è¯Šæ–­ä¸­ï¼Œè‹¥ $ c_1 $ è¡¨ç¤ºâ€œæ‚£ç—…â€ï¼Œ$ c_2 $ è¡¨ç¤ºâ€œæœªæ‚£ç—…â€ï¼š<ul>
<li>$ \lambda_{21} $ï¼šå°†å®é™…æ‚£ç—…ï¼ˆ$ c_1 $ï¼‰è¯¯åˆ¤ä¸ºæœªæ‚£ç—…ï¼ˆ$ c_2 $ï¼‰çš„æŸå¤±ï¼ˆå¯èƒ½æ›´é«˜ï¼‰ã€‚</li>
<li>$ \lambda_{12} $ï¼šå°†å®é™…æœªæ‚£ç—…ï¼ˆ$ c_2 $ï¼‰è¯¯åˆ¤ä¸ºæ‚£ç—…ï¼ˆ$ c_1 $ï¼‰çš„æŸå¤±ï¼ˆå¯èƒ½è¾ƒä½ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>(2) æ¡ä»¶é£é™©ï¼ˆå•ä¸ªæ ·æœ¬çš„æœŸæœ›æŸå¤±ï¼‰</strong></p>
<p>å¯¹äºç»™å®šæ ·æœ¬ $ \mathbf{x} $ï¼Œè‹¥å°†å…¶åˆ†ç±»ä¸º $ c_i $ï¼Œåˆ™å…¶<strong>æ¡ä»¶é£é™©</strong>ä¸ºï¼š</p>
<script type="math/tex; mode=display">
R(c_i | \mathbf{x}) = \sum_{j=1}^N \lambda_{ij} P(c_j | \mathbf{x})</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šåœ¨å·²çŸ¥ $ \mathbf{x} $ çš„æƒ…å†µä¸‹ï¼Œåˆ†ç±»ä¸º $ c_i $ çš„å¹³å‡æŸå¤±ã€‚</li>
<li><strong>æ¨å¯¼</strong>ï¼š<ul>
<li>$ P(c_j | \mathbf{x}) $ï¼šæ ·æœ¬ $ \mathbf{x} $ çœŸå®å±äº $ c_j $ çš„åéªŒæ¦‚ç‡ã€‚</li>
<li>$ \lambda<em>{ij} $ï¼šè‹¥çœŸå®ç±»åˆ«æ˜¯ $ c_j $ï¼Œä½†è¢«åˆ†åˆ° $ c_i $ï¼Œåˆ™äº§ç”ŸæŸå¤± $ \lambda</em>{ij} $ã€‚</li>
<li>å› æ­¤ï¼Œæ€»æœŸæœ›æŸå¤±æ˜¯æ‰€æœ‰å¯èƒ½çœŸå®ç±»åˆ«çš„åŠ æƒå’Œï¼ˆæƒé‡ä¸ºåéªŒæ¦‚ç‡ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>(3) æ€»ä½“é£é™©</strong></p>
<p>å¯¹äºæ•´ä¸ªæ•°æ®é›†ï¼Œåˆ†ç±»å™¨ $ h(\mathbf{x}) $ çš„<strong>æ€»ä½“é£é™©</strong>ä¸ºï¼š</p>
<script type="math/tex; mode=display">
R(h) = \mathbb{E}_{\mathbf{x}}[R(h(\mathbf{x}) | \mathbf{x})] = \int R(h(\mathbf{x}) | \mathbf{x}) p(\mathbf{x}) d\mathbf{x}</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šæ‰€æœ‰æ ·æœ¬çš„å¹³å‡æ¡ä»¶é£é™©ã€‚hä¸ºåˆ†ç±»å™¨ï¼ˆæ¨¡å‹ï¼‰</li>
<li><strong>ç›®æ ‡</strong>ï¼šæ‰¾åˆ°ä½¿ $ R(h) $ æœ€å°çš„åˆ†ç±»å™¨ $ h(\mathbf{x}) $ã€‚</li>
</ul>
<h5 id="è´å¶æ–¯å†³ç­–è§„åˆ™"><a href="#è´å¶æ–¯å†³ç­–è§„åˆ™" class="headerlink" title="è´å¶æ–¯å†³ç­–è§„åˆ™"></a><strong>è´å¶æ–¯å†³ç­–è§„åˆ™</strong></h5><p>æ ¹æ®ä¸Šè¿°å®šä¹‰ï¼Œè´å¶æ–¯å†³ç­–è®ºçš„åˆ†ç±»è§„åˆ™æ˜¯ï¼š</p>
<blockquote>
<p><strong>å¯¹äºæ ·æœ¬ $ \mathbf{x} $ï¼Œé€‰æ‹©ä½¿å…¶æ¡ä»¶é£é™© $ R(c_i | \mathbf{x}) $ æœ€å°çš„ç±»åˆ« $ c_i $ ä½œä¸ºé¢„æµ‹ç»“æœã€‚</strong></p>
</blockquote>
<p>å³ï¼š</p>
<script type="math/tex; mode=display">
h^*(\mathbf{x}) = \arg\min_{c_i} R(c_i | \mathbf{x}) = \arg\min_{c_i} \sum_{j=1}^N \lambda_{ij} P(c_j | \mathbf{x})</script><h5 id="ç‰¹æ®Šæƒ…å†µï¼š0-1-æŸå¤±å‡½æ•°"><a href="#ç‰¹æ®Šæƒ…å†µï¼š0-1-æŸå¤±å‡½æ•°" class="headerlink" title="ç‰¹æ®Šæƒ…å†µï¼š0-1 æŸå¤±å‡½æ•°"></a><strong>ç‰¹æ®Šæƒ…å†µï¼š0-1 æŸå¤±å‡½æ•°</strong></h5><p>å½“æ‰€æœ‰è¯¯åˆ†ç±»çš„æŸå¤±ç›¸åŒï¼ˆå³ $ \lambda<em>{ij} = 1 $ å¯¹äº $ i \neq j $ï¼Œ$ \lambda</em>{ii} = 0 $ï¼‰<strong>0-1 æŸå¤±å‡½æ•°</strong>ï¼š</p>
<script type="math/tex; mode=display">
\lambda_{ij} = 
\begin{cases}
0, & \text{if } i = j \\
1, & \text{otherwise}
\end{cases}</script><p>æ­¤æ—¶æ¡ä»¶é£é™©ç®€åŒ–ä¸ºï¼š</p>
<script type="math/tex; mode=display">
R(c_i | \mathbf{x}) = \sum_{j \neq i} P(c_j | \mathbf{x}) = 1 - P(c_i | \mathbf{x})</script><p>åŸå› ï¼šæ¦‚ç‡ä¹‹å’Œä¸º 1ï¼š$ \sum<em>{j=1}^N P(c_j | \mathbf{x}) = 1 $ï¼Œå› æ­¤ $ \sum</em>{j \neq i} P(c_j | \mathbf{x}) = 1 - P(c_i | \mathbf{x}) $ã€‚</p>
<p>æ­¤æ—¶ï¼Œæœ€å°åŒ–é£é™©ç­‰ä»·äº<strong>æœ€å¤§åŒ–åéªŒæ¦‚ç‡</strong>ï¼Œå³ï¼š</p>
<script type="math/tex; mode=display">
h^*(\mathbf{x}) = \arg\max_{c_i} P(c_i | \mathbf{x})</script><p>è¿™æ­£æ˜¯ä¼ ç»Ÿè´å¶æ–¯åˆ†ç±»å™¨çš„å†³ç­–è§„åˆ™ã€‚</p>
<blockquote>
<p>å³åœ¨xæ ·æœ¬çš„æƒ…å†µä¸‹ï¼Œåˆ†ç±»æ­£ç¡®çš„æ¦‚ç‡æœ€å¤§</p>
</blockquote>
<h4 id="åéªŒæ¦‚ç‡ä¸å…ˆéªŒæ¦‚ç‡"><a href="#åéªŒæ¦‚ç‡ä¸å…ˆéªŒæ¦‚ç‡" class="headerlink" title="åéªŒæ¦‚ç‡ä¸å…ˆéªŒæ¦‚ç‡"></a>åéªŒæ¦‚ç‡ä¸å…ˆéªŒæ¦‚ç‡</h4><h5 id="åéªŒæ¦‚ç‡"><a href="#åéªŒæ¦‚ç‡" class="headerlink" title="åéªŒæ¦‚ç‡"></a>åéªŒæ¦‚ç‡</h5><p>åéªŒæ¦‚ç‡ï¼ˆPosterior Probabilityï¼‰æ˜¯è´å¶æ–¯ç†è®ºä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯<strong>åœ¨è§‚å¯Ÿåˆ°æ–°è¯æ®ï¼ˆæ•°æ®ï¼‰åï¼Œå¯¹äº‹ä»¶å‘ç”Ÿæ¦‚ç‡çš„ä¿®æ­£</strong> ã€‚<br>å…¶æœ¬è´¨æ˜¯ï¼š</p>
<blockquote>
<p><strong>â€œå·²çŸ¥ç»“æœï¼ˆæ•°æ®ï¼‰ï¼Œåæ¨åŸå› ï¼ˆç±»åˆ«æˆ–å‚æ•°ï¼‰çš„æ¦‚ç‡â€</strong> ã€‚ </p>
</blockquote>
<p>å·²çŸ¥ç»“æœï¼ˆæ•°æ®ï¼‰Bï¼Œåæ¨æœ€å¯èƒ½çš„åŸå› Aï¼ˆåéªŒæ¦‚ç‡ <em>P</em>(<em>A</em>âˆ£<em>B</em>) ï¼‰</p>
<h5 id="å…ˆéªŒæ¦‚ç‡ï¼ˆPrior-Probabilityï¼‰"><a href="#å…ˆéªŒæ¦‚ç‡ï¼ˆPrior-Probabilityï¼‰" class="headerlink" title="å…ˆéªŒæ¦‚ç‡ï¼ˆPrior Probabilityï¼‰"></a><strong>å…ˆéªŒæ¦‚ç‡ï¼ˆPrior Probabilityï¼‰</strong></h5><p>å…ˆéªŒæ¦‚ç‡æ˜¯è´å¶æ–¯ç»Ÿè®¡ä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯åœ¨<strong>è§‚å¯Ÿåˆ°æ–°æ•°æ®ä¹‹å‰</strong>ï¼Œå¯¹æŸä¸€äº‹ä»¶æˆ–å‡è®¾çš„æ¦‚ç‡ä¼°è®¡ã€‚å®ƒæ˜¯åŸºäº<strong>å·²æœ‰çŸ¥è¯†ã€ç»éªŒæˆ–å‡è®¾</strong>å¾—å‡ºçš„åˆå§‹æ¦‚ç‡ï¼Œåç»­ä¼šé€šè¿‡æ–°æ•°æ®æ›´æ–°ä¸ºæ›´å‡†ç¡®çš„<strong>åéªŒæ¦‚ç‡</strong>ã€‚</p>
<p><strong>1. æ ¸å¿ƒå®šä¹‰</strong></p>
<ul>
<li><p><strong>æ•°å­¦è¡¨è¾¾</strong>ï¼š  </p>
<script type="math/tex; mode=display">
P(A)</script><ul>
<li>$ P(A) $ï¼šäº‹ä»¶ $ A $ çš„å…ˆéªŒæ¦‚ç‡ã€‚</li>
<li>ä¾‹å¦‚ï¼š$ A $ è¡¨ç¤ºâ€œæŸäººæ‚£æœ‰æŸç§ç–¾ç—…â€ï¼Œåˆ™ $ P(A) $ æ˜¯è¯¥ç–¾ç—…çš„å·²çŸ¥å‘ç—…ç‡ï¼ˆåœ¨æœªè¿›è¡Œæ£€æµ‹å‰çš„æ¦‚ç‡ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>ä¸åéªŒæ¦‚ç‡çš„åŒºåˆ«</strong>ï¼š  </p>
<ul>
<li><strong>å…ˆéªŒæ¦‚ç‡</strong>ï¼š$ P(A) $ï¼Œåœ¨æ— æ–°æ•°æ®æ—¶çš„æ¦‚ç‡ã€‚  </li>
<li><strong>åéªŒæ¦‚ç‡</strong>ï¼š$ P(A|B) $ï¼Œåœ¨è§‚å¯Ÿåˆ°æ•°æ® $ B $ åæ›´æ–°çš„æ¦‚ç‡ï¼ˆé€šè¿‡è´å¶æ–¯å®šç†è®¡ç®—ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. ç›´è§‚ç†è§£</strong></p>
<p><strong>(1) ç±»æ¯”ï¼šåŒ»å­¦è¯Šæ–­</strong></p>
<ul>
<li><strong>å…ˆéªŒæ¦‚ç‡</strong>ï¼šæŸç§ç–¾ç—…çš„å·²çŸ¥å‘ç—…ç‡ï¼ˆå¦‚ 1%ï¼‰ã€‚  </li>
<li><strong>æ–°æ•°æ®</strong>ï¼šæ‚£è€…æ¥å—æ£€æµ‹ï¼Œç»“æœä¸ºé˜³æ€§ã€‚  </li>
<li><strong>åéªŒæ¦‚ç‡</strong>ï¼šç»“åˆå‘ç—…ç‡å’Œæ£€æµ‹ç»“æœï¼Œè®¡ç®—å®é™…æ‚£ç—…çš„æ¦‚ç‡ï¼ˆå¦‚ 8.7%ï¼Œå‚è€ƒè´å¶æ–¯å®šç†çš„ç»å…¸åŒ»å­¦æµ‹è¯•æ¡ˆä¾‹ï¼‰ã€‚</li>
</ul>
<h4 id="ç”Ÿæˆå¼æ¨¡å‹å’Œåˆ¤åˆ«å¼æ¨¡å‹"><a href="#ç”Ÿæˆå¼æ¨¡å‹å’Œåˆ¤åˆ«å¼æ¨¡å‹" class="headerlink" title="ç”Ÿæˆå¼æ¨¡å‹å’Œåˆ¤åˆ«å¼æ¨¡å‹"></a>ç”Ÿæˆå¼æ¨¡å‹å’Œåˆ¤åˆ«å¼æ¨¡å‹</h4><h5 id="æ ¸å¿ƒåŒºåˆ«"><a href="#æ ¸å¿ƒåŒºåˆ«" class="headerlink" title="æ ¸å¿ƒåŒºåˆ«"></a><strong>æ ¸å¿ƒåŒºåˆ«</strong></h5><div class="table-container">
<table>
<thead>
<tr>
<th><strong>æ¨¡å‹ç±»å‹</strong></th>
<th><strong>å»ºæ¨¡ç›®æ ‡</strong></th>
<th><strong>æ•°å­¦è¡¨è¾¾</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>åˆ¤åˆ«å¼æ¨¡å‹</strong></td>
<td>ç›´æ¥å»ºæ¨¡ $ P(c</td>
<td>\mathbf{x}) $</td>
<td>$ P(c</td>
<td>\mathbf{x}) $</td>
</tr>
<tr>
<td><strong>ç”Ÿæˆå¼æ¨¡å‹</strong></td>
<td>å…ˆå»ºæ¨¡è”åˆæ¦‚ç‡ $ P(\mathbf{x}, c) $ï¼Œå†æ¨å¯¼ $ P(c</td>
<td>\mathbf{x}) $</td>
<td>$ P(c</td>
<td>\mathbf{x}) = \frac{P(\mathbf{x}</td>
<td>c)P(c)}{P(\mathbf{x})} $</td>
</tr>
</tbody>
</table>
</div>
<h5 id="è¯¦ç»†è§£é‡Š"><a href="#è¯¦ç»†è§£é‡Š" class="headerlink" title="è¯¦ç»†è§£é‡Š"></a><strong>è¯¦ç»†è§£é‡Š</strong></h5><p><strong>1. åˆ¤åˆ«å¼æ¨¡å‹ï¼ˆDiscriminative Modelï¼‰</strong></p>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šç›´æ¥å­¦ä¹ ä»è¾“å…¥ $ \mathbf{x} $ åˆ°æ ‡ç­¾ $ c $ çš„æ˜ å°„å…³ç³»ã€‚</li>
<li><strong>æ•°å­¦æœ¬è´¨</strong>ï¼šå»ºæ¨¡æ¡ä»¶æ¦‚ç‡ $ P(c|\mathbf{x}) $ï¼Œå³â€œå·²çŸ¥ç‰¹å¾ $ \mathbf{x} $ï¼Œé¢„æµ‹ç±»åˆ« $ c $â€ã€‚</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li>ä¸å…³å¿ƒæ•°æ®æœ¬èº«çš„åˆ†å¸ƒï¼Œåªå…³æ³¨åˆ†ç±»è¾¹ç•Œã€‚</li>
<li>ä¾‹å¦‚ï¼šé€»è¾‘å›å½’ã€æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰ã€ç¥ç»ç½‘ç»œç­‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. ç”Ÿæˆå¼æ¨¡å‹ï¼ˆGenerative Modelï¼‰</strong></p>
<ul>
<li><p><strong>ç›®æ ‡</strong>ï¼šå…ˆå­¦ä¹ æ•°æ®çš„ç”Ÿæˆè¿‡ç¨‹ï¼Œå³è”åˆæ¦‚ç‡ $ P(\mathbf{x}, c) $ï¼Œå†é€šè¿‡è´å¶æ–¯å®šç†æ¨å¯¼æ¡ä»¶æ¦‚ç‡ $ P(c|\mathbf{x}) $ã€‚</p>
</li>
<li><p><strong>æ•°å­¦æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>å»ºæ¨¡ $ P(\mathbf{x}|c) $ï¼ˆç‰¹å¾åœ¨ç±»åˆ« $ c $ ä¸‹çš„åˆ†å¸ƒï¼‰å’Œ $ P(c) $ï¼ˆç±»åˆ«å…ˆéªŒï¼‰ã€‚</li>
<li>æ ¹æ®è´å¶æ–¯å®šç†è®¡ç®—åéªŒæ¦‚ç‡ï¼š<script type="math/tex; mode=display">
P(c|\mathbf{x}) = \frac{P(\mathbf{x}|c)P(c)}{P(\mathbf{x})}</script></li>
<li>é€‰æ‹©ä½¿ $ P(c|\mathbf{x}) $ æœ€å¤§çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœã€‚</li>
</ol>
</li>
</ul>
<h5 id="ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜"><a href="#ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜" class="headerlink" title="ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜"></a><strong>ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜</strong></h5><p>å‡è®¾æˆ‘ä»¬è¦åˆ¤æ–­ä¸€å°é‚®ä»¶æ˜¯å¦ä¸ºåƒåœ¾é‚®ä»¶ï¼ˆ$ c=spam $ æˆ– $ ham $ï¼‰ã€‚</p>
<p><strong>åˆ¤åˆ«å¼æ¨¡å‹ï¼ˆé€»è¾‘å›å½’ï¼‰</strong></p>
<p>ç›´æ¥å»ºæ¨¡ï¼š</p>
<script type="math/tex; mode=display">
P(spam|\mathbf{x}) = \frac{1}{1 + e^{-(w^T \mathbf{x} + b)}}</script><p>è‹¥ $ P(spam|\mathbf{x}) &gt; 0.5 $ï¼Œåˆ™åˆ¤å®šä¸ºåƒåœ¾é‚®ä»¶ã€‚</p>
<p><strong>ç”Ÿæˆå¼æ¨¡å‹ï¼ˆæœ´ç´ è´å¶æ–¯ï¼‰</strong></p>
<ol>
<li>å»ºæ¨¡è”åˆæ¦‚ç‡ï¼š<script type="math/tex; mode=display">
P(\mathbf{x}, spam) = P(spam) \prod_{i} P(word_i|spam)</script><script type="math/tex; mode=display">
P(\mathbf{x}, ham) = P(ham) \prod_{i} P(word_i|ham)</script></li>
<li>è®¡ç®—åéªŒæ¦‚ç‡ï¼š<script type="math/tex; mode=display">
P(spam|\mathbf{x}) = \frac{P(\mathbf{x}|spam)P(spam)}{P(\mathbf{x})}</script><script type="math/tex; mode=display">
P(ham|\mathbf{x}) = \frac{P(\mathbf{x}|ham)P(ham)}{P(\mathbf{x})}</script></li>
<li>é€‰æ‹©æ¦‚ç‡æ›´å¤§çš„ç±»åˆ«ã€‚</li>
</ol>
<h4 id="ç”Ÿæˆå¼æ¨¡å‹çš„å»ºæ¨¡æ€è·¯"><a href="#ç”Ÿæˆå¼æ¨¡å‹çš„å»ºæ¨¡æ€è·¯" class="headerlink" title="ç”Ÿæˆå¼æ¨¡å‹çš„å»ºæ¨¡æ€è·¯"></a>ç”Ÿæˆå¼æ¨¡å‹çš„å»ºæ¨¡æ€è·¯</h4><p>æ ¹æ®æ¦‚ç‡è®ºçš„åŸºæœ¬å®šä¹‰ï¼š</p>
<script type="math/tex; mode=display">
P(c|\mathbf{x}) = \frac{P(\mathbf{x}, c)}{P(\mathbf{x})}</script><ul>
<li><strong>å«ä¹‰</strong>ï¼š<ul>
<li>$ P(\mathbf{x}, c) $ï¼šè”åˆæ¦‚ç‡ï¼Œè¡¨ç¤ºç‰¹å¾ $ \mathbf{x} $ å’Œç±»åˆ« $ c $ åŒæ—¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚</li>
<li>$ P(\mathbf{x}) $ï¼šè¾¹ç¼˜æ¦‚ç‡ï¼ˆè¯æ®ï¼‰ï¼Œè¡¨ç¤ºç‰¹å¾ $ \mathbf{x} $ å‡ºç°çš„æ¦‚ç‡ï¼Œç”¨äºå½’ä¸€åŒ–ã€‚</li>
</ul>
</li>
</ul>
<p>æ ¹æ®è´å¶æ–¯å®šç†ï¼Œè”åˆæ¦‚ç‡ $ P(\mathbf{x}, c) $ å¯ä»¥åˆ†è§£ä¸ºï¼š</p>
<script type="math/tex; mode=display">
P(\mathbf{x}, c) = P(c) \cdot P(\mathbf{x}|c)</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ P(c) $ï¼šç±»å…ˆéªŒæ¦‚ç‡ï¼ˆPrior Probabilityï¼‰ï¼Œè¡¨ç¤ºç±»åˆ« $ c $ åœ¨æ•°æ®ä¸­çš„æ•´ä½“å æ¯”ã€‚</li>
<li>$ P(\mathbf{x}|c) $ï¼šä¼¼ç„¶åº¦ï¼ˆLikelihoodï¼‰ï¼Œè¡¨ç¤ºåœ¨ç±»åˆ« $ c $ ä¸‹ï¼Œç‰¹å¾ $ \mathbf{x} $ å‡ºç°çš„æ¦‚ç‡ã€‚</li>
</ul>
<p>å°†ä¸Šè¿°åˆ†è§£ä»£å…¥æ¡ä»¶æ¦‚ç‡å…¬å¼ï¼Œå¾—åˆ°ï¼š</p>
<script type="math/tex; mode=display">
P(c|\mathbf{x}) = \frac{P(c) \cdot P(\mathbf{x}|c)}{P(\mathbf{x})}</script><p>äº§ç”Ÿé—®é¢˜ï¼š</p>
<p>åœ¨è´å¶æ–¯åˆ†ç±»ä¸­ï¼Œéœ€è¦è®¡ç®—è”åˆæ¦‚ç‡ <em>P</em>(<strong>x</strong>âˆ£<em>c</em>) ï¼Œå³åœ¨ç±»åˆ« <em>c</em> ä¸‹ï¼Œç‰¹å¾å‘é‡ <strong>x</strong>=(<em>x</em>1,<em>x</em>2,â€¦,<em>x**d</em>) çš„æ¡ä»¶æ¦‚ç‡ã€‚<br>è‹¥ç›´æ¥å»ºæ¨¡è”åˆæ¦‚ç‡ï¼Œéœ€ä¼°è®¡ <em>d</em> ä¸ªç‰¹å¾çš„æ‰€æœ‰å¯èƒ½ç»„åˆçš„æ¦‚ç‡ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>è‹¥æ¯ä¸ªç‰¹å¾æœ‰ <em>k</em> ä¸ªå–å€¼ï¼Œç±»åˆ«æ•°ä¸º <em>K</em> ï¼Œåˆ™éœ€è¦ä¼°è®¡ <em>K</em>â‹…<em>k**d</em> ä¸ªå‚æ•°ã€‚</li>
<li>å½“ç‰¹å¾ç»´åº¦ <em>d</em> å¾ˆå¤§æ—¶ï¼ˆå¦‚æ–‡æœ¬åˆ†ç±»ä¸­æˆåƒä¸Šä¸‡çš„è¯æ±‡ï¼‰ï¼Œå‚æ•°æ•°é‡å‘ˆæŒ‡æ•°çº§å¢é•¿ï¼Œå¯¼è‡´è®¡ç®—ä¸å¯è¡Œï¼ˆ<strong>ç»´åº¦ç¾éš¾</strong> ï¼‰ã€‚</li>
</ul>
<p>ä¸¾ä¾‹ï¼š</p>
<ul>
<li><strong>ä½ç»´ç©ºé—´</strong> ï¼šå‡è®¾åªæœ‰ 2 ä¸ªç‰¹å¾ï¼ˆå¦‚â€œå…è´¹â€å’Œâ€œä¸­å¥–â€ï¼‰ï¼Œæ¯ä¸ªç‰¹å¾å–å€¼ä¸º 0 æˆ– 1ï¼Œåˆ™ç‰¹å¾ç©ºé—´å…±æœ‰ 22=4 ä¸ªå¯èƒ½çš„ç»„åˆï¼ˆå³å››ä¸ªæ ¼å­ï¼‰ã€‚<ul>
<li>å¦‚æœæœ‰ 100 å°é‚®ä»¶ï¼Œæ¯ä¸ªæ ¼å­å¹³å‡æœ‰ 25 å°é‚®ä»¶ï¼ˆæ•°æ®è¾ƒå¯†é›†ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>é«˜ç»´ç©ºé—´</strong> ï¼š<br>å½“ç‰¹å¾ç»´åº¦å¢åŠ åˆ° <em>d</em>=10,000 æ—¶ï¼Œç‰¹å¾ç©ºé—´çš„ç»„åˆæ•°æ˜¯ 210,000 ï¼Œè¿œå¤§äºå®‡å®™ä¸­åŸå­çš„æ•°é‡ï¼ˆçº¦ 1080 ï¼‰ã€‚<ul>
<li>å³ä½¿æœ‰ 100 ä¸‡å°é‚®ä»¶ï¼Œæ¯ä¸ªç»„åˆå‡ ä¹éƒ½æ˜¯ç©ºçš„ï¼ˆæ•°æ®æåº¦ç¨€ç–ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç»“æœ</strong> ï¼š<br>åœ¨é«˜ç»´ç©ºé—´ä¸­ï¼Œè®­ç»ƒæ•°æ®æ— æ³•è¦†ç›–æ‰€æœ‰å¯èƒ½çš„ç‰¹å¾ç»„åˆï¼Œå¯¼è‡´æ¨¡å‹æ— æ³•å¯é ä¼°è®¡è”åˆæ¦‚ç‡ <em>P</em>(xâˆ£c) ã€‚</p>
<p>å› æ­¤äº§ç”Ÿ<strong>å±æ€§æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾</strong></p>
<h4 id="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨"><a href="#æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨"></a>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</h4><p>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡<strong>è´å¶æ–¯å®šç†</strong>å’Œ<strong>å±æ€§æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾</strong>æ¥ç®€åŒ–è®¡ç®—ï¼Œä»è€Œé«˜æ•ˆåœ°è¿›è¡Œåˆ†ç±»ã€‚</p>
<h5 id="å±æ€§æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾"><a href="#å±æ€§æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾" class="headerlink" title="å±æ€§æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾"></a>å±æ€§æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾</h5><p>æœ´ç´ è´å¶æ–¯çš„æ ¸å¿ƒå‡è®¾æ˜¯ï¼š<strong>åœ¨å·²çŸ¥ç±»åˆ« $ c $ çš„æ¡ä»¶ä¸‹ï¼Œæ‰€æœ‰å±æ€§ï¼ˆç‰¹å¾ï¼‰ä¹‹é—´ç›¸äº’ç‹¬ç«‹</strong>ã€‚<br>å› æ­¤ï¼Œè”åˆæ¦‚ç‡ $ P(\mathbf{x}|c) $ å¯ä»¥åˆ†è§£ä¸ºå„å±æ€§ç‹¬ç«‹æ¦‚ç‡çš„ä¹˜ç§¯ï¼š</p>
<script type="math/tex; mode=display">
P(\mathbf{x}|c) = \prod_{i=1}^d P(x_i|c)</script><p>å…¶ä¸­ $ d $ æ˜¯ç‰¹å¾çš„æ•°é‡ï¼Œ$ x_i $ æ˜¯ç¬¬ $ i $ ä¸ªç‰¹å¾çš„å–å€¼ã€‚</p>
<p>å°†æ­¤ä»£å…¥è´å¶æ–¯å…¬å¼ï¼š</p>
<script type="math/tex; mode=display">
P(c|\mathbf{x}) = \frac{P(c) \cdot \prod_{i=1}^d P(x_i|c)}{P(\mathbf{x})}</script><h5 id="ä¸ºä½•å¯ä»¥å¿½ç•¥-P-mathbf-x"><a href="#ä¸ºä½•å¯ä»¥å¿½ç•¥-P-mathbf-x" class="headerlink" title="ä¸ºä½•å¯ä»¥å¿½ç•¥ $ P(\mathbf{x}) $?"></a><strong>ä¸ºä½•å¯ä»¥å¿½ç•¥ $ P(\mathbf{x}) $?</strong></h5><p>åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ¯”è¾ƒä¸åŒç±»åˆ« $ c $ çš„åéªŒæ¦‚ç‡ $ P(c|\mathbf{x}) $ï¼Œå¹¶é€‰æ‹©æœ€å¤§å€¼ã€‚ç”±äº $ P(\mathbf{x}) $ å¯¹æ‰€æœ‰ç±»åˆ«æ¥è¯´æ˜¯ç›¸åŒçš„å¸¸é‡ï¼ˆä¸ç±»åˆ«æ— å…³ï¼‰ï¼Œå› æ­¤åœ¨æœ€å¤§åŒ–è¿‡ç¨‹ä¸­å¯ä»¥å¿½ç•¥ï¼š</p>
<script type="math/tex; mode=display">
\arg\max_{c} P(c|\mathbf{x}) = \arg\max_{c} \left[ \frac{P(c) \cdot \prod_{i=1}^d P(x_i|c)}{P(\mathbf{x})} \right] = \arg\max_{c} \left[ P(c) \cdot \prod_{i=1}^d P(x_i|c) \right]</script><p>è¿™å°±æ˜¯å…¬å¼ä¸­ $ P(\mathbf{x}) $ è¢«çœç•¥çš„åŸå› ã€‚</p>
<blockquote>
<p>åœ¨æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œåˆ†æ¯ç›¸åŒï¼Œå¯ä»¥å¿½ç•¥</p>
</blockquote>
<h5 id="æœ´ç´ è´å¶æ–¯çš„æœ€ç»ˆå†³ç­–è§„åˆ™"><a href="#æœ´ç´ è´å¶æ–¯çš„æœ€ç»ˆå†³ç­–è§„åˆ™" class="headerlink" title="æœ´ç´ è´å¶æ–¯çš„æœ€ç»ˆå†³ç­–è§„åˆ™"></a><strong>æœ´ç´ è´å¶æ–¯çš„æœ€ç»ˆå†³ç­–è§„åˆ™</strong></h5><p>ç®€åŒ–åçš„å†³ç­–è§„åˆ™ä¸ºï¼š</p>
<script type="math/tex; mode=display">
h_{nb}(\mathbf{x}) = \arg\max_{c} \left[ P(c) \cdot \prod_{i=1}^d P(x_i|c) \right]</script><p>å³ï¼š</p>
<ul>
<li>è®¡ç®—æ¯ä¸ªç±»åˆ«çš„å…ˆéªŒæ¦‚ç‡ $ P(c) $ã€‚</li>
<li>è®¡ç®—æ¯ä¸ªç‰¹å¾åœ¨è¯¥ç±»åˆ«ä¸‹çš„æ¡ä»¶æ¦‚ç‡ $ P(x_i|c) $ã€‚</li>
<li>å°†è¿™äº›æ¦‚ç‡ç›¸ä¹˜ï¼Œé€‰æ‹©ä¹˜ç§¯æœ€å¤§çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœã€‚</li>
</ul>
<h5 id="ç±»å…ˆéªŒæ¦‚ç‡-P-c-çš„ä¼°è®¡æ–¹æ³•"><a href="#ç±»å…ˆéªŒæ¦‚ç‡-P-c-çš„ä¼°è®¡æ–¹æ³•" class="headerlink" title="ç±»å…ˆéªŒæ¦‚ç‡ $ P(c) $ çš„ä¼°è®¡æ–¹æ³•"></a><strong>ç±»å…ˆéªŒæ¦‚ç‡ $ P(c) $ çš„ä¼°è®¡æ–¹æ³•</strong></h5><p>åŸºäº<strong>å¤§æ•°å®šå¾‹</strong></p>
<script type="math/tex; mode=display">
P(c) = \frac{|D_c|}{|D|}</script><ul>
<li><p><strong>ç¬¦å·å«ä¹‰</strong>ï¼š</p>
<ul>
<li>$ D $ï¼šè®­ç»ƒé›†ï¼ŒåŒ…å«æ‰€æœ‰æ ·æœ¬ã€‚</li>
<li>$ D_c $ï¼šè®­ç»ƒé›†ä¸­ç±»åˆ«ä¸º $ c $ çš„æ ·æœ¬å­é›†ã€‚</li>
<li>$ |D_c| $ï¼šç±»åˆ« $ c $ çš„æ ·æœ¬æ•°é‡ã€‚</li>
<li>$ |D| $ï¼šè®­ç»ƒé›†æ€»æ ·æœ¬æ•°é‡ã€‚</li>
</ul>
</li>
<li><p><strong>ç›´è§‚è§£é‡Š</strong>ï¼š<br>ç±»å…ˆéªŒæ¦‚ç‡ç­‰äºè¯¥ç±»åˆ«æ ·æœ¬æ•°å æ€»æ ·æœ¬æ•°çš„æ¯”ä¾‹ã€‚</p>
</li>
</ul>
<h5 id="æ¡ä»¶æ¦‚ç‡-P-x-i-c-çš„ä¼°è®¡æ–¹æ³•"><a href="#æ¡ä»¶æ¦‚ç‡-P-x-i-c-çš„ä¼°è®¡æ–¹æ³•" class="headerlink" title="æ¡ä»¶æ¦‚ç‡ $ P(x_i | c) $ çš„ä¼°è®¡æ–¹æ³•"></a><strong>æ¡ä»¶æ¦‚ç‡ $ P(x_i | c) $ çš„ä¼°è®¡æ–¹æ³•</strong></h5><p>åœ¨ç”Ÿæˆå¼æ¨¡å‹ï¼ˆå¦‚æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼‰ä¸­ï¼Œ<strong>æ¡ä»¶æ¦‚ç‡ $ P(x_i | c) $</strong> è¡¨ç¤ºåœ¨ç±»åˆ« $ c $ ä¸‹ï¼Œç¬¬ $ i $ ä¸ªå±æ€§å–å€¼ä¸º $ x_i $ çš„æ¦‚ç‡ã€‚æ ¹æ®å±æ€§ç±»å‹ï¼ˆç¦»æ•£æˆ–è¿ç»­ï¼‰ï¼Œå…¶ä¼°è®¡æ–¹æ³•ä¸åŒï¼š</p>
<p><strong>1. ç¦»æ•£å±æ€§çš„æ¡ä»¶æ¦‚ç‡ä¼°è®¡</strong></p>
<p><strong>å…¬å¼</strong>ï¼š</p>
<script type="math/tex; mode=display">
P(x_i | c) = \frac{|D_{c,x_i}|}{|D_c|}</script><ul>
<li><strong>ç¬¦å·å«ä¹‰</strong>ï¼š<ul>
<li>$ D_c $ï¼šè®­ç»ƒé›†ä¸­ç±»åˆ«ä¸º $ c $ çš„æ ·æœ¬é›†åˆã€‚</li>
<li>$ D_{c,x_i} $ï¼š$ D_c $ ä¸­ç¬¬ $ i $ ä¸ªå±æ€§å–å€¼ä¸º $ x_i $ çš„æ ·æœ¬å­é›†ã€‚</li>
<li>$ |D<em>{c,x_i}| $ï¼š$ D</em>{c,x_i} $ çš„æ ·æœ¬æ•°é‡ã€‚</li>
<li>$ |D_c| $ï¼šç±»åˆ« $ c $ çš„æ€»æ ·æœ¬æ•°é‡ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç›´è§‚è§£é‡Š</strong>ï¼š</p>
<ul>
<li>åœ¨ç±»åˆ« $ c $ çš„æ ·æœ¬ä¸­ï¼Œç»Ÿè®¡ç¬¬ $ i $ ä¸ªå±æ€§å–å€¼ä¸º $ x_i $ çš„é¢‘ç‡ï¼Œä½œä¸º $ P(x_i | c) $ çš„ä¼°è®¡ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<br>è‹¥ç±»åˆ« $ c=spam $ï¼ˆåƒåœ¾é‚®ä»¶ï¼‰æœ‰ 200 å°ï¼Œå…¶ä¸­ 150 å°åŒ…å«â€œå…è´¹â€ä¸€è¯ï¼Œåˆ™ï¼š<script type="math/tex; mode=display">
P(\text{â€œå…è´¹â€} | spam) = \frac{150}{200} = 0.75</script></li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>é›¶æ¦‚ç‡é—®é¢˜</strong>ï¼šè‹¥æŸå±æ€§å€¼åœ¨ç±»åˆ« $ c $ ä¸­æœªå‡ºç°ï¼Œåˆ™ $ P(x_i | c) = 0 $ï¼Œå¯èƒ½å¯¼è‡´åç»­è®¡ç®—å¤±æ•ˆã€‚<br><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨<strong>æ‹‰æ™®æ‹‰æ–¯å¹³æ»‘ï¼ˆLaplace Smoothingï¼‰</strong>ï¼Œå°†å…¬å¼æ”¹ä¸ºï¼š<script type="math/tex; mode=display">
P(x_i | c) = \frac{|D_{c,x_i}| + 1}{|D_c| + K}</script>å…¶ä¸­ $ K $ æ˜¯è¯¥å±æ€§çš„å–å€¼æ€»æ•°ã€‚</li>
</ul>
<p><strong>2. è¿ç»­å±æ€§çš„æ¡ä»¶æ¦‚ç‡ä¼°è®¡</strong></p>
<p><strong>å‡è®¾</strong>ï¼šå±æ€§æœä»æ­£æ€åˆ†å¸ƒï¼ˆé«˜æ–¯åˆ†å¸ƒï¼‰</p>
<script type="math/tex; mode=display">
p(x_i | c) = \frac{1}{\sqrt{2\pi}\sigma_{c,i}} \exp\left( -\frac{(x_i - \mu_{c,i})^2}{2\sigma_{c,i}^2} \right)</script><ul>
<li><strong>ç¬¦å·å«ä¹‰</strong>ï¼š<ul>
<li>$ \mu_{c,i} $ï¼šç±»åˆ« $ c $ åœ¨ç¬¬ $ i $ ä¸ªå±æ€§ä¸Šçš„å‡å€¼ã€‚</li>
<li>$ \sigma_{c,i}^2 $ï¼šç±»åˆ« $ c $ åœ¨ç¬¬ $ i $ ä¸ªå±æ€§ä¸Šçš„æ–¹å·®ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç›´è§‚è§£é‡Š</strong>ï¼š</p>
<ul>
<li>å‡è®¾åœ¨ç±»åˆ« $ c $ ä¸‹ï¼Œå±æ€§ $ x<em>i $ æœä»å‡å€¼ä¸º $ \mu</em>{c,i} $ã€æ–¹å·®ä¸º $ \sigma_{c,i}^2 $ çš„æ­£æ€åˆ†å¸ƒã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<br>è‹¥ç±»åˆ« $ c=spam $ çš„â€œå­—æ•°â€å±æ€§å‡å€¼ $ \mu<em>{spam, \text{å­—æ•°}} = 500 $ï¼Œæ–¹å·® $ \sigma</em>{spam, \text{å­—æ•°}}^2 = 100 $ï¼Œåˆ™ï¼š<script type="math/tex; mode=display">
p(600 | spam) = \frac{1}{\sqrt{2\pi \cdot 100}} \exp\left( -\frac{(600 - 500)^2}{2 \cdot 100} \right) \approx 0.004</script></li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong>åˆ†å¸ƒå‡è®¾</strong>ï¼šè‹¥å®é™…æ•°æ®ä¸ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œéœ€è°ƒæ•´å‡è®¾ï¼ˆå¦‚ä½¿ç”¨æ ¸å¯†åº¦ä¼°è®¡ã€å¯¹æ•°å˜æ¢ç­‰ï¼‰ã€‚</li>
<li><strong>å‚æ•°ä¼°è®¡</strong>ï¼šå‡å€¼å’Œæ–¹å·®é€šè¿‡è®­ç»ƒæ•°æ®è®¡ç®—ï¼š<script type="math/tex; mode=display">
\mu_{c,i} = \frac{1}{|D_c|} \sum_{x \in D_c} x_i, \quad \sigma_{c,i}^2 = \frac{1}{|D_c|} \sum_{x \in D_c} (x_i - \mu_{c,i})^2</script></li>
</ul>
<h4 id="åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨"><a href="#åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨"></a>åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</h4><p>åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨æ˜¯å¯¹ä¼ ç»Ÿ<strong>æœ´ç´ è´å¶æ–¯</strong>çš„æ”¹è¿›ï¼Œå®ƒåœ¨ä¿ç•™è®¡ç®—æ•ˆç‡çš„åŒæ—¶ï¼Œ<strong>é€‚å½“å¼•å…¥éƒ¨åˆ†å±æ€§é—´çš„ä¾èµ–å…³ç³»</strong>ï¼Œä»è€Œåœ¨åˆ†ç±»æ€§èƒ½å’Œè®¡ç®—å¤æ‚åº¦ä¹‹é—´å–å¾—å¹³è¡¡ã€‚</p>
<h5 id="ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆODEï¼‰æ–¹æ³•"><a href="#ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆODEï¼‰æ–¹æ³•" class="headerlink" title="ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆODEï¼‰æ–¹æ³•"></a><strong>ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆODEï¼‰æ–¹æ³•</strong></h5><p><strong>(1) å®šä¹‰</strong></p>
<p>ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆOne-Dependent Estimator, ODEï¼‰æ˜¯åŠæœ´ç´ è´å¶æ–¯çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œå…¶æ ¸å¿ƒå‡è®¾æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ¯ä¸ªå±æ€§ $ x_i $ åœ¨ç±»åˆ« $ c $ ä¹‹å¤–æœ€å¤šä¾èµ–äºä¸€ä¸ªå…¶ä»–å±æ€§ï¼ˆç§°ä¸ºçˆ¶å±æ€§ $ pa_i $ï¼‰</strong>ã€‚</p>
</blockquote>
<p>æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
P(c|\mathbf{x}) \propto P(c) \prod_{i=1}^d P(x_i | c, pa_i)</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ pa_i $ï¼šå±æ€§ $ x_i $ çš„çˆ¶å±æ€§ï¼ˆä¾èµ–çš„å•ä¸€å±æ€§ï¼‰ã€‚</li>
<li>$ P(x_i | c, pa_i) $ï¼šåœ¨ç±»åˆ« $ c $ å’Œçˆ¶å±æ€§ $ pa_i $ ä¸‹ï¼Œå±æ€§ $ x_i $ çš„æ¡ä»¶æ¦‚ç‡ã€‚</li>
</ul>
<p><strong>(2) ç›´è§‚ç†è§£</strong></p>
<ul>
<li>æ¯ä¸ªå±æ€§ $ x_i $ çš„åˆ†å¸ƒä¸ä»…å—ç±»åˆ« $ c $ å½±å“ï¼Œè¿˜å—å…¶çˆ¶å±æ€§ $ pa_i $ çš„å½±å“ã€‚</li>
<li>ä¾‹å¦‚ï¼Œåœ¨æ–‡æœ¬åˆ†ç±»ä¸­ï¼Œè‹¥å±æ€§ $ x_1 $ æ˜¯â€œå…è´¹â€ï¼Œ$ x_2 $ æ˜¯â€œä¸­å¥–â€ï¼Œå¯è®¾å®š $ pa_2 = x_1 $ï¼Œè¡¨ç¤ºâ€œä¸­å¥–â€åœ¨ç±»åˆ«å’Œâ€œå…è´¹â€çš„å…±åŒä½œç”¨ä¸‹å‡ºç°ã€‚</li>
</ul>
<h5 id="è¶…çˆ¶ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆSPODEï¼‰"><a href="#è¶…çˆ¶ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆSPODEï¼‰" class="headerlink" title="è¶…çˆ¶ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆSPODEï¼‰"></a><strong>è¶…çˆ¶ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆSPODEï¼‰</strong></h5><p>è¶…çˆ¶ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆSuper Parent One-Dependent Estimator, SPODEï¼‰æ˜¯<strong>åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</strong>çš„ä¸€ç§æ‰©å±•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ‰€æœ‰å±æ€§éƒ½ä¾èµ–äºåŒä¸€ä¸ªâ€œè¶…çˆ¶â€å±æ€§ $ x_i $</strong>ï¼Œä»è€Œåœ¨ä¿ç•™éƒ¨åˆ†ä¾èµ–å…³ç³»çš„åŒæ—¶é¿å…å®Œå…¨è”åˆæ¦‚ç‡çš„è®¡ç®—ã€‚</p>
</blockquote>
<p><strong>(1) è´å¶æ–¯å®šç†å±•å¼€</strong></p>
<script type="math/tex; mode=display">
P(c|\mathbf{x}) = \frac{P(\mathbf{x}, c)}{P(\mathbf{x})}</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ P(\mathbf{x}, c) $ï¼šè”åˆæ¦‚ç‡ï¼Œè¡¨ç¤ºç‰¹å¾ $ \mathbf{x} $ å’Œç±»åˆ« $ c $ åŒæ—¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚</li>
<li>$ P(\mathbf{x}) $ï¼šè¯æ®ï¼ˆå½’ä¸€åŒ–å› å­ï¼‰ã€‚</li>
</ul>
<p><strong>(2) å¼•å…¥â€œè¶…çˆ¶â€å±æ€§ $ x_i $</strong></p>
<p>å‡è®¾æ‰€æœ‰å±æ€§ $ x_j (j \neq i) $ åœ¨ç±»åˆ« $ c $ ä¸‹ä»…ä¾èµ–äº $ x_i $ï¼Œåˆ™ï¼š</p>
<script type="math/tex; mode=display">
P(\mathbf{x}, c) = P(c, x_i) \cdot P(x_1, \dots, x_{i-1}, x_{i+1}, \dots, x_d | c, x_i)</script><p>è¿›ä¸€æ­¥åˆ†è§£ä¸ºï¼š</p>
<script type="math/tex; mode=display">
P(\mathbf{x}, c) = P(c, x_i) \cdot \prod_{j \neq i} P(x_j | c, x_i)</script><p><strong>(3) æœ€ç»ˆå½¢å¼</strong></p>
<p>ç”±äº $ P(\mathbf{x}) $ å¯¹æ‰€æœ‰ç±»åˆ«ç›¸åŒï¼Œå¯å¿½ç•¥ï¼Œæœ€ç»ˆå†³ç­–è§„åˆ™ä¸ºï¼š</p>
<script type="math/tex; mode=display">
P(c|\mathbf{x}) \propto P(c, x_i) \cdot \prod_{j=1}^d P(x_j | c, x_i)</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ P(c, x_i) $ï¼šç±»åˆ« $ c $ å’Œå±æ€§ $ x_i $ çš„è”åˆæ¦‚ç‡ã€‚</li>
<li>$ P(x_j | c, x_i) $ï¼šåœ¨ç±»åˆ« $ c $ å’Œ $ x_i $ çš„æ¡ä»¶ä¸‹ï¼Œå±æ€§ $ x_j $ çš„æ¦‚ç‡ã€‚</li>
</ul>
<h5 id="æ ‘å¢å¼ºæœ´ç´ è´å¶æ–¯ï¼ˆTAN-Tree-Augmented-Naive-Bayesï¼‰"><a href="#æ ‘å¢å¼ºæœ´ç´ è´å¶æ–¯ï¼ˆTAN-Tree-Augmented-Naive-Bayesï¼‰" class="headerlink" title="æ ‘å¢å¼ºæœ´ç´ è´å¶æ–¯ï¼ˆTAN: Tree-Augmented Naive Bayesï¼‰"></a><strong>æ ‘å¢å¼ºæœ´ç´ è´å¶æ–¯ï¼ˆTAN: Tree-Augmented Naive Bayesï¼‰</strong></h5><p><strong>TAN</strong>ï¼ˆTree-Augmented Naive Bayesï¼‰æ˜¯<strong>åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</strong>çš„ä¸€ç§æ‰©å±•ï¼Œæ—¨åœ¨é€šè¿‡å¼•å…¥å±æ€§é—´çš„<strong>æ ‘çŠ¶ä¾èµ–å…³ç³»</strong>ï¼Œåœ¨ä¿ç•™è®¡ç®—æ•ˆç‡çš„åŒæ—¶ï¼Œæ˜¾è‘—æå‡åˆ†ç±»æ€§èƒ½ã€‚å®ƒç»“åˆäº†<strong>è´å¶æ–¯ç½‘ç»œ</strong>çš„å»ºæ¨¡èƒ½åŠ›å’Œ<strong>ç”Ÿæˆå¼æ¨¡å‹</strong>çš„æ¦‚ç‡æ¨ç†ä¼˜åŠ¿ã€‚</p>
<p><strong>1. æ ¸å¿ƒæ€æƒ³</strong></p>
<p>TAN çš„æ ¸å¿ƒå‡è®¾æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ‰€æœ‰å±æ€§ï¼ˆç‰¹å¾ï¼‰åœ¨ç±»åˆ« $ c $ çš„åŸºç¡€ä¸Šï¼Œå½¢æˆä¸€ä¸ªä»¥å±æ€§ä¸ºèŠ‚ç‚¹çš„æ ‘çŠ¶ä¾èµ–ç»“æ„</strong>ï¼Œå³æ¯ä¸ªå±æ€§æœ€å¤šä¾èµ–ä¸€ä¸ªå…¶ä»–å±æ€§ï¼ˆçˆ¶å±æ€§ï¼‰ï¼Œä¸”æ•´ä¸ªä¾èµ–å›¾æ˜¯ä¸€æ£µæ— ç¯çš„æ ‘ã€‚</p>
</blockquote>
<p><strong>æ•°å­¦è¡¨è¾¾</strong>ï¼š</p>
<script type="math/tex; mode=display">
P(c|\mathbf{x}) \propto P(c) \cdot \prod_{i=1}^d P(x_i | c, pa_i)</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ pa_i $ï¼šå±æ€§ $ x_i $ çš„çˆ¶å±æ€§ï¼ˆä¾èµ–çš„å•ä¸€å±æ€§ï¼‰ã€‚</li>
<li>$ P(x_i | c, pa_i) $ï¼šåœ¨ç±»åˆ« $ c $ å’Œçˆ¶å±æ€§ $ pa_i $ çš„æ¡ä»¶ä¸‹ï¼Œå±æ€§ $ x_i $ çš„æ¡ä»¶æ¦‚ç‡ã€‚</li>
</ul>
<p><strong>2. TAN çš„æ„å»ºæ­¥éª¤</strong></p>
<p>TAN é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ„å»ºå±æ€§é—´çš„ä¾èµ–ç»“æ„ï¼š</p>
<p><strong>(1) è®¡ç®—äº’ä¿¡æ¯ï¼ˆMutual Informationï¼‰</strong></p>
<p>äº’ä¿¡æ¯è¡¡é‡ä¸¤ä¸ªå±æ€§ä¹‹é—´çš„ç›¸å…³æ€§ï¼š</p>
<script type="math/tex; mode=display">
I(x_i, x_j) = \sum_{x_i, x_j} P(x_i, x_j) \log \frac{P(x_i, x_j)}{P(x_i)P(x_j)}</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šäº’ä¿¡æ¯è¶Šå¤§ï¼Œä¸¤ä¸ªå±æ€§ä¹‹é—´çš„ä¾èµ–å…³ç³»è¶Šå¼ºã€‚</li>
</ul>
<p><strong>(2) æ„å»ºå¸¦æƒå›¾</strong></p>
<ul>
<li>å°†æ‰€æœ‰å±æ€§è§†ä¸ºå›¾ä¸­çš„èŠ‚ç‚¹ã€‚</li>
<li>æ¯å¯¹å±æ€§é—´çš„è¾¹æƒé‡è®¾ä¸ºäº’ä¿¡æ¯ $ I(x_i, x_j) $ã€‚</li>
</ul>
<p><strong>(3) æœ€å¤§å¸¦æƒç”Ÿæˆæ ‘ï¼ˆMaximum Weight Spanning Tree, MWSTï¼‰</strong></p>
<p>ä½¿ç”¨å…‹é²æ–¯å¡å°”ï¼ˆKruskalï¼‰ç®—æ³•æˆ–æ™®é‡Œå§†ï¼ˆPrimï¼‰ç®—æ³•ï¼Œé€‰æ‹©ä¸€æ£µè¿æ¥æ‰€æœ‰å±æ€§èŠ‚ç‚¹çš„æ ‘ï¼Œä½¿å¾—ï¼š</p>
<ul>
<li>æ ‘çš„è¾¹æƒé‡ï¼ˆäº’ä¿¡æ¯ï¼‰æ€»å’Œæœ€å¤§ã€‚</li>
<li>æ ‘ä¸­æ— ç¯ã€‚</li>
</ul>
<p><strong>(4) ç¡®å®šä¾èµ–æ–¹å‘</strong></p>
<ul>
<li>éšæœºé€‰æ‹©ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼ˆæˆ–æ ¹æ®é¢†åŸŸçŸ¥è¯†æŒ‡å®šï¼‰ã€‚</li>
<li>ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œç¡®å®šæ¯æ¡è¾¹çš„æ–¹å‘ï¼ˆçˆ¶å±æ€§ â†’ å­å±æ€§ï¼‰ã€‚</li>
</ul>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250605223036362.png" alt="image-20250605223036362"></p>
<h4 id="è´å¶æ–¯ç½‘"><a href="#è´å¶æ–¯ç½‘" class="headerlink" title="è´å¶æ–¯ç½‘"></a>è´å¶æ–¯ç½‘</h4><p>å¾…å­¦ä¹ </p>
<h4 id="EMç®—æ³•"><a href="#EMç®—æ³•" class="headerlink" title="EMç®—æ³•"></a>EMç®—æ³•</h4><p>EMç®—æ³•ï¼ˆExpectation-Maximization Algorithmï¼‰æ˜¯ä¸€ç§<strong>è¿­ä»£ä¼˜åŒ–ç®—æ³•</strong>ï¼Œç”¨äºå¤„ç†<strong>å«æœ‰éšå˜é‡</strong>ï¼ˆHidden Variablesï¼‰æˆ–<strong>ç¼ºå¤±æ•°æ®</strong>çš„æ¦‚ç‡æ¨¡å‹å‚æ•°ä¼°è®¡é—®é¢˜ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡äº¤æ›¿æ‰§è¡Œ<strong>æœŸæœ›ï¼ˆEï¼‰æ­¥</strong>å’Œ<strong>æœ€å¤§åŒ–ï¼ˆMï¼‰æ­¥</strong>ï¼Œé€æ­¥é€¼è¿‘æ¨¡å‹å‚æ•°çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€‚</p>
<h5 id="1-æ ¸å¿ƒæ€æƒ³ï¼šè§£å†³éšå˜é‡é—®é¢˜"><a href="#1-æ ¸å¿ƒæ€æƒ³ï¼šè§£å†³éšå˜é‡é—®é¢˜" class="headerlink" title="1. æ ¸å¿ƒæ€æƒ³ï¼šè§£å†³éšå˜é‡é—®é¢˜"></a><strong>1. æ ¸å¿ƒæ€æƒ³ï¼šè§£å†³éšå˜é‡é—®é¢˜</strong></h5><p><strong>(1) ä»€ä¹ˆæ˜¯éšå˜é‡ï¼Ÿ</strong></p>
<p>éšå˜é‡ï¼ˆLatent Variablesï¼‰æ˜¯æ¨¡å‹ä¸­<strong>ä¸å¯è§‚æµ‹ä½†å½±å“è§‚æµ‹æ•°æ®</strong>çš„å˜é‡ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>æ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGMMï¼‰</strong>ï¼šæ¯ä¸ªæ ·æœ¬å±äºå“ªä¸ªé«˜æ–¯åˆ†å¸ƒæ˜¯éšå˜é‡ã€‚</li>
<li><strong>èšç±»ä»»åŠ¡</strong>ï¼šæ ·æœ¬æ‰€å±çš„èšç±»æ ‡ç­¾æ˜¯éšå˜é‡ã€‚</li>
</ul>
<p><strong>(2) é—®é¢˜æŒ‘æˆ˜</strong></p>
<p>å½“å­˜åœ¨éšå˜é‡æ—¶ï¼Œç›´æ¥æœ€å¤§åŒ–ä¼¼ç„¶å‡½æ•°å˜å¾—å›°éš¾ã€‚ä¾‹å¦‚ï¼š</p>
<script type="math/tex; mode=display">
\log P(\mathbf{x}|\theta) = \log \sum_z P(\mathbf{x}, z|\theta)</script><p>å…¶ä¸­ $ z $ æ˜¯éšå˜é‡ï¼Œ$ \theta $ æ˜¯æ¨¡å‹å‚æ•°ã€‚ç”±äºå¯¹æ•°ä¸­åŒ…å«æ±‚å’Œï¼Œç›´æ¥æ±‚å¯¼æ— æ³•åˆ†ç¦»å‚æ•°ã€‚</p>
<p><strong>(3) EMç®—æ³•çš„è§£å†³æ–¹æ¡ˆ</strong></p>
<p>EMç®—æ³•é€šè¿‡ä»¥ä¸‹æ­¥éª¤è¿­ä»£æ±‚è§£ï¼š</p>
<ol>
<li><strong>Eæ­¥ï¼ˆæœŸæœ›ï¼‰</strong>ï¼šç”¨å½“å‰å‚æ•°ä¼°è®¡éšå˜é‡çš„åéªŒåˆ†å¸ƒï¼ˆå³â€œè´£ä»»â€åˆ†é…ï¼‰ã€‚</li>
<li><strong>Mæ­¥ï¼ˆæœ€å¤§åŒ–ï¼‰</strong>ï¼šåŸºäºéšå˜é‡çš„åéªŒåˆ†å¸ƒï¼Œæœ€å¤§åŒ–æœŸæœ›ä¼¼ç„¶å‡½æ•°ä»¥æ›´æ–°å‚æ•°ã€‚</li>
</ol>
<h5 id="2-ç®—æ³•æµç¨‹"><a href="#2-ç®—æ³•æµç¨‹" class="headerlink" title="2. ç®—æ³•æµç¨‹"></a><strong>2. ç®—æ³•æµç¨‹</strong></h5><p><strong>(1) åˆå§‹åŒ–å‚æ•°</strong></p>
<p>é€‰æ‹©åˆå§‹å‚æ•° $ \theta^{(0)} $ï¼Œä¾‹å¦‚éšæœºåˆå§‹åŒ–æˆ–é€šè¿‡å¯å‘å¼æ–¹æ³•è®¾å®šã€‚</p>
<p><strong>(2) Eæ­¥ï¼šè®¡ç®—éšå˜é‡åéªŒåˆ†å¸ƒ</strong></p>
<p>ç»™å®šå½“å‰å‚æ•° $ \theta^{(t)} $ï¼Œè®¡ç®—éšå˜é‡ $ z $ çš„åéªŒæ¦‚ç‡ï¼š</p>
<script type="math/tex; mode=display">
Q^{(t)}(z) = P(z|\mathbf{x}, \theta^{(t)})</script><p>è¿™ä¸€æ­¥ä¸ºæ¯ä¸ªæ ·æœ¬åˆ†é…éšå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆå¦‚æ ·æœ¬å±äºæŸä¸ªèšç±»çš„æ¦‚ç‡ï¼‰ã€‚</p>
<p><strong>(3) Mæ­¥ï¼šæœ€å¤§åŒ–æœŸæœ›ä¼¼ç„¶</strong></p>
<p>åŸºäº $ Q^{(t)}(z) $ï¼Œæ„é€ æœŸæœ›ä¼¼ç„¶å‡½æ•°å¹¶æœ€å¤§åŒ–ï¼š</p>
<script type="math/tex; mode=display">
\theta^{(t+1)} = \arg\max_{\theta} \sum_z Q^{(t)}(z) \log P(\mathbf{x}, z|\theta)</script><p>è¿™ä¸€æ­¥æ›´æ–°å‚æ•° $ \theta $ï¼Œä½¿å¾—æœŸæœ›ä¼¼ç„¶æœ€å¤§ã€‚</p>
<p><strong>(4) æ”¶æ•›åˆ¤æ–­</strong></p>
<p>é‡å¤Eæ­¥å’ŒMæ­¥ç›´åˆ°å‚æ•°æ”¶æ•›ï¼ˆå¦‚ $ |\theta^{(t+1)} - \theta^{(t)}| &lt; \epsilon $ï¼‰æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚</p>
<h5 id="3-ç¤ºä¾‹ï¼šæ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGMMï¼‰"><a href="#3-ç¤ºä¾‹ï¼šæ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGMMï¼‰" class="headerlink" title="3. ç¤ºä¾‹ï¼šæ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGMMï¼‰"></a><strong>3. ç¤ºä¾‹ï¼šæ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGMMï¼‰</strong></h5><p>å‡è®¾æ•°æ®ç”±å¤šä¸ªé«˜æ–¯åˆ†å¸ƒç”Ÿæˆï¼Œä½†ä¸çŸ¥é“æ¯ä¸ªæ ·æœ¬å±äºå“ªä¸ªåˆ†å¸ƒã€‚</p>
<p><strong>(1) æ¨¡å‹å®šä¹‰</strong></p>
<ul>
<li>è§‚æµ‹å˜é‡ $ x_i \in \mathbb{R}^d $ï¼šç¬¬ $ i $ ä¸ªæ ·æœ¬ã€‚</li>
<li>éšå˜é‡ $ z_i \in {1, â€¦, K} $ï¼šæ ·æœ¬ $ x_i $ æ‰€å±çš„é«˜æ–¯åˆ†å¸ƒã€‚</li>
<li>å‚æ•° $ \theta = {\mu<em>k, \Sigma_k, \pi_k}</em>{k=1}^K $ï¼š<ul>
<li>$ \mu_k $ï¼šç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼ã€‚</li>
<li>$ \Sigma_k $ï¼šç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„åæ–¹å·®çŸ©é˜µã€‚</li>
<li>$ \pi_k $ï¼šç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„æƒé‡ï¼ˆå…ˆéªŒæ¦‚ç‡ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>(2) Eæ­¥ï¼šè®¡ç®—è´£ä»»åˆ†é…</strong></p>
<p>å¯¹äºæ¯ä¸ªæ ·æœ¬ $ x_i $ å’Œç±»åˆ« $ k $ï¼Œè®¡ç®—è´£ä»»ï¼ˆresponsibilityï¼‰ï¼š</p>
<script type="math/tex; mode=display">
\gamma_{ik}^{(t)} = P(z_i=k|x_i, \theta^{(t)}) = \frac{\pi_k^{(t)} \mathcal{N}(x_i|\mu_k^{(t)}, \Sigma_k^{(t)})}{\sum_{j=1}^K \pi_j^{(t)} \mathcal{N}(x_i|\mu_j^{(t)}, \Sigma_j^{(t)})}</script><p>å«ä¹‰ï¼šåœ¨å½“å‰å‚æ•°ä¸‹ï¼Œæ ·æœ¬ $ x_i $ å±äºç±»åˆ« $ k $ çš„æ¦‚ç‡ã€‚</p>
<p><strong>(3) Mæ­¥ï¼šæ›´æ–°å‚æ•°</strong></p>
<p>æ ¹æ®è´£ä»» $ \gamma_{ik} $ æ›´æ–°å‚æ•°ï¼š</p>
<ul>
<li><strong>å‡å€¼æ›´æ–°</strong>ï¼š<script type="math/tex; mode=display">
\mu_k^{(t+1)} = \frac{\sum_{i=1}^N \gamma_{ik}^{(t)} x_i}{\sum_{i=1}^N \gamma_{ik}^{(t)}}</script></li>
<li><strong>åæ–¹å·®æ›´æ–°</strong>ï¼š<script type="math/tex; mode=display">
\Sigma_k^{(t+1)} = \frac{\sum_{i=1}^N \gamma_{ik}^{(t)} (x_i - \mu_k^{(t+1)})(x_i - \mu_k^{(t+1)})^T}{\sum_{i=1}^N \gamma_{ik}^{(t)}}</script></li>
<li><strong>æƒé‡æ›´æ–°</strong>ï¼š<script type="math/tex; mode=display">
\pi_k^{(t+1)} = \frac{\sum_{i=1}^N \gamma_{ik}^{(t)}}{N}</script></li>
</ul>
<p><strong>(4) è¿­ä»£ç»ˆæ­¢</strong></p>
<p>å½“å‚æ•°å˜åŒ–å°äºé˜ˆå€¼æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°æ—¶åœæ­¢ã€‚</p>
<h4 id="ä½œä¸š"><a href="#ä½œä¸š" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h4><h5 id="1"><a href="#1" class="headerlink" title="1"></a>1</h5><p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606143758565.png" alt="image-20250606143758565"></p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606143819352.png" alt="image-20250606143819352"></p>
<h5 id="2"><a href="#2" class="headerlink" title="2"></a>2</h5><p>å·²çŸ¥è§‚æµ‹æ•°æ®-67ï¼Œ-48ï¼Œ6ï¼Œ8ï¼Œ14ï¼Œ16ï¼Œ23ï¼Œ24ï¼Œ28ï¼Œ29ï¼Œ41ï¼Œ49ï¼Œ56ï¼Œ60ï¼Œ75ï¼Œè¯•ä¼°è®¡ä¸¤ä¸ªåˆ†é‡çš„é«˜æ–¯æ··åˆæ¨¡å‹çš„5ä¸ªå‚æ•°ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606150830535.png" alt="image-20250606150830535"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.mixture <span class="keyword">import</span> GaussianMixture</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–è§‚æµ‹æ•°æ®</span></span><br><span class="line">data = np.array([-<span class="number">67</span>, -<span class="number">48</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">41</span>, <span class="number">49</span>, <span class="number">56</span>, <span class="number">60</span>,</span><br><span class="line">                 <span class="number">75</span>]).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># èšç±»</span></span><br><span class="line">gmmModel = GaussianMixture(n_components=<span class="number">2</span>)</span><br><span class="line">gmmModel.fit(data)</span><br><span class="line">labels = gmmModel.predict(data)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;labels =&quot;</span>, labels)</span><br><span class="line">labels = [<span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(labels)):</span><br><span class="line">    <span class="keyword">if</span> labels[i] == <span class="number">0</span>:</span><br><span class="line">        plt.scatter(i, data.take(i), s=<span class="number">15</span>, c=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> labels[i] == <span class="number">1</span>:</span><br><span class="line">        plt.scatter(i, data.take(i), s=<span class="number">15</span>, c=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Gaussian Mixture Model&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;means =&quot;</span>, gmmModel.means_.reshape(<span class="number">1</span>, -<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;covariances =&quot;</span>, gmmModel.covariances_.reshape(<span class="number">1</span>, -<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;weights = &quot;</span>, gmmModel.weights_.reshape(<span class="number">1</span>, -<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606150906475.png" alt="image-20250606150906475"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># means = [[ 32.98489643 -57.51107027]]</span></span><br><span class="line"><span class="comment"># covariances = [[429.45764867  90.24987882]]</span></span><br><span class="line"><span class="comment"># weights =  [[0.86682762 0.13317238]]</span></span><br></pre></td></tr></table></figure>
<h5 id="3"><a href="#3" class="headerlink" title="3"></a>3</h5><p>ç®€è¦é˜è¿°ä¸‹EMç®—æ³•çš„åŸç†ï¼Œå¹¶ç»™å‡ºEMç®—æ³•å¯¹é«˜æ–¯æ··åˆæ¨¡å‹GMMè¿›è¡Œæ±‚è§£çš„å…·ä½“è¿‡ç¨‹ã€‚</p>
<h6 id="EMç®—æ³•çš„åŸç†"><a href="#EMç®—æ³•çš„åŸç†" class="headerlink" title="EMç®—æ³•çš„åŸç†"></a>EMç®—æ³•çš„åŸç†</h6><p>EMç®—æ³•ï¼ˆæœŸæœ›æœ€å¤§åŒ–ç®—æ³•ï¼‰æ˜¯ä¸€ç§ç”¨äºå«æœ‰éšå˜é‡çš„æ¦‚ç‡æ¨¡å‹å‚æ•°ä¼°è®¡çš„è¿­ä»£ä¼˜åŒ–æ–¹æ³•ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡äº¤æ›¿æ‰§è¡Œä¸¤ä¸ªæ­¥éª¤æ¥æœ€å¤§åŒ–è§‚æµ‹æ•°æ®çš„ä¼¼ç„¶å‡½æ•°ï¼š</p>
<ol>
<li><strong>Eæ­¥ï¼ˆæœŸæœ›æ­¥ï¼‰</strong>ï¼šè®¡ç®—éšå˜é‡çš„åéªŒæœŸæœ›ï¼ˆå³è´£ä»»ï¼‰ï¼Œç»™å®šå½“å‰å‚æ•°ä¼°è®¡ã€‚</li>
<li><strong>Mæ­¥ï¼ˆæœ€å¤§åŒ–æ­¥ï¼‰</strong>ï¼šåŸºäºè´£ä»»ï¼Œæœ€å¤§åŒ–å®Œå…¨æ•°æ®çš„æœŸæœ›ä¼¼ç„¶å‡½æ•°ä»¥æ›´æ–°å‚æ•°ã€‚</li>
</ol>
<p>EMç®—æ³•é€šè¿‡ä¸æ–­ä¼˜åŒ–ä¼¼ç„¶å‡½æ•°çš„ä¸‹ç•Œï¼Œæœ€ç»ˆæ”¶æ•›åˆ°å±€éƒ¨æœ€ä¼˜è§£ã€‚ä»¥ä¸‹å…·ä½“é˜è¿°EMç®—æ³•å¯¹é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰çš„æ±‚è§£è¿‡ç¨‹ã€‚</p>
<h6 id="EMç®—æ³•å¯¹GMMçš„å…·ä½“æ±‚è§£è¿‡ç¨‹"><a href="#EMç®—æ³•å¯¹GMMçš„å…·ä½“æ±‚è§£è¿‡ç¨‹" class="headerlink" title="EMç®—æ³•å¯¹GMMçš„å…·ä½“æ±‚è§£è¿‡ç¨‹"></a><strong>EMç®—æ³•å¯¹GMMçš„å…·ä½“æ±‚è§£è¿‡ç¨‹</strong></h6><p><strong>1. GMMæ¨¡å‹å®šä¹‰</strong></p>
<p>GMMå‡è®¾æ•°æ®ç”± $ K $ ä¸ªé«˜æ–¯åˆ†å¸ƒçº¿æ€§ç»„åˆç”Ÿæˆï¼Œå…¶æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸ºï¼š</p>
<script type="math/tex; mode=display">
p(\mathbf{x}|\theta) = \sum_{k=1}^K \alpha_k \cdot \mathcal{N}(\mathbf{x}|\mu_k, \Sigma_k)</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ \alpha<em>k $ï¼šç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„æƒé‡ï¼ˆ$ \sum</em>{k=1}^K \alpha_k = 1 $ï¼‰ã€‚</li>
<li>$ \mu_k $ï¼šç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å‘é‡ã€‚</li>
<li>$ \Sigma_k $ï¼šç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„åæ–¹å·®çŸ©é˜µã€‚</li>
<li>$ \theta = {\alpha<em>k, \mu_k, \Sigma_k}</em>{k=1}^K $ï¼šæ¨¡å‹å‚æ•°ã€‚</li>
</ul>
<p>éšå˜é‡ $ z_i \in {1,\dots,K} $ è¡¨ç¤ºæ ·æœ¬ $ \mathbf{x}_i $ çš„ç±»åˆ«æ ‡ç­¾ï¼ˆæœªçŸ¥ï¼‰ã€‚</p>
<p><strong>2. EMç®—æ³•æ­¥éª¤</strong></p>
<p><strong>(1) åˆå§‹åŒ–å‚æ•°</strong></p>
<p>éšæœºæˆ–é€šè¿‡K-meansåˆå§‹åŒ–ï¼š</p>
<ul>
<li>æ¯ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼ $ \mu_k^{(0)} $ã€åæ–¹å·® $ \Sigma_k^{(0)} $ã€æƒé‡ $ \alpha_k^{(0)} $ã€‚</li>
</ul>
<p><strong>(2) è¿­ä»£ä¼˜åŒ–ï¼ˆEæ­¥ä¸Mæ­¥ï¼‰</strong></p>
<p><strong>Eæ­¥ï¼šè®¡ç®—è´£ä»»ï¼ˆåéªŒæ¦‚ç‡ï¼‰</strong><br>å¯¹æ¯ä¸ªæ ·æœ¬ $\mathbf{x}_i$ å’Œæ¯ä¸ªç°‡ $ k $ï¼Œè®¡ç®—å…¶å±äºç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„åéªŒæ¦‚ç‡</p>
<script type="math/tex; mode=display">
\gamma(z_{ik}) = \frac{\alpha_k \cdot \mathcal{N}(\mathbf{x}_i | \mu_k, \Sigma_k)}{\sum_{j=1}^K \alpha_j \cdot \mathcal{N}(\mathbf{x}_i | \mu_j, \Sigma_j)}</script><p>æ­¤æ¦‚ç‡è¡¨ç¤ºåœ¨å½“å‰å‚æ•°ä¸‹ï¼Œæ ·æœ¬ $ \mathbf{x}_i $ å±äºç¬¬ $ k $ ä¸ªé«˜æ–¯åˆ†å¸ƒçš„â€œè´£ä»»â€ã€‚</p>
<p><strong>Mæ­¥ï¼šæ›´æ–°å‚æ•°</strong><br>åŸºäºè´£ä»» $ \gamma(z_{ik}) $ï¼Œæœ€å¤§åŒ–å®Œå…¨æ•°æ®ä¼¼ç„¶å‡½æ•°çš„æœŸæœ›ï¼Œæ›´æ–°å‚æ•°ï¼š</p>
<ul>
<li><strong>æƒé‡æ›´æ–°</strong>ï¼š<script type="math/tex; mode=display">
\alpha_k^{(new)} = \frac{1}{N} \sum_{i=1}^N \gamma(z_{ik})</script></li>
<li><strong>å‡å€¼æ›´æ–°</strong>ï¼š<script type="math/tex; mode=display">
\mu_k^{(new)} = \frac{\sum_{i=1}^N \gamma(z_{ik}) \mathbf{x}_i}{\sum_{i=1}^N \gamma(z_{ik})}</script></li>
<li><strong>åæ–¹å·®æ›´æ–°</strong>ï¼š<script type="math/tex; mode=display">
\Sigma_k^{(new)} = \frac{\sum_{i=1}^N \gamma(z_{ik}) (\mathbf{x}_i - \mu_k^{(new)})(\mathbf{x}_i - \mu_k^{(new)})^\top}{\sum_{i=1}^N \gamma(z_{ik})}</script>è‹¥ä¸ºå•å˜é‡é«˜æ–¯åˆ†å¸ƒï¼Œåˆ™æ›´æ–°æ–¹å·®ï¼š<script type="math/tex; mode=display">
\sigma_k^{(new)} = \frac{\sum_{i=1}^N \gamma(z_{ik}) (x_i - \mu_k^{(new)})^2}{\sum_{i=1}^N \gamma(z_{ik})}</script></li>
</ul>
<p><strong>(3) æ”¶æ•›åˆ¤æ–­</strong></p>
<p>è®¡ç®—å¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼š</p>
<script type="math/tex; mode=display">
\log p(\mathbf{X}|\theta) = \sum_{i=1}^N \log \left( \sum_{k=1}^K \alpha_k \cdot \mathcal{N}(\mathbf{x}_i|\mu_k, \Sigma_k) \right)</script><p>è‹¥å¯¹æ•°ä¼¼ç„¶çš„å˜åŒ–é‡å°äºé˜ˆå€¼æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œåˆ™åœæ­¢ï¼›å¦åˆ™é‡å¤Eæ­¥å’ŒMæ­¥ã€‚ã€‚</p>
<h4 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1RT411G7jJ/?spm_id_from=333.788.recommend_more_video.0&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">[5åˆ†é’Ÿå­¦ç®—æ³•] #06 EMç®—æ³• ä½ åˆ°åº•æ˜¯å“ªä¸ªç­çº§çš„_å“”å“©å“”å“©_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/396007256">ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•_ç¬¬äºŒç‰ˆã€‹å­¦ä¹ ç¬”è®°ç¬¬ä¹ç«  - çŸ¥ä¹</a></p>
<h3 id="é›†æˆå­¦ä¹ "><a href="#é›†æˆå­¦ä¹ " class="headerlink" title="é›†æˆå­¦ä¹ "></a>é›†æˆå­¦ä¹ </h3><h4 id="ä¸ªä½“ä¸é›†æˆ"><a href="#ä¸ªä½“ä¸é›†æˆ" class="headerlink" title="ä¸ªä½“ä¸é›†æˆ"></a>ä¸ªä½“ä¸é›†æˆ</h4><h5 id="é›†æˆå­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ"><a href="#é›†æˆå­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="é›†æˆå­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ"></a><strong>é›†æˆå­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ</strong></h5><p>é›†æˆå­¦ä¹ ï¼ˆEnsemble Learningï¼‰é€šè¿‡æ„å»ºå¹¶ç»“åˆ<strong>å¤šä¸ªå­¦ä¹ å™¨ï¼ˆåŸºæ¨¡å‹ï¼‰</strong>æ¥å®Œæˆå­¦ä¹ ä»»åŠ¡ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œ<strong>ä¼˜è€Œä¸åŒ</strong>â€ï¼Œå³<strong>é€šè¿‡å¤šä¸ªå¼±å­¦ä¹ å™¨çš„åä½œæå‡æ•´ä½“æ€§èƒ½</strong>ï¼Œé€šå¸¸èƒ½è·å¾—æ¯”å•ä¸€å­¦ä¹ å™¨æ›´ä¼˜çš„æ³›åŒ–èƒ½åŠ› ã€‚ </p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606154731476.png" alt="image-20250606154731476"> </p>
<p>åœ¨ä¸Šå›¾çš„é›†æˆæ¨¡å‹ä¸­ï¼Œè‹¥ä¸ªä½“å­¦ä¹ å™¨éƒ½å±äºåŒä¸€ç±»åˆ«ï¼Œä¾‹å¦‚éƒ½æ˜¯å†³ç­–æ ‘æˆ–éƒ½æ˜¯ç¥ç»ç½‘ç»œï¼Œåˆ™ç§°è¯¥é›†æˆä¸ºåŒè´¨çš„ï¼ˆhomogeneousï¼‰;è‹¥ä¸ªä½“å­¦ä¹ å™¨åŒ…å«å¤šç§ç±»å‹çš„å­¦ä¹ ç®—æ³•ï¼Œä¾‹å¦‚æ—¢æœ‰å†³ç­–æ ‘åˆæœ‰ç¥ç»ç½‘ç»œï¼Œåˆ™ç§°è¯¥é›†æˆä¸ºå¼‚è´¨çš„ï¼ˆheterogenousï¼‰ã€‚</p>
<blockquote>
<p><strong>åŒè´¨é›†æˆ</strong>ï¼šä¸ªä½“å­¦ä¹ å™¨ç§°ä¸ºâ€œåŸºå­¦ä¹ å™¨â€ï¼ˆbase learnerï¼‰ï¼Œå¯¹åº”çš„å­¦ä¹ ç®—æ³•ä¸ºâ€œåŸºå­¦ä¹ ç®—æ³•â€ï¼ˆbase learning algorithmï¼‰ã€‚ </p>
<p><strong>å¼‚è´¨é›†æˆ</strong>ï¼šä¸ªä½“å­¦ä¹ å™¨ç§°ä¸ºâ€œç»„ä»¶å­¦ä¹ å™¨â€ï¼ˆcomponent learnerï¼‰æˆ–ç›´ç§°ä¸ºâ€œä¸ªä½“å­¦ä¹ å™¨â€ã€‚</p>
</blockquote>
<p>é›†æˆå­¦ä¹ çš„ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼š<strong>å‡†ç¡®æ€§</strong>å’Œ<strong>å¤šæ ·æ€§</strong>ï¼ˆdiversityï¼‰ã€‚å‡†ç¡®æ€§æŒ‡çš„æ˜¯ä¸ªä½“å­¦ä¹ å™¨ä¸èƒ½å¤ªå·®ï¼Œè¦æœ‰ä¸€å®šçš„å‡†ç¡®åº¦ï¼›å¤šæ ·æ€§åˆ™æ˜¯ä¸ªä½“å­¦ä¹ å™¨ä¹‹é—´çš„è¾“å‡ºè¦å…·æœ‰å·®å¼‚æ€§ã€‚</p>
<p>é€šè¿‡ä¸‹é¢çš„è¿™ä¸‰ä¸ªä¾‹å­å¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºè¿™ä¸€ç‚¹ï¼Œå‡†ç¡®åº¦è¾ƒé«˜ï¼Œå·®å¼‚åº¦ä¹Ÿè¾ƒé«˜ï¼Œå¯ä»¥è¾ƒå¥½åœ°æå‡é›†æˆæ€§èƒ½ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606155939884.png" alt="image-20250606155939884"></p>
<p><strong>é›†æˆç­–ç•¥</strong>ï¼šå¦‚ä½•ç»“åˆå¤šä¸ªåŸºæ¨¡å‹çš„é¢„æµ‹ç»“æœï¼Œä¾‹å¦‚ï¼š  </p>
<ul>
<li><strong>æŠ•ç¥¨æ³•</strong>ï¼ˆVotingï¼‰ï¼šå¤šæ•°æŠ•ç¥¨ï¼ˆç¡¬æŠ•ç¥¨ï¼‰æˆ–æ¦‚ç‡åŠ æƒï¼ˆè½¯æŠ•ç¥¨ï¼‰ã€‚  </li>
<li><strong>åŠ æƒå¹³å‡æ³•</strong>ï¼šå¯¹åŸºæ¨¡å‹çš„è¾“å‡ºèµ‹äºˆä¸åŒæƒé‡ ã€‚  </li>
<li><strong>Stacking</strong>ï¼šç”¨å…ƒæ¨¡å‹ï¼ˆMeta-Modelï¼‰å­¦ä¹ åŸºæ¨¡å‹çš„è¾“å‡ºä½œä¸ºæ–°ç‰¹å¾ ã€‚</li>
</ul>
<h5 id="åŸºäºæŠ•ç¥¨æ³•çš„é›†æˆä¸ªä½“å­¦ä¹ å™¨çš„æ”¶æ•›æ€§ä¿è¯ï¼š"><a href="#åŸºäºæŠ•ç¥¨æ³•çš„é›†æˆä¸ªä½“å­¦ä¹ å™¨çš„æ”¶æ•›æ€§ä¿è¯ï¼š" class="headerlink" title="åŸºäºæŠ•ç¥¨æ³•çš„é›†æˆä¸ªä½“å­¦ä¹ å™¨çš„æ”¶æ•›æ€§ä¿è¯ï¼š"></a><strong>åŸºäºæŠ•ç¥¨æ³•çš„é›†æˆä¸ªä½“å­¦ä¹ å™¨çš„æ”¶æ•›æ€§ä¿è¯</strong>ï¼š</h5><p><strong>å…¬å¼è§£æ</strong></p>
<script type="math/tex; mode=display">
P(H(\boldsymbol{x}) \neq f(\boldsymbol{x})) = \sum_{k=0}^{\lfloor T/2 \rfloor} \binom{T}{k} (1-\epsilon)^k \epsilon^{T-k} \leq \exp\left(-\frac{1}{2} T (1 - 2\epsilon)^2\right)</script><p><strong>1. å…¬å¼å«ä¹‰</strong></p>
<ul>
<li><strong>$H(\boldsymbol{x})$</strong>ï¼šé›†æˆå­¦ä¹ å™¨çš„æœ€ç»ˆé¢„æµ‹ç»“æœï¼ˆå¦‚å¤šæ•°æŠ•ç¥¨ç»“æœï¼‰ã€‚</li>
<li><strong>$f(\boldsymbol{x})$</strong>ï¼šçœŸå®æ ‡è®°ã€‚</li>
<li><strong>$\epsilon$</strong>ï¼šå•ä¸ªå¼±å­¦ä¹ å™¨çš„é”™è¯¯ç‡ï¼ˆå³ $P(h_t(\boldsymbol{x}) \neq f(\boldsymbol{x}))$ï¼‰ï¼Œé»˜è®¤å°äº0.5ã€‚</li>
<li><strong>$T$</strong>ï¼šåŸºå­¦ä¹ å™¨çš„æ•°é‡ã€‚</li>
<li><strong>å·¦è¾¹</strong>ï¼šé›†æˆå­¦ä¹ å™¨é¢„æµ‹é”™è¯¯çš„æ¦‚ç‡ï¼ˆå³è‡³å°‘æœ‰è¶…è¿‡ $T/2$ ä¸ªåŸºå­¦ä¹ å™¨é¢„æµ‹é”™è¯¯çš„æ¦‚ç‡ï¼‰ã€‚</li>
<li><strong>å³è¾¹</strong>ï¼šå¯¹å·¦è¾¹æ¦‚ç‡çš„æŒ‡æ•°çº§ä¸Šé™ä¼°è®¡ã€‚</li>
</ul>
<p><strong>2. æ¨å¯¼æ€è·¯</strong></p>
<ul>
<li>å‡è®¾æ¯ä¸ªåŸºå­¦ä¹ å™¨ç‹¬ç«‹ä¸”é”™è¯¯ç‡ä¸º $\epsilon$ï¼Œåˆ™é”™è¯¯æ¬¡æ•°æœä»<strong>äºŒé¡¹åˆ†å¸ƒ</strong> $B(T, \epsilon)$ã€‚</li>
<li>é›†æˆé”™è¯¯çš„æ¡ä»¶æ˜¯â€œè¶…è¿‡åŠæ•°åŸºå­¦ä¹ å™¨é”™è¯¯â€ï¼Œå³é”™è¯¯æ¬¡æ•° $k \leq \lfloor T/2 \rfloor$ã€‚</li>
</ul>
<p><strong>ä¸¤ä¸ªåŸºæœ¬ç»“è®º</strong></p>
<p><strong>1. æ”¶æ•›é€Ÿç‡éšä¸ªä½“å­¦ä¹ å™¨æ•°é‡ $T$ æŒ‡æ•°ä¸‹é™</strong></p>
<ul>
<li><strong>æ•°å­¦ä½“ç°</strong>ï¼šé”™è¯¯æ¦‚ç‡çš„ä¸Šç•Œæ˜¯ $\exp(-cT)$ å½¢å¼ï¼Œå…¶ä¸­ $c = \frac{1}{2}(1 - 2\epsilon)^2$ã€‚</li>
</ul>
<p><strong>2. $\epsilon = 0.5$ çš„ä¸ªä½“å­¦ä¹ å™¨å¯¹æ”¶æ•›æ²¡æœ‰ä½œç”¨</strong></p>
<ul>
<li><strong>æ•°å­¦åŸå› </strong>ï¼šå½“ $\epsilon = 0.5$ æ—¶ï¼Œ$(1 - 2\epsilon)^2 = 0$ï¼ŒæŒ‡æ•°é¡¹å˜ä¸º 0ï¼Œé”™è¯¯æ¦‚ç‡ä¸Šç•Œä¸º $\exp(0) = 1$ï¼Œå³é”™è¯¯æ¦‚ç‡æ— æ³•é™ä½ã€‚</li>
</ul>
<p>æ ¹æ®ä¸ªä½“å­¦ä¹ å™¨çš„<strong>ç”Ÿæˆæ–¹å¼</strong>ï¼Œç›®å‰é›†æˆå­¦ä¹ å¯åˆ†ä¸ºä¸¤ç±»ï¼Œä»£è¡¨ä½œå¦‚ä¸‹ï¼š</p>
<ol>
<li>ä¸ªä½“å­¦ä¹ å™¨ç›´æ¥å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œå¿…é¡»ä¸²è¡Œç”Ÿæˆçš„åºåˆ—åŒ–æ–¹æ³•ï¼š<strong>Boosting</strong>ï¼›</li>
<li>ä¸ªä½“å­¦ä¹ å™¨é—´ä¸å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œå¯ä»¥åŒæ—¶ç”Ÿæˆçš„å¹¶è¡ŒåŒ–æ–¹æ³•ï¼š<strong>Bagging</strong> å’Œ <strong>éšæœºæ£®æ— (Random Forest)</strong>ã€‚</li>
</ol>
<h4 id="Boosting"><a href="#Boosting" class="headerlink" title="Boosting"></a><strong>Boosting</strong></h4><p>Boostingæ˜¯ä¸€ç§<strong>ä¸²è¡Œ</strong>çš„å·¥ä½œæœºåˆ¶ï¼Œå³<strong>ä¸ªä½“å­¦ä¹ å™¨çš„è®­ç»ƒå­˜åœ¨ä¾èµ–å…³ç³»</strong>ï¼Œå¿…é¡»ä¸€æ­¥ä¸€æ­¥åºåˆ—åŒ–è¿›è¡Œã€‚</p>
<p>å…¶<strong>åŸºæœ¬æ€æƒ³</strong>æ˜¯ï¼š<strong>å¢åŠ å‰ä¸€ä¸ªåŸºå­¦ä¹ å™¨åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é¢„æµ‹é”™è¯¯æ ·æœ¬çš„æƒé‡ï¼Œä½¿å¾—åç»­åŸºå­¦ä¹ å™¨æ›´åŠ å…³æ³¨è¿™äº›æ‰“æ ‡é”™è¯¯çš„è®­ç»ƒæ ·æœ¬ï¼Œå°½å¯èƒ½çº æ­£è¿™äº›é”™è¯¯ï¼Œç„¶ååŸºäºè°ƒæ•´åçš„æ ·æœ¬åˆ†å¸ƒè®­ç»ƒä¸‹ä¸€ä¸ªåŸºå­¦ä¹ å™¨</strong>ï¼Œå¦‚æ­¤é‡å¤ï¼Œä¸€ç›´å‘ä¸‹ä¸²è¡Œç›´è‡³äº§ç”Ÿéœ€è¦çš„Tä¸ªåŸºå­¦ä¹ å™¨ï¼ŒBoostingæœ€ç»ˆå¯¹è¿™Tä¸ªå­¦ä¹ å™¨è¿›è¡ŒåŠ æƒç»“åˆï¼Œäº§ç”Ÿå­¦ä¹ å™¨å§”å‘˜ä¼šã€‚</p>
<p>Boostingæ—ç®—æ³•æœ€è‘—åã€ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„å°±æ˜¯<strong>AdaBoost</strong>ï¼Œå› æ­¤ä¸‹é¢ä¸»è¦æ˜¯å¯¹AdaBoostç®—æ³•è¿›è¡Œä»‹ç»ã€‚</p>
<p>AdaBoostä½¿ç”¨çš„æ˜¯<strong>æŒ‡æ•°æŸå¤±å‡½æ•°</strong>ï¼Œå› æ­¤AdaBoostçš„æƒå€¼ä¸æ ·æœ¬åˆ†å¸ƒçš„æ›´æ–°éƒ½æ˜¯å›´ç»•ç€æœ€å°åŒ–æŒ‡æ•°æŸå¤±å‡½æ•°è¿›è¡Œçš„ã€‚</p>
<blockquote>
<p>çœ‹åˆ°è¿™é‡Œå›æƒ³ä¸€ä¸‹ä¹‹å‰çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œ<strong>ä¸éš¾å‘ç°æœºå™¨å­¦ä¹ çš„å¤§éƒ¨åˆ†å¸¦å‚æ¨¡å‹åªæ˜¯æ”¹å˜äº†æœ€ä¼˜åŒ–ç›®æ ‡ä¸­çš„æŸå¤±å‡½æ•°</strong>ï¼šå¦‚æœæ˜¯Square lossï¼Œé‚£å°±æ˜¯æœ€å°äºŒä¹˜äº†ï¼›å¦‚æœæ˜¯Hinge Lossï¼Œé‚£å°±æ˜¯è‘—åçš„SVMäº†ï¼›å¦‚æœæ˜¯log-Lossï¼Œé‚£å°±æ˜¯Logistic Regressionäº†ã€‚</p>
</blockquote>
<h5 id="AdaBoost"><a href="#AdaBoost" class="headerlink" title="AdaBoost"></a>AdaBoost</h5><h5 id="å…¬å¼è§£æ"><a href="#å…¬å¼è§£æ" class="headerlink" title="å…¬å¼è§£æ"></a><strong>å…¬å¼è§£æ</strong></h5><script type="math/tex; mode=display">
H(\boldsymbol{x}) = \sum_{t=1}^T \alpha_t h_t(\boldsymbol{x})</script><script type="math/tex; mode=display">
\ell_{\exp}(H | \mathcal{D}) = \mathbb{E}_{\boldsymbol{x} \sim \mathcal{D}} \left[ e^{-f(\boldsymbol{x}) H(\boldsymbol{x})} \right]</script><p><strong>1. ç¬¦å·å«ä¹‰</strong></p>
<ul>
<li><strong>$H(\boldsymbol{x})$</strong>ï¼šæœ€ç»ˆé›†æˆæ¨¡å‹çš„é¢„æµ‹ç»“æœï¼Œæ˜¯ $T$ ä¸ªåŸºå­¦ä¹ å™¨ $h_t(\boldsymbol{x})$ çš„åŠ æƒå’Œã€‚</li>
<li><strong>$\alpha_t$</strong>ï¼šç¬¬ $t$ ä¸ªåŸºå­¦ä¹ å™¨çš„æƒé‡ï¼Œè¡¨ç¤ºå…¶åœ¨é›†æˆä¸­çš„é‡è¦æ€§ã€‚</li>
<li><strong>$h_t(\boldsymbol{x})$</strong>ï¼šç¬¬ $t$ ä¸ªåŸºå­¦ä¹ å™¨ï¼ˆå¦‚å†³ç­–æ ‘ã€æ„ŸçŸ¥æœºç­‰ï¼‰ã€‚</li>
<li><strong>$f(\boldsymbol{x})$</strong>ï¼šçœŸå®æ ‡ç­¾ï¼Œé€šå¸¸å–å€¼ä¸º ${-1, +1}$ï¼ˆäºŒåˆ†ç±»é—®é¢˜ï¼‰ã€‚</li>
<li><strong>$\mathcal{D}$</strong>ï¼šè®­ç»ƒæ•°æ®åˆ†å¸ƒã€‚</li>
<li><strong>$\ell_{\exp}$</strong>ï¼šæŒ‡æ•°æŸå¤±å‡½æ•°ï¼ˆExponential Lossï¼‰ã€‚</li>
</ul>
<p><strong>2. æŒ‡æ•°æŸå¤±å‡½æ•°çš„æ„ä¹‰</strong></p>
<p>æŒ‡æ•°æŸå¤±å‡½æ•°çš„å½¢å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\ell_{\exp}(H | \mathcal{D}) = \mathbb{E}_{\boldsymbol{x} \sim \mathcal{D}} \left[ e^{-f(\boldsymbol{x}) H(\boldsymbol{x})} \right]</script><ul>
<li><strong>ç›´è§‚è§£é‡Š</strong>ï¼š<ul>
<li>å½“ $H(\boldsymbol{x})$ ä¸ $f(\boldsymbol{x})$ åŒå·æ—¶ï¼ˆé¢„æµ‹æ­£ç¡®ï¼‰ï¼ŒæŒ‡æ•°é¡¹ $e^{-f(\boldsymbol{x}) H(\boldsymbol{x})}$ æ¥è¿‘ 0ï¼ŒæŸå¤±å°ã€‚</li>
<li>å½“ $H(\boldsymbol{x})$ ä¸ $f(\boldsymbol{x})$ å¼‚å·æ—¶ï¼ˆé¢„æµ‹é”™è¯¯ï¼‰ï¼ŒæŒ‡æ•°é¡¹è¶‹è¿‘äºæ­£æ— ç©·ï¼ŒæŸå¤±æå¤§ã€‚</li>
<li>å› æ­¤ï¼Œè¯¥æŸå¤±å‡½æ•°å¯¹é”™è¯¯æ ·æœ¬çš„æƒ©ç½šéå¸¸ä¸¥æ ¼ï¼Œè¿«ä½¿æ¨¡å‹ä¼˜å…ˆä¿®æ­£é”™è¯¯ã€‚</li>
</ul>
</li>
</ul>
<h5 id="AdaBoostçš„ä¼˜åŒ–ç›®æ ‡"><a href="#AdaBoostçš„ä¼˜åŒ–ç›®æ ‡" class="headerlink" title="AdaBoostçš„ä¼˜åŒ–ç›®æ ‡"></a><strong>AdaBoostçš„ä¼˜åŒ–ç›®æ ‡</strong></h5><p>AdaBoostçš„ç›®æ ‡æ˜¯é€‰æ‹©åŸºå­¦ä¹ å™¨ $h_t$ å’Œæƒé‡ $\alpha_t$ï¼Œä½¿å¾—é›†æˆæ¨¡å‹ $H(\boldsymbol{x})$ èƒ½å¤Ÿ<strong>æœ€å°åŒ–æŒ‡æ•°æŸå¤±å‡½æ•°</strong>ï¼š</p>
<script type="math/tex; mode=display">
\min_{\alpha_1, h_1, \dots, \alpha_T, h_T} \mathbb{E}_{\boldsymbol{x} \sim \mathcal{D}} \left[ e^{-f(\boldsymbol{x}) \sum_{t=1}^T \alpha_t h_t(\boldsymbol{x})} \right]</script><p><strong>ä¼˜åŒ–ç­–ç•¥</strong></p>
<p>AdaBoosté‡‡ç”¨<strong>å‰å‘åˆ†æ­¥ç®—æ³•ï¼ˆForward Stagewise Algorithmï¼‰</strong>ï¼Œé€è½®è¿­ä»£ä¼˜åŒ–ï¼š</p>
<ol>
<li><strong>åˆå§‹åŒ–æ ·æœ¬æƒé‡</strong>ï¼šåˆå§‹æ—¶æ‰€æœ‰æ ·æœ¬æƒé‡ç›¸ç­‰ã€‚</li>
<li><strong>è®­ç»ƒåŸºå­¦ä¹ å™¨ $h_t$</strong>ï¼šåœ¨å½“å‰æ ·æœ¬æƒé‡åˆ†å¸ƒä¸‹ï¼Œè®­ç»ƒä¸€ä¸ªå¼±å­¦ä¹ å™¨ $h_t$ã€‚</li>
<li><strong>è®¡ç®—æƒé‡ $\alpha_t$</strong>ï¼šæ ¹æ® $h_t$ çš„é”™è¯¯ç‡ $\epsilon_t$ è®¡ç®—å…¶æƒé‡ï¼š<script type="math/tex; mode=display">
\alpha_t = \frac{1}{2} \ln \left( \frac{1 - \epsilon_t}{\epsilon_t} \right)</script></li>
<li><strong>æ›´æ–°æ ·æœ¬æƒé‡</strong>ï¼šæé«˜è¢« $h_t$ é”™åˆ†ç±»æ ·æœ¬çš„æƒé‡ï¼Œé™ä½æ­£ç¡®åˆ†ç±»æ ·æœ¬çš„æƒé‡ã€‚</li>
<li><strong>é‡å¤æ­¥éª¤ 2-4</strong>ï¼Œç›´åˆ°è®­ç»ƒå®Œæˆ $T$ è½®ã€‚</li>
</ol>
<h5 id="ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜-1"><a href="#ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜-1" class="headerlink" title="ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜"></a><strong>ç¤ºä¾‹ï¼šäºŒåˆ†ç±»é—®é¢˜</strong></h5><p>å‡è®¾ä¸€ä¸ªäºŒåˆ†ç±»ä»»åŠ¡ï¼ŒçœŸå®æ ‡ç­¾ $f(\boldsymbol{x}) \in {-1, +1}$ï¼Œé›†æˆæ¨¡å‹é¢„æµ‹å€¼ $H(\boldsymbol{x}) = \sum_{t=1}^T \alpha_t h_t(\boldsymbol{x})$ï¼š</p>
<ul>
<li>è‹¥ $H(\boldsymbol{x}) &gt; 0$ï¼Œé¢„æµ‹ä¸º $+1$ï¼›</li>
<li>è‹¥ $H(\boldsymbol{x}) &lt; 0$ï¼Œé¢„æµ‹ä¸º $-1$ã€‚</li>
</ul>
<p>æ­¤æ—¶ï¼ŒæŒ‡æ•°æŸå¤±å‡½æ•°çš„å€¼åæ˜ äº†æ¨¡å‹å¯¹é”™è¯¯æ ·æœ¬çš„æƒ©ç½šç¨‹åº¦ï¼š</p>
<ul>
<li>æ­£ç¡®é¢„æµ‹æ—¶ï¼Œ$e^{-f(\boldsymbol{x}) H(\boldsymbol{x})} \approx 0$ï¼›</li>
<li>é”™è¯¯é¢„æµ‹æ—¶ï¼Œ$e^{-f(\boldsymbol{x}) H(\boldsymbol{x})} \gg 1$ã€‚</li>
</ul>
<h5 id="AdaBoostçš„ç®—æ³•æµç¨‹"><a href="#AdaBoostçš„ç®—æ³•æµç¨‹" class="headerlink" title="AdaBoostçš„ç®—æ³•æµç¨‹"></a>AdaBoostçš„ç®—æ³•æµç¨‹</h5><p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606172851748.png" alt="image-20250606172851748"></p>
<h5 id="é‡èµ‹æƒæ³•ä¸é‡é‡‡æ ·æ³•"><a href="#é‡èµ‹æƒæ³•ä¸é‡é‡‡æ ·æ³•" class="headerlink" title="é‡èµ‹æƒæ³•ä¸é‡é‡‡æ ·æ³•"></a>é‡èµ‹æƒæ³•ä¸é‡é‡‡æ ·æ³•</h5><p>åœ¨é›†æˆå­¦ä¹ ä¸­ï¼Œ<strong>Boosting ç®—æ³•çš„æ ¸å¿ƒåœ¨äºåŠ¨æ€è°ƒæ•´æ ·æœ¬æƒé‡</strong> ï¼Œä»¥é€æ­¥èšç„¦éš¾åˆ†ç±»æ ·æœ¬ã€‚Boosting ä¸»è¦é€šè¿‡ä¸¤ç§æ–¹æ³•å®ç°æ ·æœ¬æƒé‡çš„æ›´æ–°ï¼š<strong>é‡èµ‹æƒæ³•ï¼ˆre-weightingï¼‰</strong> å’Œ <strong>é‡é‡‡æ ·æ³•ï¼ˆre-samplingï¼‰</strong> ã€‚</p>
<blockquote>
<p><strong>é‡èµ‹æƒæ³•</strong> : å¯¹æ¯ä¸ªæ ·æœ¬é™„åŠ ä¸€ä¸ªæƒé‡ï¼Œè¿™æ—¶æ¶‰åŠåˆ°æ ·æœ¬å±æ€§ä¸æ ‡ç­¾çš„è®¡ç®—ï¼Œéƒ½éœ€è¦ä¹˜ä¸Šä¸€ä¸ªæƒå€¼ã€‚ <strong>é‡é‡‡æ ·æ³•</strong> : å¯¹äºä¸€äº›æ— æ³•æ¥å—å¸¦æƒæ ·æœ¬çš„åŠå­¦ä¹ ç®—æ³•ï¼Œé€‚åˆç”¨â€œé‡é‡‡æ ·æ³•â€è¿›è¡Œå¤„ç†ã€‚æ–¹æ³•å¤§è‡´è¿‡ç¨‹æ˜¯ï¼Œæ ¹æ®å„ä¸ªæ ·æœ¬çš„æƒé‡ï¼Œå¯¹è®­ç»ƒæ•°æ®è¿›è¡Œé‡é‡‡æ ·ï¼Œåˆå§‹æ—¶æ ·æœ¬æƒé‡ä¸€æ ·ï¼Œæ¯ä¸ªæ ·æœ¬è¢«é‡‡æ ·åˆ°çš„æ¦‚ç‡ä¸€è‡´ï¼Œæ¯æ¬¡ä»Nä¸ªåŸå§‹çš„è®­ç»ƒæ ·æœ¬ä¸­æŒ‰ç…§æƒé‡æœ‰æ”¾å›é‡‡æ ·Nä¸ªæ ·æœ¬ä½œä¸ºè®­ç»ƒé›†ï¼Œç„¶åè®¡ç®—è®­ç»ƒé›†é”™è¯¯ç‡ï¼Œç„¶åè°ƒæ•´æƒé‡ï¼Œé‡å¤é‡‡æ ·ï¼Œé›†æˆå¤šä¸ªåŸºå­¦ä¹ å™¨ã€‚</p>
</blockquote>
<p>ä»åå·®-æ–¹å·®åˆ†è§£æ¥çœ‹ï¼šBoostingç®—æ³•ä¸»è¦å…³æ³¨äºé™ä½åå·®ï¼Œæ¯è½®çš„è¿­ä»£éƒ½å…³æ³¨äºè®­ç»ƒè¿‡ç¨‹ä¸­é¢„æµ‹é”™è¯¯çš„æ ·æœ¬ï¼Œå› æ­¤Boostingèƒ½åŸºäºæ³›åŒ–æ€§èƒ½ç›¸å½“å¼±çš„å­¦ä¹ å™¨æ„å»ºå‡ºå¾ˆå¼ºçš„é›†æˆå­¦ä¹ å™¨ã€‚</p>
<h5 id="æ‹“å±•ï¼šGradient-Boosting"><a href="#æ‹“å±•ï¼šGradient-Boosting" class="headerlink" title="æ‹“å±•ï¼šGradient Boosting"></a>æ‹“å±•ï¼šGradient Boosting</h5><p>ä»»åŠ¡åˆ†ä¸ºåˆ†ç±»ï¼Œå›å½’ï¼Œèšç±»ï¼Œé™ç»´ç­‰ï¼Œè€Œåˆ†ç±»ä¸­è¿˜åˆ†ä¸ºäºŒåˆ†ç±»å’Œå¤šåˆ†ç±»</p>
<p>ä»AdaBoostçš„ç®—æ³•æµç¨‹æ¥çœ‹ï¼Œæ ‡å‡†çš„AdaBooståªé€‚ç”¨äºäºŒåˆ†ç±»é—®é¢˜ã€‚</p>
<p>é€šè¿‡æ”¹é€ AdaBoostå¯¹æ ·æœ¬åˆ†ç±»çš„é™åˆ¶å’ŒæŸå¤±å‡½æ•°ï¼Œå¯ä»¥å®ç°å¤šåˆ†ç±»æˆ–å›å½’é—®é¢˜ï¼Œè¿™æ ·æ”¹é€ å‡ºæ¥çš„ç®—æ³•æ¡†æ¶æˆä¸º<strong>Gradient Boosting</strong></p>
<h6 id="GBDTï¼ˆGradient-Boosting-Decision-Treeï¼‰ä¸XGBoost"><a href="#GBDTï¼ˆGradient-Boosting-Decision-Treeï¼‰ä¸XGBoost" class="headerlink" title="GBDTï¼ˆGradient Boosting Decision Treeï¼‰ä¸XGBoost"></a><strong>GBDTï¼ˆGradient Boosting Decision Treeï¼‰ä¸XGBoost</strong></h6><p><strong>1. GBDT çš„æ ¸å¿ƒæ€æƒ³</strong></p>
<p>GBDT æ˜¯åŸºäº<strong>æ¢¯åº¦æå‡ï¼ˆGradient Boostingï¼‰</strong>æ¡†æ¶çš„é›†æˆå­¦ä¹ æ–¹æ³•ï¼Œå…¶ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>åŸºå­¦ä¹ å™¨</strong>ï¼šä½¿ç”¨<strong>CARTï¼ˆåˆ†ç±»ä¸å›å½’æ ‘ï¼‰</strong>ä½œä¸ºä¸ªä½“å­¦ä¹ å™¨ã€‚</li>
<li><strong>æŸå¤±å‡½æ•°</strong>ï¼š<ul>
<li><strong>å›å½’é—®é¢˜</strong>ï¼šå¹³æ–¹æŸå¤±ï¼ˆSquared Lossï¼‰ï¼š<script type="math/tex; mode=display">
\text{err}(H_t(\boldsymbol{x}), f(\boldsymbol{x})) = (H_t(\boldsymbol{x}) - f(\boldsymbol{x}))^2</script></li>
<li><strong>äºŒåˆ†ç±»é—®é¢˜</strong>ï¼šå¯¹æ•°ä¼¼ç„¶æŸå¤±ï¼ˆLog-Likelihood Lossï¼Œç±»ä¼¼é€»è¾‘å›å½’ï¼‰ï¼š<script type="math/tex; mode=display">
\text{err}(H_t(\boldsymbol{x}), f(\boldsymbol{x})) = \log(1 + \exp(-f(\boldsymbol{x}) H_t(\boldsymbol{x})))</script></li>
<li><strong>å¤šåˆ†ç±»é—®é¢˜</strong>ï¼šæ‰©å±•ä¸ºå¤šåˆ†ç±»å¯¹æ•°æŸå¤±ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. XGBoost çš„å®šä½</strong></p>
<p>XGBoostï¼ˆeXtreme Gradient Boostingï¼‰æ˜¯ GBDT çš„ä¸€ç§<strong>é«˜æ•ˆå®ç°å’Œæ”¹è¿›</strong>ï¼Œç±»ä¼¼äº LIBSVM å¯¹ SVM çš„ä¼˜åŒ–å…³ç³»ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li><strong>æå‡è®­ç»ƒé€Ÿåº¦</strong>ï¼šé€šè¿‡<strong>å¹¶è¡Œè®¡ç®—</strong>ã€<strong>å†…å­˜ä¼˜åŒ–</strong>ç­‰å·¥ç¨‹æŠ€å·§ã€‚</li>
<li><strong>å¢å¼ºæ¨¡å‹æ€§èƒ½</strong>ï¼šå¼•å…¥<strong>æ­£åˆ™åŒ–é¡¹</strong>ã€<strong>ç¼ºå¤±å€¼å¤„ç†</strong>ã€<strong>è‡ªé€‚åº”å­¦ä¹ ç‡</strong>ç­‰æ”¹è¿›ã€‚</li>
</ul>
<blockquote>
<p>XGBoostå³eXtremeGradient Boostingçš„ç¼©å†™ï¼ŒXGBoostä¸GBDTçš„å…³ç³»å¯ä»¥ç±»æ¯”ä¸º<br>LIBSVMå’ŒSVMçš„å…³ç³»ï¼Œå³XGBoOstæ˜¯GBDTçš„ä¸€ç§é«˜æ•ˆå®ç°å’Œæ”¹è¿›ã€‚</p>
<p>å®ƒå¹¶éä¸€ä¸ªå…¨æ–°çš„ç®—æ³•æ¡†æ¶ï¼Œè€Œæ˜¯å¯¹æ ‡å‡† GBDT è¿›è¡Œäº†<strong>å¤§é‡çš„å·¥ç¨‹ä¼˜åŒ–å’Œç®—æ³•å¢å¼º</strong>ã€‚</p>
</blockquote>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606175536310.png" alt="image-20250606175536310"></p>
<h4 id="Bagging"><a href="#Bagging" class="headerlink" title="Bagging"></a>Bagging</h4><p>Baggingæ˜¯ä¸€ç§<strong>å¹¶è¡Œå¼</strong>çš„é›†æˆå­¦ä¹ æ–¹æ³•ï¼Œå³<strong>åŸºå­¦ä¹ å™¨çš„è®­ç»ƒä¹‹é—´æ²¡æœ‰å‰åé¡ºåºå¯ä»¥åŒæ—¶è¿›è¡Œ</strong></p>
<p>Baggingä½¿ç”¨<strong>â€œæœ‰æ”¾å›â€é‡‡æ ·çš„æ–¹å¼é€‰å–è®­ç»ƒé›†</strong>ï¼Œå¯¹äºåŒ…å«mä¸ªæ ·æœ¬çš„è®­ç»ƒé›†ï¼Œè¿›è¡Œmæ¬¡æœ‰æ”¾å›çš„éšæœºé‡‡æ ·æ“ä½œï¼Œä»è€Œå¾—åˆ°mä¸ªæ ·æœ¬çš„é‡‡æ ·é›†ï¼Œè¿™æ ·è®­ç»ƒé›†ä¸­æœ‰<strong>æ¥è¿‘36.8%</strong>çš„æ ·æœ¬æ²¡æœ‰è¢«é‡‡åˆ°ï¼Œå¯ç”¨ä½œéªŒè¯é›†æ¥å¯¹æ³›åŒ–æ€§èƒ½è¿›è¡Œâ€œåŒ…å¤–ä¼°è®¡â€(out-of-bag estimate)ã€‚</p>
<p>æŒ‰ç…§ç›¸åŒçš„æ–¹å¼é‡å¤è¿›è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡‡é›†åˆ°Tä¸ªåŒ…å«mä¸ªæ ·æœ¬çš„æ•°æ®é›†ï¼Œä»è€Œè®­ç»ƒå‡º<strong>Tä¸ªåŸºå­¦ä¹ å™¨</strong>ï¼Œæœ€ç»ˆå¯¹<strong>è¿™Tä¸ªåŸºå­¦ä¹ å™¨çš„è¾“å‡ºè¿›è¡Œç»“åˆ</strong>ã€‚</p>
<h5 id="Baggingä¸Boostingçš„å·®å¼‚"><a href="#Baggingä¸Boostingçš„å·®å¼‚" class="headerlink" title="Baggingä¸Boostingçš„å·®å¼‚"></a>Baggingä¸Boostingçš„å·®å¼‚</h5><p>Boostingç®—æ³•ä¸€å¤§ç‰¹ç‚¹æ˜¯ä¸²è¡Œï¼Œè¿™æ ·è¯šç„¶å¯ä»¥é™ä½æ¨¡å‹çš„åå·®ï¼Œå¢å¼ºæ‹Ÿåˆèƒ½åŠ›ï¼Œä½†æ˜¯å½“æ•°æ®è¿‡å¤§æ—¶ï¼Œä¸€å¤§ç¼ºç‚¹å°±æ˜¯ä¼šé™ä½å­¦ä¹ æ•ˆç‡</p>
<p>Baggingä½œä¸ºå¹¶è¡Œå¼çš„é›†æˆå­¦ä¹ æ–¹æ³•ï¼Œé€šè¿‡ç»¼åˆå¤šä¸ªåŸºå­¦ä¹ å™¨çš„ç»“æœï¼Œå¯ä»¥å¢åŠ å­¦ä¹ æ•ˆç‡</p>
<p>äºŒè€…å·®å¼‚æ€§ï¼š</p>
<p>1.å¯¹ç›®æ ‡çš„æ‹Ÿåˆç¨‹åº¦ï¼šBoostingå¯¹ç›®æ ‡æœ‰æ›´å¥½çš„æ‹Ÿåˆèƒ½åŠ›ï¼ˆåå·®å°ï¼‰ï¼›Baggingåˆ™åå·®ç›¸å¯¹å¤§ä¸€äº›</p>
<p>2.è¿è¡Œæ•ˆç‡ï¼šç”±äºå¹¶è¡Œçš„ç‰¹ç‚¹ï¼ŒBaggingçš„è¿è¡Œæ•ˆç‡æ˜¯å¤§äºBoostingçš„</p>
<p>3.æ³›åŒ–èƒ½åŠ›ï¼šç”±äºBaggingæ¯ä¸ªå­¦ä¹ å™¨ä¸ä¼šå—å…¶ä»–å­¦ä¹ å™¨çš„å½±å“ï¼Œæ³›åŒ–èƒ½åŠ›ï¼ˆæ–¹å·®å¤§ï¼‰ç›¸å¯¹äºBoosting</p>
<p>æ›´å¥½</p>
<h5 id="Baggingçš„ç®—æ³•æµç¨‹"><a href="#Baggingçš„ç®—æ³•æµç¨‹" class="headerlink" title="Baggingçš„ç®—æ³•æµç¨‹"></a>Baggingçš„ç®—æ³•æµç¨‹</h5><p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606182733022.png" alt="image-20250606182733022"></p>
<p>å¯ä»¥çœ‹å‡ºBaggingä¸»è¦é€šè¿‡<strong>æ ·æœ¬çš„æ‰°åŠ¨</strong>æ¥å¢åŠ åŸºå­¦ä¹ å™¨ä¹‹é—´çš„å¤šæ ·æ€§ï¼Œå› æ­¤Baggingçš„åŸºå­¦ä¹ å™¨åº”ä¸ºé‚£äº›å¯¹è®­ç»ƒé›†ååˆ†æ•æ„Ÿçš„ä¸ç¨³å®šå­¦ä¹ ç®—æ³•ï¼Œä¾‹å¦‚ï¼šç¥ç»ç½‘ç»œä¸å†³ç­–æ ‘ç­‰ã€‚</p>
<p>ä»åå·®-æ–¹å·®åˆ†è§£æ¥çœ‹ï¼ŒBaggingç®—æ³•ä¸»è¦å…³æ³¨äºé™ä½æ–¹å·®ï¼Œå³é€šè¿‡å¤šæ¬¡é‡å¤è®­ç»ƒæé«˜ç¨³å®šæ€§ã€‚</p>
<p>ä¸åŒäºAdaBoostçš„æ˜¯ï¼ŒBaggingå¯ä»¥ååˆ†ç®€å•åœ°ç§»æ¤åˆ°å¤šåˆ†ç±»ã€å›å½’ç­‰é—®é¢˜ã€‚æ€»çš„è¯´èµ·æ¥åˆ™æ˜¯ï¼š<strong>AdaBoostå…³æ³¨äºé™ä½åå·®ï¼Œè€ŒBaggingå…³æ³¨äºé™ä½æ–¹å·®ã€‚</strong></p>
<h5 id="è‡ªåŠ©é‡‡æ ·æ³•ï¼ˆBootstrap-Samplingï¼‰"><a href="#è‡ªåŠ©é‡‡æ ·æ³•ï¼ˆBootstrap-Samplingï¼‰" class="headerlink" title="è‡ªåŠ©é‡‡æ ·æ³•ï¼ˆBootstrap Samplingï¼‰"></a>è‡ªåŠ©é‡‡æ ·æ³•ï¼ˆBootstrap Samplingï¼‰</h5><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œ<strong>è‡ªåŠ©é‡‡æ ·æ³•ï¼ˆBootstrap Samplingï¼‰</strong> æ˜¯ Bagging ç®—æ³•çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ä»åŸå§‹æ•°æ®é›†ä¸­æœ‰æ”¾å›åœ°éšæœºæŠ½å–æ ·æœ¬ï¼Œå½¢æˆæ–°çš„è®­ç»ƒå­é›†ã€‚è¿™ä¸€è¿‡ç¨‹çš„ä¸€ä¸ªé‡è¦æ•°å­¦æ€§è´¨æ˜¯ï¼šå½“æ ·æœ¬é‡ $n$ è¶‹è¿‘äºæ— ç©·å¤§æ—¶ï¼Œæ¯ä¸ªæ ·æœ¬åœ¨ Bootstrap æ ·æœ¬é›†ä¸­<strong>æœªè¢«æŠ½ä¸­</strong>çš„æ¦‚ç‡è¶‹è¿‘äº $\frac{1}{e} \approx 36.6\%$ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š</p>
<p><strong>1. å…¬å¼æ¨å¯¼</strong></p>
<p>å‡è®¾æˆ‘ä»¬ä» $n$ ä¸ªæ ·æœ¬ä¸­<strong>æœ‰æ”¾å›åœ°</strong>æŠ½å– $n$ æ¬¡ï¼Œå½¢æˆä¸€ä¸ª Bootstrap æ ·æœ¬é›†ã€‚å¯¹äºä»»æ„ä¸€ä¸ªç‰¹å®šæ ·æœ¬ï¼ˆå¦‚ç¬¬ $i$ ä¸ªæ ·æœ¬ï¼‰ï¼Œå®ƒåœ¨æŸæ¬¡æŠ½æ ·ä¸­<strong>æœªè¢«é€‰ä¸­</strong>çš„æ¦‚ç‡ä¸ºï¼š</p>
<script type="math/tex; mode=display">
1 - \frac{1}{n}</script><p>å› æ­¤ï¼Œå®ƒåœ¨æ•´ä¸ª $n$ æ¬¡æŠ½æ ·ä¸­<strong>ä»æœªè¢«é€‰ä¸­</strong>çš„æ¦‚ç‡ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\left(1 - \frac{1}{n}\right)^n</script><p>å½“ $n \to \infty$ æ—¶ï¼Œè¯¥æ¦‚ç‡çš„æé™ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\lim_{n \to \infty} \left(1 - \frac{1}{n}\right)^n = \frac{1}{e} \approx 0.3679 \quad (\text{å³ } 36.6\%)</script><p>åœ¨æ¯æ¬¡ Bootstrap é‡‡æ ·ä¸­ï¼Œçº¦æœ‰ <strong>36.6% çš„æ ·æœ¬æœªè¢«é€‰ä¸­</strong> ï¼Œè¿™äº›æ ·æœ¬ç§°ä¸º <strong>Out-of-Bagï¼ˆOOBï¼ŒåŒ…å¤–ä¼°è®¡ï¼‰æ ·æœ¬</strong> ã€‚</p>
<p><strong>2. OOB æ ·æœ¬çš„åº”ç”¨</strong></p>
<p>åœ¨ Bagging ç®—æ³•ä¸­ï¼ŒOOB æ ·æœ¬å…·æœ‰ä»¥ä¸‹é‡è¦ä½œç”¨ï¼š</p>
<ol>
<li><strong>æ— åéªŒè¯</strong>ï¼š<br>æ¯ä¸ªåŸºå­¦ä¹ å™¨çš„è®­ç»ƒæ•°æ®ä¸åŒ…å«å…¶å¯¹åº”çš„ OOB æ ·æœ¬ï¼Œå› æ­¤å¯ä»¥ç”¨è¿™äº›æ ·æœ¬ç›´æ¥è¯„ä¼°æ¨¡å‹æ€§èƒ½ï¼ˆå³ OOB è¯¯å·®ï¼‰ï¼Œæ— éœ€é¢å¤–çš„äº¤å‰éªŒè¯ã€‚</li>
<li><strong>ç‰¹å¾é‡è¦æ€§è¯„ä¼°</strong>ï¼š<br>åœ¨éšæœºæ£®æ—ä¸­ï¼Œé€šè¿‡æ¯”è¾ƒ OOB æ ·æœ¬åœ¨æ‰“ä¹±æŸä¸ªç‰¹å¾åçš„é¢„æµ‹è¯¯å·®å˜åŒ–ï¼Œå¯ä»¥è¡¡é‡è¯¥ç‰¹å¾çš„é‡è¦æ€§ã€‚</li>
</ol>
<p><strong>3. ä¸å…¶ä»–é‡‡æ ·æ–¹æ³•çš„å¯¹æ¯”</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>é‡‡æ ·æ–¹æ³•</strong></th>
<th><strong>æ˜¯å¦æ”¾å›</strong></th>
<th><strong>æ ·æœ¬è¦†ç›–èŒƒå›´</strong></th>
<th><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Bootstrap é‡‡æ ·</strong></td>
<td>æ˜¯</td>
<td>çº¦ 63.4% æ ·æœ¬è¢«é‡å¤ä½¿ç”¨</td>
<td>Baggingã€éšæœºæ£®æ—</td>
</tr>
<tr>
<td><strong>ç®€å•éšæœºé‡‡æ ·</strong></td>
<td>å¦</td>
<td>æ‰€æœ‰æ ·æœ¬å”¯ä¸€å‡ºç°</td>
<td>ä¼ ç»Ÿäº¤å‰éªŒè¯</td>
</tr>
</tbody>
</table>
</div>
<h5 id="éšæœºæ£®æ—"><a href="#éšæœºæ£®æ—" class="headerlink" title="éšæœºæ£®æ—"></a>éšæœºæ£®æ—</h5><p>éšæœºæ£®æ—ï¼ˆRandom Forestï¼‰æ˜¯Baggingçš„ä¸€ä¸ªæ‹“å±•ä½“ï¼Œå®ƒçš„åŸºå­¦ä¹ å™¨å›ºå®šä¸º<strong>å†³ç­–æ ‘</strong>ï¼Œå¤šæ£µæ ‘ä¹Ÿå°±ç»„æˆäº†æ£®æ—ï¼Œè€Œ<strong>â€œéšæœºâ€åˆ™åœ¨äºé€‰æ‹©åˆ’åˆ†å±æ€§çš„éšæœº</strong>ï¼Œéšæœºæ£®æ—åœ¨è®­ç»ƒåŸºå­¦ä¹ å™¨æ—¶ï¼Œä¹Ÿé‡‡ç”¨æœ‰æ”¾å›é‡‡æ ·çš„æ–¹å¼æ·»åŠ æ ·æœ¬æ‰°åŠ¨ï¼ŒåŒæ—¶å®ƒè¿˜å¼•å…¥äº†ä¸€ç§<strong>å±æ€§æ‰°åŠ¨</strong>ï¼Œå³åœ¨åŸºå†³ç­–æ ‘çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œåœ¨é€‰æ‹©åˆ’åˆ†å±æ€§æ—¶ï¼ŒRFå…ˆä»å€™é€‰å±æ€§é›†ä¸­éšæœºæŒ‘é€‰å‡ºä¸€ä¸ªåŒ…å«Kä¸ªå±æ€§çš„å­é›†ï¼Œå†ä»è¿™ä¸ªå­é›†ä¸­é€‰æ‹©æœ€ä¼˜åˆ’åˆ†å±æ€§ ã€‚</p>
<p>è¿™æ ·éšæœºæ£®æ—ä¸­åŸºå­¦ä¹ å™¨çš„<strong>å¤šæ ·æ€§ä¸ä»…æ¥è‡ªæ ·æœ¬æ‰°åŠ¨ï¼Œè¿˜æ¥è‡ªå±æ€§æ‰°åŠ¨</strong>ï¼Œä»è€Œè¿›ä¸€æ­¥æå‡äº†åŸºå­¦ä¹ å™¨ä¹‹é—´çš„å·®å¼‚åº¦ã€‚ç›¸æ¯”å†³ç­–æ ‘çš„Baggingé›†æˆï¼Œéšæœºæ£®æ—çš„èµ·å§‹æ€§èƒ½è¾ƒå·®ï¼ˆç”±äºå±æ€§æ‰°åŠ¨ï¼ŒåŸºå†³ç­–æ ‘çš„å‡†ç¡®åº¦æœ‰æ‰€ä¸‹é™ï¼‰ï¼Œä½†éšç€åŸºå­¦ä¹ å™¨æ•°ç›®çš„å¢å¤šï¼Œéšæœºæ£®æ—å¾€å¾€ä¼šæ”¶æ•›åˆ°æ›´ä½çš„æ³›åŒ–è¯¯å·®ã€‚åŒæ—¶ä¸åŒäºBaggingä¸­å†³ç­–æ ‘ä»æ‰€æœ‰å±æ€§é›†ä¸­é€‰æ‹©æœ€ä¼˜åˆ’åˆ†å±æ€§ï¼Œ<strong>éšæœºæ£®æ—åªåœ¨å±æ€§é›†çš„ä¸€ä¸ªå­é›†ä¸­é€‰æ‹©åˆ’åˆ†å±æ€§ï¼Œå› æ­¤è®­ç»ƒæ•ˆç‡æ›´é«˜</strong>ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606184958951.png" alt="image-20250606184958951"></p>
<h4 id="ç»“åˆç­–ç•¥"><a href="#ç»“åˆç­–ç•¥" class="headerlink" title="ç»“åˆç­–ç•¥"></a>ç»“åˆç­–ç•¥</h4><p>åœ¨é›†æˆå­¦ä¹ ä¸­ï¼Œç»“åˆç­–ç•¥æ˜¯å°†å¤šä¸ªåŸºå­¦ä¹ å™¨çš„è¾“å‡ºæ•´åˆä¸ºæœ€ç»ˆé¢„æµ‹ç»“æœçš„å…³é”®æ­¥éª¤ã€‚ä»¥ä¸‹æ˜¯é’ˆå¯¹å›å½’å’Œåˆ†ç±»é—®é¢˜çš„ä¸åŒç»“åˆç­–ç•¥åŠå…¶æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<p><strong>å®šä¹‰</strong>ï¼šåœ¨è®­ç»ƒå¥½å¤šä¸ªåŸºå­¦ä¹ å™¨åï¼Œå¦‚ä½•å°†å…¶è¾“å‡ºç»„åˆæˆé›†æˆæ¨¡å‹çš„æœ€ç»ˆè¾“å‡ºã€‚</p>
<h5 id="1-å¹³å‡æ³•ï¼ˆå›å½’é—®é¢˜ï¼‰"><a href="#1-å¹³å‡æ³•ï¼ˆå›å½’é—®é¢˜ï¼‰" class="headerlink" title="1.å¹³å‡æ³•ï¼ˆå›å½’é—®é¢˜ï¼‰"></a><strong>1.å¹³å‡æ³•ï¼ˆå›å½’é—®é¢˜ï¼‰</strong></h5><ol>
<li><p><strong>ç®€å•å¹³å‡æ³•ï¼ˆSimple Averagingï¼‰</strong>  </p>
<ul>
<li><strong>å…¬å¼</strong>ï¼š  <script type="math/tex; mode=display">
H(x) = \frac{1}{T} \sum_{i=1}^{T} h_i(x)</script></li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š  <ul>
<li>ç›´æ¥å¯¹æ‰€æœ‰åŸºå­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœå–ç®—æœ¯å¹³å‡ã€‚  </li>
<li>è®¡ç®—ç®€å•ï¼Œé€‚åˆåŸºå­¦ä¹ å™¨æ€§èƒ½ç›¸è¿‘çš„åœºæ™¯ã€‚  </li>
<li>è‹¥éƒ¨åˆ†åŸºå­¦ä¹ å™¨è¡¨ç°è¾ƒå·®ï¼Œå¯èƒ½æ‹–ç´¯æ•´ä½“æ€§èƒ½ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>åŠ æƒå¹³å‡æ³•ï¼ˆWeighted Averagingï¼‰</strong>  </p>
<ul>
<li><strong>å…¬å¼</strong>ï¼š  <script type="math/tex; mode=display">
H(x) = \sum_{i=1}^{T} w_i h_i(x)</script>å…¶ä¸­ï¼Œ$ w<em>i \geq 0 $ ä¸” $ \sum</em>{i=1}^{T} w_i = 1 $ã€‚  </li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š  <ul>
<li>é€šè¿‡æƒé‡ $ w_i $ è°ƒèŠ‚å„åŸºå­¦ä¹ å™¨çš„è´¡çŒ®ï¼Œçµæ´»æ€§æ›´é«˜ã€‚  </li>
<li>é€‚ç”¨äºåŸºå­¦ä¹ å™¨æ€§èƒ½å·®å¼‚è¾ƒå¤§çš„æƒ…å†µï¼Œå¯æå‡é²æ£’æ€§ã€‚  </li>
<li>æƒé‡å¯é€šè¿‡éªŒè¯é›†æ€§èƒ½ï¼ˆå¦‚RMSEã€MAEï¼‰æˆ–ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚æ¢¯åº¦ä¸‹é™ï¼‰ç¡®å®šã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h5 id="2-æŠ•ç¥¨æ³•ï¼ˆåˆ†ç±»é—®é¢˜ï¼‰"><a href="#2-æŠ•ç¥¨æ³•ï¼ˆåˆ†ç±»é—®é¢˜ï¼‰" class="headerlink" title="2.æŠ•ç¥¨æ³•ï¼ˆåˆ†ç±»é—®é¢˜ï¼‰"></a><strong>2.æŠ•ç¥¨æ³•ï¼ˆåˆ†ç±»é—®é¢˜ï¼‰</strong></h5><ol>
<li><p><strong>ç®€å•æŠ•ç¥¨æ³•ï¼ˆMajority Votingï¼‰</strong>  </p>
<ul>
<li><strong>åŸç†</strong>ï¼š<br>æ¯ä¸ªåŸºå­¦ä¹ å™¨å¯¹æ ·æœ¬è¿›è¡Œåˆ†ç±»æŠ•ç¥¨ï¼Œæœ€ç»ˆç»“æœç”±å¾—ç¥¨æœ€å¤šçš„ç±»åˆ«å†³å®šã€‚  </li>
<li><strong>å…¬å¼</strong>ï¼ˆäºŒåˆ†ç±»ç¤ºä¾‹ï¼‰ï¼š  <script type="math/tex; mode=display">
H(x) = 
\begin{cases} 
1 & \text{è‹¥} \sum_{i=1}^{T} I(h_i(x) = 1) > T/2 \\
0 & \text{å¦åˆ™}
\end{cases}</script>å…¶ä¸­ï¼Œ$ I(\cdot) $ ä¸ºæŒ‡ç¤ºå‡½æ•°ã€‚  </li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š  <ul>
<li>ç®€å•é«˜æ•ˆï¼Œé€‚åˆåŸºå­¦ä¹ å™¨æ€§èƒ½ç›¸è¿‘çš„åœºæ™¯ã€‚  </li>
<li>å¯¹å¼‚å¸¸åˆ†ç±»å™¨çš„é²æ£’æ€§è¾ƒå¼±ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>åŠ æƒæŠ•ç¥¨æ³•ï¼ˆWeighted Votingï¼‰</strong>  </p>
<ul>
<li><strong>åŸç†</strong>ï¼š<br>ç»™ä¸åŒåŸºå­¦ä¹ å™¨åˆ†é…æƒé‡ï¼Œæœ€ç»ˆç»“æœç”±åŠ æƒç¥¨æ•°æœ€é«˜çš„ç±»åˆ«å†³å®šã€‚  </li>
<li><strong>å…¬å¼</strong>ï¼ˆäºŒåˆ†ç±»ç¤ºä¾‹ï¼‰ï¼š  <script type="math/tex; mode=display">
H(x) = 
\begin{cases} 
1 & \text{è‹¥} \sum_{i=1}^{T} w_i I(h_i(x) = 1) > 0.5 \sum_{i=1}^{T} w_i \\
0 & \text{å¦åˆ™}
\end{cases}</script></li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š  <ul>
<li>æƒé‡å¯æ ¹æ®åŸºå­¦ä¹ å™¨çš„éªŒè¯é›†å‡†ç¡®ç‡æˆ–é¢†åŸŸçŸ¥è¯†è®¾å®šã€‚  </li>
<li>æ›´é€‚åˆå¤„ç†æ€§èƒ½å·®å¼‚è¾ƒå¤§çš„åŸºå­¦ä¹ å™¨ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>ç»å¯¹å¤šæ•°æŠ•ç¥¨æ³•ï¼ˆmajority votingï¼‰æä¾›äº†æ‹’ç»é€‰é¡¹ï¼Œè¿™åœ¨å¯é æ€§è¦æ±‚å¾ˆé«˜çš„å­¦ä¹ ä»»åŠ¡ä¸­æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æœºåˆ¶ã€‚åŒæ—¶ï¼Œå¯¹äºåˆ†ç±»ä»»åŠ¡ï¼Œå„ä¸ªåŸºå­¦ä¹ å™¨çš„è¾“å‡ºå€¼æœ‰ä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«ä¸ºç±»æ ‡è®°å’Œç±»æ¦‚ç‡ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250606195241433.png" alt="image-20250606195241433"></p>
<p>ä¸€äº›åœ¨äº§ç”Ÿç±»åˆ«æ ‡è®°çš„åŒæ—¶ä¹Ÿç”Ÿæˆç½®ä¿¡åº¦çš„å­¦ä¹ å™¨ï¼Œç½®ä¿¡åº¦å¯è½¬åŒ–ä¸ºç±»æ¦‚ç‡ä½¿ç”¨ï¼Œ<strong>ä¸€èˆ¬åŸºäºç±»æ¦‚ç‡è¿›è¡Œç»“åˆå¾€å¾€æ¯”åŸºäºç±»æ ‡è®°è¿›è¡Œç»“åˆçš„æ•ˆæœæ›´å¥½</strong>ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¯¹äºå¼‚è´¨é›†æˆï¼Œå…¶ç±»æ¦‚ç‡ä¸èƒ½ç›´æ¥è¿›è¡Œæ¯”è¾ƒï¼Œæ­¤æ—¶éœ€è¦å°†ç±»æ¦‚ç‡è½¬åŒ–ä¸ºç±»æ ‡è®°è¾“å‡ºï¼Œç„¶åå†æŠ•ç¥¨ã€‚</p>
<h5 id="3-å­¦ä¹ æ³•ï¼ˆStackingï¼‰"><a href="#3-å­¦ä¹ æ³•ï¼ˆStackingï¼‰" class="headerlink" title="3.å­¦ä¹ æ³•ï¼ˆStackingï¼‰"></a><strong>3.å­¦ä¹ æ³•ï¼ˆStackingï¼‰</strong></h5><p><strong>å­¦ä¹ æ³•</strong>æ˜¯ä¸€ç§æ›´é«˜çº§çš„ç»“åˆç­–ç•¥ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡è®­ç»ƒä¸€ä¸ª<strong>æ¬¡çº§å­¦ä¹ å™¨ï¼ˆMeta-Learnerï¼‰</strong> æ¥åŠ¨æ€èåˆå¤šä¸ªåŸºå­¦ä¹ å™¨çš„è¾“å‡ºã€‚å…¶ä¸­ï¼Œ<strong>Stackingï¼ˆå †å æ³›åŒ–ï¼‰</strong> æ˜¯å­¦ä¹ æ³•çš„å…¸å‹ä»£è¡¨ï¼Œå®ƒé€šè¿‡å°†åŸºå­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœä½œä¸ºæ–°ç‰¹å¾ï¼Œè¿›ä¸€æ­¥è®­ç»ƒä¸€ä¸ªæ¬¡çº§æ¨¡å‹ï¼Œæœ€ç»ˆå®ç°æ›´ä¼˜çš„æ³›åŒ–æ€§èƒ½ã€‚</p>
<p><strong>Stacking çš„åŸºæœ¬åŸç†</strong></p>
<p><strong>æ­¥éª¤æ¦‚è¿°</strong>ï¼š  </p>
<ul>
<li><strong>è®­ç»ƒåŸºå­¦ä¹ å™¨</strong>ï¼šä½¿ç”¨åŸå§‹æ•°æ®è®­ç»ƒ $ T $ ä¸ªåŸºå­¦ä¹ å™¨ï¼ˆå¦‚å†³ç­–æ ‘ã€SVMã€ç¥ç»ç½‘ç»œç­‰ï¼‰ã€‚  </li>
<li><strong>ç”Ÿæˆæ–°ç‰¹å¾</strong>ï¼šå¯¹äºæ¯ä¸ªæ ·æœ¬ï¼Œå°† $ T $ ä¸ªåŸºå­¦ä¹ å™¨çš„è¾“å‡ºï¼ˆé¢„æµ‹ç»“æœï¼‰ä½œä¸ºè¯¥æ ·æœ¬çš„æ–°ç‰¹å¾ï¼Œå½¢æˆä¸€ä¸ª $ m \times T $ çš„æ•°æ®é›†ï¼ˆ$ m $ ä¸ºæ ·æœ¬æ•°é‡ï¼‰ã€‚  </li>
<li><strong>è®­ç»ƒæ¬¡çº§å­¦ä¹ å™¨</strong>ï¼šä½¿ç”¨æ–°æ•°æ®é›†ï¼ˆåŸºå­¦ä¹ å™¨è¾“å‡º + çœŸå®æ ‡ç­¾ï¼‰è®­ç»ƒä¸€ä¸ªæ¬¡çº§å­¦ä¹ å™¨ï¼ˆå¦‚é€»è¾‘å›å½’ã€æ¢¯åº¦æå‡æ ‘ç­‰ï¼‰ï¼Œè¯¥å­¦ä¹ å™¨è´Ÿè´£èåˆåŸºå­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœã€‚  </li>
</ul>
<p><strong>Stacking çš„ä¼˜åŠ¿</strong></p>
<ol>
<li><strong>åŠ¨æ€æƒé‡åˆ†é…</strong>ï¼š<br>æ¬¡çº§å­¦ä¹ å™¨å¯ä»¥è‡ªåŠ¨å­¦ä¹ åŸºå­¦ä¹ å™¨çš„æƒé‡ï¼Œæ— éœ€äººå·¥è®¾å®šã€‚ä¾‹å¦‚ï¼Œè‹¥æŸä¸ªåŸºå­¦ä¹ å™¨è¡¨ç°ä¼˜å¼‚ï¼Œæ¬¡çº§å­¦ä¹ å™¨ä¼šèµ‹äºˆå…¶æ›´é«˜çš„æƒé‡ã€‚  </li>
<li><strong>å¼‚è´¨æ¨¡å‹èåˆ</strong>ï¼š<br>å¯ä»¥æ··åˆä¸åŒç±»å‹çš„åŸºå­¦ä¹ å™¨ï¼ˆå¦‚çº¿æ€§æ¨¡å‹ä¸æ ‘æ¨¡å‹ï¼‰ï¼Œå……åˆ†åˆ©ç”¨å„è‡ªçš„ç‰¹æ€§ã€‚  </li>
<li><strong>æå‡æ³›åŒ–èƒ½åŠ›</strong>ï¼š<br>æ¬¡çº§å­¦ä¹ å™¨é€šè¿‡å­¦ä¹ åŸºå­¦ä¹ å™¨çš„è¾“å‡ºæ¨¡å¼ï¼Œèƒ½å¤Ÿæ•æ‰æ›´å¤æ‚çš„å†³ç­–è¾¹ç•Œã€‚</li>
</ol>
<p><strong>Stacking çš„å®ç°ç»†èŠ‚</strong></p>
<ol>
<li><p><strong>æ•°æ®åˆ’åˆ†</strong>ï¼š  </p>
<ul>
<li>é€šå¸¸éœ€å°†åŸå§‹æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š  <ul>
<li><strong>è®­ç»ƒé›†</strong>ï¼šç”¨äºè®­ç»ƒåŸºå­¦ä¹ å™¨ã€‚  </li>
<li><strong>éªŒè¯é›†</strong>ï¼šç”¨äºç”ŸæˆåŸºå­¦ä¹ å™¨çš„è¾“å‡ºï¼ˆé¿å…è¿‡æ‹Ÿåˆï¼‰ã€‚  </li>
</ul>
</li>
<li>æˆ–é‡‡ç”¨äº¤å‰éªŒè¯ï¼ˆå¦‚ $ k $-æŠ˜ï¼‰ç”ŸæˆåŸºå­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœï¼Œç¡®ä¿æ¬¡çº§å­¦ä¹ å™¨çš„è®­ç»ƒæ•°æ®ä¸è¢«æ±¡æŸ“ã€‚</li>
</ul>
</li>
<li><p><strong>åŸºå­¦ä¹ å™¨è¾“å‡ºç±»å‹</strong>ï¼š  </p>
<ul>
<li><strong>åˆ†ç±»ä»»åŠ¡</strong>ï¼šåŸºå­¦ä¹ å™¨è¾“å‡ºç±»æ¦‚ç‡ï¼ˆSoft Votingï¼‰ï¼Œè€Œéç±»åˆ«æ ‡ç­¾ï¼ˆHard Votingï¼‰ã€‚ä¾‹å¦‚ï¼Œé€»è¾‘å›å½’è¾“å‡º $ P(c_j | x) $ï¼Œéšæœºæ£®æ—è¾“å‡ºèŠ‚ç‚¹æ ·æœ¬çš„ç±»åˆ«åˆ†å¸ƒã€‚  </li>
<li><strong>å›å½’ä»»åŠ¡</strong>ï¼šåŸºå­¦ä¹ å™¨ç›´æ¥è¾“å‡ºé¢„æµ‹å€¼ï¼ˆå¦‚çº¿æ€§å›å½’çš„ $\hat{y}$ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>æ¬¡çº§å­¦ä¹ å™¨é€‰æ‹©</strong>ï¼š  </p>
<ul>
<li><strong>å¤šå“åº”çº¿æ€§å›å½’ï¼ˆMLRï¼‰</strong>ï¼šé€‚ç”¨äºåŸºå­¦ä¹ å™¨è¾“å‡ºå¯åŠ æƒå¹³å‡çš„æƒ…å†µï¼Œè®¡ç®—ç®€å•ä¸”é²æ£’ã€‚  <script type="math/tex; mode=display">
H(x) = \sum_{i=1}^{T} w_i h_i(x)</script></li>
<li><strong>å¤æ‚æ¨¡å‹</strong>ï¼šå¦‚æ¢¯åº¦æå‡æ ‘ã€ç¥ç»ç½‘ç»œï¼Œå¯æ•æ‰åŸºå­¦ä¹ å™¨è¾“å‡ºä¹‹é—´çš„éçº¿æ€§å…³ç³»ã€‚  </li>
</ul>
</li>
</ol>
<h4 id="å¤šæ ·æ€§"><a href="#å¤šæ ·æ€§" class="headerlink" title="å¤šæ ·æ€§"></a>å¤šæ ·æ€§</h4><p>åœ¨é›†æˆå­¦ä¹ ä¸­ï¼Œ<strong>å¤šæ ·æ€§å¢å¼ºï¼ˆDiversity Enhancementï¼‰</strong> æ˜¯æå‡æ¨¡å‹æ€§èƒ½çš„å…³é”®ç­–ç•¥ã€‚é€šè¿‡å¼•å…¥å¤šæ ·æ€§ï¼Œå¯ä»¥é™ä½åŸºå­¦ä¹ å™¨ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œä»è€Œå‡å°‘è¯¯å·®ä¼ é€’å’Œè¿‡æ‹Ÿåˆé£é™©ã€‚ä»¥ä¸‹æ˜¯å››ç§å¸¸è§çš„å¤šæ ·æ€§å¢å¼ºæ–¹æ³•åŠå…¶æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<p><strong>1. æ•°æ®æ ·æœ¬æ‰°åŠ¨ï¼ˆData Perturbationï¼‰</strong></p>
<p><strong>åŸç†</strong>ï¼šé€šè¿‡ä¿®æ”¹è®­ç»ƒæ•°æ®çš„åˆ†å¸ƒæˆ–é‡‡æ ·æ–¹å¼ï¼Œä½¿æ¯ä¸ªåŸºå­¦ä¹ å™¨çœ‹åˆ°ä¸åŒçš„æ•°æ®å­é›†ã€‚  </p>
<p><strong>å®ç°æ–¹å¼</strong>ï¼š  </p>
<ul>
<li><strong>Baggingï¼ˆå¦‚éšæœºæ£®æ—ï¼‰</strong>ï¼š  <ul>
<li>éšæœºæœ‰æ”¾å›åœ°é‡‡æ ·ï¼ˆBootstrapï¼‰ï¼Œç”Ÿæˆå¤šä¸ªä¸åŒçš„è®­ç»ƒé›†ã€‚  </li>
<li>å¯¹è¾“å…¥æ‰°åŠ¨æ•æ„Ÿçš„åŸºå­¦ä¹ å™¨ï¼ˆå¦‚å†³ç­–æ ‘ã€ç¥ç»ç½‘ç»œï¼‰æ•ˆæœæ˜¾è‘—ã€‚  </li>
</ul>
</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š  <ul>
<li>å†³ç­–æ ‘å¯¹æ•°æ®æ‰°åŠ¨æ•æ„Ÿï¼ŒBagging å¯æœ‰æ•ˆæå‡å…¶æ³›åŒ–èƒ½åŠ›ã€‚  </li>
<li>çº¿æ€§æ¨¡å‹ï¼ˆå¦‚çº¿æ€§å›å½’ã€SVMï¼‰å¯¹æ•°æ®æ‰°åŠ¨ä¸æ•æ„Ÿï¼ŒBagging æ•ˆæœæœ‰é™ã€‚  </li>
</ul>
</li>
</ul>
<p><strong>2. è¾“å…¥å±æ€§æ‰°åŠ¨ï¼ˆInput Attribute Perturbationï¼‰</strong></p>
<p><strong>åŸç†</strong>ï¼šé€šè¿‡æ”¹å˜è¾“å…¥ç‰¹å¾çš„è¡¨ç¤ºæˆ–é€‰æ‹©ï¼Œå¢åŠ åŸºå­¦ä¹ å™¨é—´çš„å·®å¼‚ã€‚  </p>
<p><strong>å®ç°æ–¹å¼</strong>ï¼š  </p>
<ul>
<li><strong>ç‰¹å¾å­é›†é‡‡æ ·</strong>ï¼šæ¯æ¬¡éšæœºé€‰æ‹©éƒ¨åˆ†ç‰¹å¾è¿›è¡Œè®­ç»ƒï¼ˆå¦‚éšæœºæ£®æ—ä¸­çš„åˆ—æ‰°åŠ¨ï¼‰ã€‚  </li>
<li><strong>ç‰¹å¾å˜æ¢</strong>ï¼šå¯¹ç‰¹å¾è¿›è¡Œç¼©æ”¾ã€æ—‹è½¬æˆ–åŠ å™ªå£°ç­‰æ“ä½œã€‚  </li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š  <ul>
<li>æ•°æ®åŒ…å«å¤§é‡å†—ä½™å±æ€§æ—¶ï¼Œå¯å¤§å¹…åŠ é€Ÿè®­ç»ƒå¹¶æå‡å¤šæ ·æ€§ã€‚  </li>
<li>å¯¹é«˜ç»´æ•°æ®ï¼ˆå¦‚å›¾åƒã€æ–‡æœ¬ï¼‰å°¤å…¶æœ‰æ•ˆã€‚  </li>
</ul>
</li>
</ul>
<p><strong>3. è¾“å‡ºå±æ€§æ‰°åŠ¨ï¼ˆOutput Attribute Perturbationï¼‰</strong></p>
<p><strong>åŸç†</strong>ï¼šé€šè¿‡ä¿®æ”¹è®­ç»ƒæ ·æœ¬çš„æ ‡ç­¾ï¼Œé—´æ¥å½±å“åŸºå­¦ä¹ å™¨çš„å­¦ä¹ è¿‡ç¨‹ã€‚  </p>
<p><strong>å®ç°æ–¹å¼</strong>ï¼š  </p>
<ul>
<li><strong>éšæœºç¿»è½¬æ ‡ç­¾</strong>ï¼šå¯¹éƒ¨åˆ†æ ·æœ¬çš„æ ‡è®°è¿›è¡Œéšæœºæ›´æ”¹ï¼ˆéœ€è°¨æ…ä½¿ç”¨ï¼Œé¿å…å¹²æ‰°æ¨¡å‹ï¼‰ã€‚  </li>
<li><strong>Dropoutï¼ˆç¥ç»ç½‘ç»œï¼‰</strong>ï¼š  <ul>
<li>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éšæœºâ€œå…³é—­â€éƒ¨åˆ†ç¥ç»å…ƒï¼Œå¼ºåˆ¶ç½‘ç»œå­¦ä¹ æ›´é²æ£’çš„ç‰¹å¾ã€‚  </li>
<li>ç±»ä¼¼äºå¯¹è¾“å‡ºå±æ€§çš„éšæœºæ‰°åŠ¨ï¼Œå¯æå‡æ¨¡å‹æ³›åŒ–èƒ½åŠ›ã€‚  </li>
</ul>
</li>
</ul>
<p><strong>4. ç®—æ³•å‚æ•°æ‰°åŠ¨ï¼ˆAlgorithm Parameter Perturbationï¼‰</strong></p>
<p><strong>åŸç†</strong>ï¼šé€šè¿‡è°ƒæ•´åŸºå­¦ä¹ å™¨çš„è¶…å‚æ•°ï¼Œç”Ÿæˆä¸åŒçš„æ¨¡å‹è¡Œä¸ºã€‚  </p>
<p><strong>å®ç°æ–¹å¼</strong>ï¼š  </p>
<ul>
<li><strong>æ­£åˆ™åŒ–æ–¹æ³•</strong>ï¼šL1/L2 æ­£åˆ™åŒ–ï¼ˆå¦‚ Ridgeã€Lassoï¼‰é™åˆ¶æ¨¡å‹å¤æ‚åº¦ï¼Œé™ä½è¿‡æ‹Ÿåˆé£é™©ã€‚ </li>
<li><strong>éšæœºåˆå§‹åŒ–</strong>ï¼š  ç¥ç»ç½‘ç»œçš„éšæœºæƒé‡åˆå§‹åŒ–å¯èƒ½å¯¼è‡´æ”¶æ•›åˆ°ä¸åŒå±€éƒ¨æœ€ä¼˜è§£ã€‚  </li>
</ul>
<h4 id="ä½œä¸š-1"><a href="#ä½œä¸š-1" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h4><h5 id="1-1"><a href="#1-1" class="headerlink" title="1"></a>1</h5><p>é›†æˆå­¦ä¹ ä¸­å¸¸è§çš„ä¸¤ç§æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿè¯·åˆ†åˆ«ä»‹ç»å®ƒä»¬çš„åŸç†å’Œç‰¹ç‚¹ã€‚é›†æˆå­¦ä¹ ç›¸æ¯”äºå•ä¸ªæ¨¡å‹æœ‰ä»€ä¹ˆä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ï¼Ÿ</p>
<p><strong>é›†æˆå­¦ä¹ å¸¸è§æ–¹æ³•ã€åŸç†ã€ç‰¹ç‚¹åŠä¼˜åŠ¿</strong></p>
<p><strong>å¸¸è§æ–¹æ³•</strong>ï¼šBagging å’Œ Boosting<br><strong>åŸç†ä¸ç‰¹ç‚¹</strong>ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>åŸç†</strong></th>
<th><strong>ç‰¹ç‚¹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Bagging</strong></td>
<td>1. <strong>è‡ªåŠ©é‡‡æ ·</strong>ï¼šä»è®­ç»ƒé›†æœ‰æ”¾å›æŠ½å–å¤šä¸ªå­é›†<br>2. <strong>å¹¶è¡Œè®­ç»ƒ</strong>åŸºæ¨¡å‹<br>3. <strong>èšåˆé¢„æµ‹</strong>ï¼ˆæŠ•ç¥¨/å¹³å‡ï¼‰</td>
<td>- é™ä½æ–¹å·®<br>- é€‚åˆé«˜æ–¹å·®æ¨¡å‹ï¼ˆå¦‚æœªå‰ªæå†³ç­–æ ‘ï¼‰<br>- å¹¶è¡ŒåŒ–ï¼Œè®­ç»ƒå¿«<br>- ä»£è¡¨ï¼šéšæœºæ£®æ—</td>
</tr>
<tr>
<td><strong>Boosting</strong></td>
<td>1. <strong>é¡ºåºè®­ç»ƒ</strong>ï¼šåä¸€ä¸ªæ¨¡å‹ä¿®æ­£å‰ä¸€ä¸ªæ¨¡å‹çš„é”™è¯¯<br>2. <strong>åŠ æƒå›°éš¾æ ·æœ¬</strong><br>3. <strong>åŠ æƒç»„åˆ</strong>æ¨¡å‹</td>
<td>- é™ä½åå·®<br>- éœ€å¼±å­¦ä¹ å™¨ï¼ˆå¦‚æ ‘æ¡©ï¼‰<br>- æ˜“è¿‡æ‹Ÿåˆï¼ˆéœ€æ­£åˆ™åŒ–ï¼‰<br>- ä»£è¡¨ï¼šAdaBoost, GBDT, XGBoost</td>
</tr>
</tbody>
</table>
</div>
<p><strong>é›†æˆå­¦ä¹ çš„ä¼˜åŠ¿</strong>ï¼š  </p>
<ul>
<li><strong>æå‡æ³›åŒ–èƒ½åŠ›</strong>ï¼šé™ä½è¿‡æ‹Ÿåˆï¼ˆBaggingï¼‰æˆ–æ¬ æ‹Ÿåˆï¼ˆBoostingï¼‰é£é™©  </li>
<li><strong>å¢å¼ºé²æ£’æ€§</strong>ï¼šå‡å°‘å¼‚å¸¸å€¼/å™ªå£°å½±å“ï¼ˆå¦‚æŠ•ç¥¨æœºåˆ¶ï¼‰  </li>
<li><strong>çªç ´æ€§èƒ½ä¸Šé™</strong>ï¼šç»„åˆå¤šä¸ªå¼±æ¨¡å‹è¾¾åˆ°å¼ºæ¨¡å‹æ•ˆæœ  </li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š  </p>
<ul>
<li><strong>åˆ†ç±»ä»»åŠ¡</strong>ï¼šåŒ»ç–—è¯Šæ–­ï¼ˆæ•´åˆå¤šæ¨¡å‹å‡å°‘è¯¯è¯Šï¼‰  </li>
<li><strong>å›å½’ä»»åŠ¡</strong>ï¼šæˆ¿ä»·é¢„æµ‹ï¼ˆèåˆä¸åŒæ ‘æ¨¡å‹æå‡ç²¾åº¦ï¼‰  </li>
<li><strong>ä¸å¹³è¡¡æ•°æ®</strong>ï¼šBoosting åŠ æƒå°‘æ•°ç±»æ ·æœ¬  </li>
<li><strong>é«˜ç»´æ•°æ®</strong>ï¼šéšæœºæ£®æ—è‡ªåŠ¨ç‰¹å¾é€‰æ‹©  </li>
</ul>
<h5 id="2-1"><a href="#2-1" class="headerlink" title="2"></a>2</h5><p>å¦‚æœåœ¨å®Œå…¨ç›¸åŒçš„è®­ç»ƒé›†ä¸Šè®­ç»ƒäº†äº”ä¸ªä¸åŒçš„æ¨¡å‹ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½è¾¾åˆ°äº†95%çš„å‡†ç¡®ç‡ï¼Œæ˜¯å¦è¿˜æœ‰æœºä¼šé€šè¿‡ç»“åˆè¿™äº›æ¨¡å‹æ¥è·å¾—æ›´å¥½çš„ç»“æœï¼Ÿå¦‚æœå¯ä»¥ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿå¦‚æœä¸è¡Œï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p>
<p><strong>æ¨¡å‹ç»“åˆæå‡æ€§èƒ½çš„å¯èƒ½æ€§ä¸æ–¹æ³•</strong></p>
<p><strong>æ˜¯å¦å¯èƒ½æå‡</strong>ï¼š<strong>æ˜¯</strong>ï¼Œä½†éœ€æ»¡è¶³æ¡ä»¶ï¼š<strong>æ¨¡å‹é”™è¯¯ä¸ç›¸å…³</strong>ï¼ˆå³çŠ¯é”™æ ·æœ¬ä¸åŒï¼‰ã€‚  </p>
<p><strong>å¦‚ä½•å®ç°</strong>ï¼š  </p>
<ol>
<li><strong>æŠ•ç¥¨æ³•ï¼ˆåˆ†ç±»ï¼‰</strong>ï¼š  <ul>
<li>å¤šæ•°æŠ•ç¥¨ï¼š5ä¸ªæ¨¡å‹å¯¹æ ·æœ¬ (x) çš„é¢„æµ‹ä¸º ([A, A, B, A, C]) â†’ æœ€ç»ˆè¾“å‡º (A)  </li>
<li><strong>å…³é”®è¦æ±‚</strong>ï¼šæ¨¡å‹å­˜åœ¨<strong>å¤šæ ·æ€§</strong>ï¼ˆå¦‚ä½¿ç”¨SVMã€å†³ç­–æ ‘ç­‰ä¸åŒç®—æ³•ï¼‰  </li>
</ul>
</li>
<li><strong>åŠ æƒå¹³å‡ï¼ˆå›å½’ï¼‰</strong>ï¼š  <ul>
<li>è‹¥æ¨¡å‹ç²¾åº¦ä¸åŒï¼Œåˆ†é…æƒé‡ï¼š$ y_{\text{final}} = w_1 y_1 + w_2 y_2 + \dots + w_5 y_5$</li>
<li>æƒé‡å¯é€šè¿‡éªŒè¯é›†æ€§èƒ½ç¡®å®š  </li>
</ul>
</li>
</ol>
<p><strong>è‹¥æ— æ³•æå‡çš„æƒ…å†µ</strong>ï¼š  </p>
<ul>
<li><strong>åŸå› </strong>ï¼šæ¨¡å‹é«˜åº¦ç›¸å…³ï¼ˆå¦‚ç›¸åŒç®—æ³•ã€ç›¸åŒç‰¹å¾ã€ç›¸åŒè¶…å‚ï¼‰  </li>
<li><strong>æ•°å­¦è§£é‡Š</strong>ï¼šè¯¯å·®ç›¸å…³æ€§ $rho \approx 1$ æ—¶ï¼Œé›†æˆè¯¯å·® $\approx$å•ä¸€æ¨¡å‹è¯¯å·®  </li>
</ul>
<h5 id="3-1"><a href="#3-1" class="headerlink" title="3"></a>3</h5><p>æ˜¯å¦å¯ä»¥é€šè¿‡åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šå¹¶è¡Œæ¥åŠ é€Ÿéšæœºæ£®æ—çš„è®­ç»ƒï¼ŸAdaBoosté›†æˆå‘¢ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>ç®—æ³•</strong></th>
<th><strong>æ˜¯å¦æ”¯æŒå¹¶è¡Œ</strong></th>
<th><strong>åŸå› </strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>éšæœºæ£®æ—</strong></td>
<td>âœ… <strong>æ˜¯</strong></td>
<td>1. æ ‘ä¹‹é—´ç‹¬ç«‹è®­ç»ƒ<br>2. å¯åˆ†å¸ƒå¼åˆ†é…Bootstrapæ ·æœ¬åˆ°ä¸åŒæœåŠ¡å™¨<br>3. ç‰¹å¾åˆ†è£‚ä¹Ÿå¯å¹¶è¡Œï¼ˆå¦‚é€‰ç‰¹å¾å­é›†ï¼‰</td>
</tr>
<tr>
<td><strong>AdaBoost</strong></td>
<td>âŒ <strong>å¦</strong></td>
<td>1. æ¨¡å‹å¿…é¡»<strong>é¡ºåºè®­ç»ƒ</strong>ï¼šåä¸€ä¸ªæ¨¡å‹ä¾èµ–å‰ä¸€ä¸ªæ¨¡å‹çš„æ ·æœ¬æƒé‡æ›´æ–°<br>2. æ— æ³•è§£è€¦è¿­ä»£è¿‡ç¨‹</td>
</tr>
</tbody>
</table>
</div>
<h3 id="èšç±»"><a href="#èšç±»" class="headerlink" title="èšç±»"></a>èšç±»</h3><h4 id="èšç±»ä»»åŠ¡"><a href="#èšç±»ä»»åŠ¡" class="headerlink" title="èšç±»ä»»åŠ¡"></a><strong>èšç±»ä»»åŠ¡</strong></h4><blockquote>
<p>æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„åˆ†ç±»/å›å½’ä»»åŠ¡éƒ½å±äº æœ‰ç›‘ç£å­¦ä¹  éœ€è¦æˆ‘ä»¬æä¾›æ ·æœ¬ä¸æ ‡ç­¾</p>
<p>è€Œé©¬ä¸Šè¦å­¦ä¹ çš„èšç±»ä»»åŠ¡å’Œåç»­å­¦ä¹ çš„é™ç»´åˆ™å±äº æ— ç›‘ç£å­¦ä¹  ä»…éœ€æä¾›æ ·æœ¬</p>
</blockquote>
<p>èšç±»æ˜¯ä¸€ç§ç»å…¸çš„<strong>æ— ç›‘ç£å­¦ä¹ </strong>(unsupervised learning)æ–¹æ³•ï¼Œ<strong>æ— ç›‘ç£å­¦ä¹ çš„ç›®æ ‡æ˜¯é€šè¿‡å¯¹æ— æ ‡è®°è®­ç»ƒæ ·æœ¬çš„å­¦ä¹ ï¼Œå‘æ˜å’Œæ­ç¤ºæ•°æ®é›†æœ¬èº«æ½œåœ¨çš„ç»“æ„ä¸è§„å¾‹</strong>ï¼Œå³ä¸ä¾èµ–äºè®­ç»ƒæ•°æ®é›†çš„ç±»æ ‡è®°ä¿¡æ¯ã€‚</p>
<p>èšç±»è¯•å›¾å°†æ•°æ®é›†ä¸­çš„æ ·æœ¬åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªé€šå¸¸æ˜¯ä¸ç›¸äº¤çš„å­é›†,<strong>æ¯ä¸ªå­é›†ç§°ä¸ºä¸€ä¸ªâ€œç°‡â€( cluster)</strong>ã€‚é€šè¿‡è¿™æ ·çš„åˆ’åˆ†,æ¯ç°‡å¯èƒ½å¯¹åº”äºä¸€äº›æ½œåœ¨çš„æ¦‚å¿µ(ç±»åˆ«),å¦‚â€œæµ…è‰²ç“œâ€â€œæ·±è‰²ç“œâ€,â€œæœ‰ç±½ç“œâ€â€œæ— ç±½ç“œâ€,ç”šè‡³â€œæœ¬åœ°ç“œâ€â€œå¤–åœ°ç“œâ€ç­‰;éœ€è¯´æ˜çš„æ˜¯,è¿™äº›æ¦‚å¿µå¯¹èšç±»ç®—æ³•è€Œè¨€äº‹å…ˆæ˜¯æœªçŸ¥çš„,èšç±»è¿‡ç¨‹ä»…èƒ½è‡ªåŠ¨å½¢æˆç°‡ç»“æ„, <strong>ç°‡æ‰€å¯¹åº”çš„æ¦‚å¿µè¯­ä¹‰éœ€ç”±ä½¿ç”¨è€…æ¥æŠŠæ¡å’Œå‘½å</strong>ã€‚</p>
<p>ç›´è§‚ä¸Šæ¥è¯´ï¼Œèšç±»æ˜¯å°†ç›¸ä¼¼çš„æ ·æœ¬èšåœ¨ä¸€èµ·ï¼Œä»è€Œå½¢æˆä¸€ä¸ª<strong>ç±»ç°‡ï¼ˆclusterï¼‰</strong>ã€‚æ¶‰åŠä¸¤ä¸ªé—®é¢˜</p>
<ul>
<li>å¦‚ä½•<strong>åº¦é‡ç›¸ä¼¼æ€§</strong>ï¼ˆsimilarity measureï¼‰ï¼Œè¿™ä¾¿æ˜¯<strong>è·ç¦»åº¦é‡</strong>(distance measure)ï¼Œåœ¨ç”Ÿæ´»ä¸­æˆ‘ä»¬è¯´å·®åˆ«å°åˆ™ç›¸ä¼¼ï¼Œå¯¹åº”åˆ°å¤šç»´æ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬å¯ä»¥å¯¹åº”äºé«˜ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªæ•°æ®ç‚¹ï¼Œè‹¥å®ƒä»¬çš„è·ç¦»ç›¸è¿‘ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ç§°å®ƒä»¬ç›¸ä¼¼ã€‚</li>
<li>å¦‚ä½•<strong>è¯„ä»·èšç±»ç»“æœ</strong>ï¼Œè¿™ä¾¿æ˜¯<strong>æ€§èƒ½åº¦é‡</strong>(validity index)</li>
</ul>
<h4 id="è·ç¦»åº¦é‡"><a href="#è·ç¦»åº¦é‡" class="headerlink" title="è·ç¦»åº¦é‡"></a>è·ç¦»åº¦é‡</h4><h5 id="è¿ç»­-ç¦»æ•£æœ‰åº"><a href="#è¿ç»­-ç¦»æ•£æœ‰åº" class="headerlink" title="è¿ç»­/ç¦»æ•£æœ‰åº"></a>è¿ç»­/ç¦»æ•£æœ‰åº</h5><p><strong>æ˜å¯å¤«æ–¯åŸºè·ç¦»ï¼ˆMinkowski Distanceï¼‰</strong></p>
<p>æ˜å¯å¤«æ–¯åŸºè·ç¦»æ˜¯ä¸€ç»„å¸¸ç”¨çš„<strong>è¿ç»­å‹è·ç¦»åº¦é‡</strong>ï¼Œé€šè¿‡è°ƒæ•´å‚æ•° $ p $ å¯ä»¥ç»Ÿä¸€è¡¨ç¤ºå¤šç§è·ç¦»å½¢å¼ï¼Œæ˜¯æ¬§æ°è·ç¦»å’Œæ›¼å“ˆé¡¿è·ç¦»çš„æ¨å¹¿ã€‚</p>
<p><strong>1. å…¬å¼å®šä¹‰</strong></p>
<p>å¯¹äºä¸¤ä¸ª $ n $ ç»´å‘é‡ $ \boldsymbol{x}<em>i = (x</em>{i1}, x<em>{i2}, \dots, x</em>{in}) $ å’Œ $ \boldsymbol{x}<em>j = (x</em>{j1}, x<em>{j2}, \dots, x</em>{jn}) $ï¼Œæ˜å¯å¤«æ–¯åŸºè·ç¦»çš„è®¡ç®—å…¬å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\text{dist}_{\text{mk}}(\boldsymbol{x}_i, \boldsymbol{x}_j) = \left( \sum_{u=1}^{n} |x_{iu} - x_{ju}|^p \right)^{\frac{1}{p}}</script><p>å…¶ä¸­ï¼Œ$ p \geq 1 $ æ˜¯ä¸€ä¸ªå¯è°ƒèŠ‚çš„å‚æ•°ã€‚</p>
<p><strong>2. ç‰¹æ®Šæƒ…å†µ</strong></p>
<ul>
<li><p><strong>å½“ $ p = 2 $</strong>ï¼šé€€åŒ–ä¸º<strong>æ¬§æ°è·ç¦»ï¼ˆEuclidean Distanceï¼‰</strong>  </p>
<script type="math/tex; mode=display">
\text{dist}_{\text{ed}}(\boldsymbol{x}_i, \boldsymbol{x}_j) = \sqrt{\sum_{u=1}^{n} |x_{iu} - x_{ju}|^2}</script><ul>
<li><strong>å‡ ä½•æ„ä¹‰</strong>ï¼šä¸¤ç‚¹ä¹‹é—´çš„ç›´çº¿è·ç¦»ã€‚  </li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¤§å¤šæ•°æœºå™¨å­¦ä¹ ç®—æ³•ï¼ˆå¦‚KNNã€PCAï¼‰é»˜è®¤ä½¿ç”¨æ¬§æ°è·ç¦»ã€‚</li>
</ul>
</li>
<li><p><strong>å½“ $ p = 1 $</strong>ï¼šé€€åŒ–ä¸º<strong>æ›¼å“ˆé¡¿è·ç¦»ï¼ˆManhattan Distanceï¼‰</strong>  </p>
<script type="math/tex; mode=display">
\text{dist}_{\text{man}}(\boldsymbol{x}_i, \boldsymbol{x}_j) = \sum_{u=1}^{n} |x_{iu} - x_{ju}|</script><ul>
<li><strong>å‡ ä½•æ„ä¹‰</strong>ï¼šæ²¿åæ ‡è½´ç§»åŠ¨çš„æ€»è·ç¦»ï¼ˆå¦‚æ£‹ç›˜æ ¼è·¯å¾„ï¼‰ã€‚  </li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé«˜ç»´ç¨€ç–æ•°æ®ï¼ˆå¦‚æ–‡æœ¬ç‰¹å¾ï¼‰ã€è®¡ç®—èµ„æºå—é™çš„åœºæ™¯ã€‚</li>
</ul>
</li>
<li><p><strong>å½“ $ p \to \infty $</strong>ï¼šé€€åŒ–ä¸º<strong>åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev Distanceï¼‰</strong>  </p>
<script type="math/tex; mode=display">
\text{dist}_{\text{che}}(\boldsymbol{x}_i, \boldsymbol{x}_j) = \max_{u} |x_{iu} - x_{ju}|</script><ul>
<li><strong>å‡ ä½•æ„ä¹‰</strong>ï¼šå„ç»´åº¦å·®å€¼çš„æœ€å¤§å€¼ã€‚  </li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå…³æ³¨æœ€åæƒ…å†µä¸‹çš„è¯¯å·®ï¼ˆå¦‚æ¸¸æˆAIè·¯å¾„è§„åˆ’ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. å‚æ•° $ p $ çš„å½±å“</strong></p>
<ul>
<li><strong>$ p $ è¶Šå°</strong>ï¼šè·ç¦»è®¡ç®—è¶Šå…³æ³¨è¾ƒå°çš„ç»´åº¦å·®å¼‚ï¼ˆå¦‚æ›¼å“ˆé¡¿è·ç¦»å¯¹å•ä¸ªç»´åº¦çš„æ‰°åŠ¨æ›´æ•æ„Ÿï¼‰ã€‚  </li>
<li><strong>$ p $ è¶Šå¤§</strong>ï¼šè·ç¦»è®¡ç®—è¶Šå…³æ³¨è¾ƒå¤§çš„ç»´åº¦å·®å¼‚ï¼ˆå¦‚åˆ‡æ¯”é›ªå¤«è·ç¦»ä»…å…³æ³¨æœ€å¤§å·®å€¼ï¼‰ã€‚  </li>
<li><strong>é€‰æ‹©ä¾æ®</strong>ï¼š  <ul>
<li>æ•°æ®åˆ†å¸ƒæ˜¯å¦å‡åŒ€ï¼šè‹¥æŸäº›ç»´åº¦å·®å¼‚æ˜¾è‘—ï¼Œå¯å¢å¤§ $ p $ã€‚  </li>
<li>ç®—æ³•éœ€æ±‚ï¼šå¦‚KNNä¸­ï¼Œé«˜ç»´æ•°æ®å¯èƒ½æ›´é€‚åˆæ›¼å“ˆé¡¿è·ç¦»ï¼ˆç¼“è§£â€œç»´åº¦ç¾éš¾â€ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h5 id="ç¦»æ•£æ— åº"><a href="#ç¦»æ•£æ— åº" class="headerlink" title="ç¦»æ•£æ— åº"></a>ç¦»æ•£æ— åº</h5><p>æˆ‘ä»¬çŸ¥é“å±æ€§åˆ†ä¸ºä¸¤ç§ï¼š<strong>è¿ç»­å±æ€§</strong>(continuous attribute)å’Œ<strong>ç¦»æ•£å±æ€§</strong>ï¼ˆcatergorical attributeæœ‰é™ä¸ªå–å€¼ï¼‰ã€‚å¯¹äºè¿ç»­å€¼çš„å±æ€§ï¼Œä¸€èˆ¬éƒ½å¯ä»¥è¢«å­¦ä¹ å™¨æ‰€ç”¨ï¼Œæœ‰æ—¶ä¼šæ ¹æ®å…·ä½“çš„æƒ…å½¢ä½œç›¸åº”çš„é¢„å¤„ç†ï¼Œä¾‹å¦‚ï¼šå½’ä¸€åŒ–ç­‰ï¼›è€Œå¯¹äºç¦»æ•£å€¼çš„å±æ€§ï¼Œéœ€è¦ä½œä¸‹é¢è¿›ä¸€æ­¥çš„å¤„ç†ï¼š</p>
<blockquote>
<p>è‹¥å±æ€§å€¼ä¹‹é—´<strong>å­˜åœ¨åºå…³ç³»</strong>(ordinal attribute)ï¼Œåˆ™å¯ä»¥å°†å…¶è½¬åŒ–ä¸ºè¿ç»­å€¼ï¼Œä¾‹å¦‚ï¼šèº«é«˜å±æ€§â€œé«˜â€â€œä¸­ç­‰â€â€œçŸ®â€ï¼Œå¯è½¬åŒ–ä¸º{1, 0.5, 0}ã€‚ </p>
<p>è‹¥å±æ€§å€¼ä¹‹é—´<strong>ä¸å­˜åœ¨åºå…³ç³»</strong>(non-ordinal attribute)ï¼Œåˆ™é€šå¸¸å°†å…¶è½¬åŒ–ä¸ºå‘é‡çš„å½¢å¼ï¼Œä¾‹å¦‚ï¼šæ€§åˆ«å±æ€§â€œç”·â€â€œå¥³â€ï¼Œå¯è½¬åŒ–ä¸º{ï¼ˆ1,0ï¼‰,ï¼ˆ0,1ï¼‰}ã€‚</p>
</blockquote>
<p><strong>è¿ç»­å±æ€§å’Œå­˜åœ¨åºå…³ç³»çš„ç¦»æ•£å±æ€§éƒ½å¯ä»¥ç›´æ¥å‚ä¸è®¡ç®—</strong>ï¼Œè€Œä¸å­˜åœ¨åºå…³ç³»çš„<strong>æ— åºå±æ€§ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨VDMï¼ˆValue Difference Metricï¼‰è¿›è¡Œè·ç¦»çš„è®¡ç®—</strong></p>
<p>VDM æ˜¯ä¸€ç§ä¸“é—¨ç”¨äº<strong>ç¦»æ•£æ— åºå±æ€§</strong>çš„è·ç¦»åº¦é‡æ–¹æ³•ï¼Œé€šè¿‡ç»Ÿè®¡ä¿¡æ¯é‡åŒ–ä¸åŒç±»åˆ«é—´çš„å·®å¼‚ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>è‹¥ä¸¤ä¸ªç±»åˆ«çš„æ ·æœ¬åœ¨ç›®æ ‡å˜é‡ä¸Šçš„åˆ†å¸ƒå·®å¼‚è¶Šå¤§ï¼Œåˆ™å®ƒä»¬çš„è·ç¦»è¶Šå¤§</strong>ã€‚</p>
<p><strong>1. å…¬å¼è§£æ</strong></p>
<script type="math/tex; mode=display">
\text{VDM}_p(a, b) = \sum_{i=1}^{k} \left| \frac{m_{u,a,i}}{m_{u,a}} - \frac{m_{u,b,i}}{m_{u,b}} \right|^p</script><ul>
<li><strong>ç¬¦å·å«ä¹‰</strong>ï¼š  <ul>
<li>$ a, b $ï¼šä¸¤ä¸ªä¸åŒçš„ç±»åˆ«å€¼ï¼ˆå¦‚æ€§åˆ«â€œç”·â€å’Œâ€œå¥³â€ï¼‰ã€‚  </li>
<li>$ m_{u,a,i} $ï¼šåœ¨å±æ€§ $ u $ çš„ç¬¬ $ i $ ä¸ªå–å€¼ä¸‹ï¼Œç±»åˆ« $ a $ çš„æ ·æœ¬æ•°é‡ã€‚  </li>
<li>$ m_{u,a} $ï¼šç±»åˆ« $ a $ çš„æ€»æ ·æœ¬æ•°é‡ã€‚  </li>
<li>$ k $ï¼šå±æ€§ $ u $ çš„ä¸åŒå–å€¼æ•°ç›®ï¼ˆå¦‚é¢œè‰²å±æ€§æœ‰çº¢ã€è“ã€ç»¿ä¸‰ç§å–å€¼ï¼Œåˆ™ $ k=3 $ï¼‰ã€‚  </li>
<li>$ p $ï¼šè·ç¦»å¹‚æŒ‡æ•°ï¼ˆé€šå¸¸å– $ p=1 $ æˆ– $ p=2 $ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. æ ¸å¿ƒæ€æƒ³</strong></p>
<ul>
<li><strong>ç»Ÿè®¡åˆ†å¸ƒå·®å¼‚</strong>ï¼š<br>å¯¹äºæ¯ä¸ªå±æ€§å–å€¼ $ i $ï¼Œè®¡ç®—ç±»åˆ« $ a $ å’Œ $ b $ çš„æ ·æœ¬æ¯”ä¾‹å·®å¼‚ï¼š  <script type="math/tex; mode=display">
\left| \frac{m_{u,a,i}}{m_{u,a}} - \frac{m_{u,b,i}}{m_{u,b}} \right|</script>è¯¥å€¼è¶Šå¤§ï¼Œè¯´æ˜ä¸¤ä¸ªç±»åˆ«åœ¨è¯¥å–å€¼ä¸Šçš„åˆ†å¸ƒå·®å¼‚è¶Šå¤§ã€‚  </li>
<li><strong>åŠ æƒæ±‚å’Œ</strong>ï¼š<br>å°†æ‰€æœ‰å±æ€§å–å€¼çš„å·®å¼‚æŒ‰ $ p $ æ¬¡æ–¹åŠ æƒæ±‚å’Œï¼Œå¾—åˆ°æœ€ç»ˆçš„è·ç¦»ã€‚</li>
</ul>
<p><strong>3. ç¤ºä¾‹è¯´æ˜</strong></p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªâ€œé¢œè‰²â€å±æ€§ï¼ˆçº¢ã€è“ã€ç»¿ï¼‰ï¼Œç›®æ ‡å˜é‡æ˜¯â€œæ˜¯å¦è´­ä¹°å•†å“â€ï¼ˆ0/1ï¼‰ã€‚ç»Ÿè®¡ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>é¢œè‰²</th>
<th>è´­ä¹°ï¼ˆ1ï¼‰</th>
<th>ä¸è´­ä¹°ï¼ˆ0ï¼‰</th>
<th>æ€»è®¡</th>
</tr>
</thead>
<tbody>
<tr>
<td>çº¢</td>
<td>10</td>
<td>5</td>
<td>15</td>
</tr>
<tr>
<td>è“</td>
<td>8</td>
<td>12</td>
<td>20</td>
</tr>
<tr>
<td>ç»¿</td>
<td>3</td>
<td>7</td>
<td>10</td>
</tr>
</tbody>
</table>
</div>
<p>è®¡ç®—â€œçº¢â€ä¸â€œè“â€ä¹‹é—´çš„ VDM è·ç¦»ï¼ˆ$ p=1 $ï¼‰ï¼š</p>
<ol>
<li>è®¡ç®—æ¯ä¸ªé¢œè‰²åœ¨è´­ä¹°/ä¸è´­ä¹°çš„æ¯”ä¾‹ï¼š  <ul>
<li>çº¢ï¼š$ P(1) = 10/15 \approx 0.67 $ï¼Œ$ P(0) = 5/15 \approx 0.33 $  </li>
<li>è“ï¼š$ P(1) = 8/20 = 0.4 $ï¼Œ$ P(0) = 12/20 = 0.6 $  </li>
</ul>
</li>
<li>è®¡ç®—å·®å¼‚å¹¶æ±‚å’Œï¼š  <script type="math/tex; mode=display">
\text{VDM}_1(\text{çº¢}, \text{è“}) = |0.67 - 0.4| + |0.33 - 0.6| = 0.27 + 0.27 = 0.54</script></li>
</ol>
<h4 id="æ€§èƒ½åº¦é‡"><a href="#æ€§èƒ½åº¦é‡" class="headerlink" title="æ€§èƒ½åº¦é‡"></a>æ€§èƒ½åº¦é‡</h4><p>äºèšç±»ç®—æ³•ä¸ä¾èµ–äºæ ·æœ¬çš„çœŸå®ç±»æ ‡ï¼Œå°±ä¸èƒ½åƒç›‘ç£å­¦ä¹ çš„åˆ†ç±»é‚£èˆ¬ï¼Œé€šè¿‡è®¡ç®—åˆ†å¯¹åˆ†é”™ï¼ˆå³ç²¾ç¡®åº¦æˆ–é”™è¯¯ç‡ï¼‰æ¥è¯„ä»·å­¦ä¹ å™¨çš„å¥½åæˆ–ä½œä¸ºå­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¼˜åŒ–ç›®æ ‡ã€‚</p>
<p>ç›´è§‚ä¸Šçœ‹,æˆ‘ä»¬å¸Œæœ›<strong>â€œç‰©ä»¥ç±»èšâ€</strong>,å³åŒä¸€ç°‡çš„æ ·æœ¬å°½å¯èƒ½å½¼æ­¤ç›¸ä¼¼,ä¸åŒç°‡çš„æ ·æœ¬å°½å¯èƒ½ä¸åŒæ¢è¨€ä¹‹,èšç±»ç»“æœçš„<strong>â€œç°‡å†…ç›¸ä¼¼åº¦â€( intra-cluster similarity)é«˜ä¸”â€œç°‡é—´ç›¸ä¼¼åº¦â€ inter-cluster similarity)ä½</strong></p>
<p><strong>èšç±»æ€§èƒ½åº¦é‡æœ‰ä¸¤ç±»</strong></p>
<ul>
<li>â€œå¤–éƒ¨æŒ‡æ ‡â€(external index)ï¼šæ‰€è°“å¤–éƒ¨æŒ‡æ ‡å°±æ˜¯å·²ç»æœ‰ä¸€ä¸ªâ€œå‚è€ƒæ¨¡å‹â€å­˜åœ¨äº†ï¼Œå°†å½“å‰æ¨¡å‹ä¸å‚è€ƒæ¨¡å‹çš„æ¯”å¯¹ç»“æœä½œä¸ºæŒ‡æ ‡ã€‚</li>
<li>â€œå†…éƒ¨æŒ‡æ ‡â€( internal index)ï¼šæ‰€è°“å†…éƒ¨æŒ‡æ ‡å°±æ˜¯ä»…ä»…è€ƒè™‘å½“å‰æ¨¡å‹çš„èšç±»ç»“æœã€‚</li>
</ul>
<h5 id="å¤–éƒ¨æŒ‡æ ‡"><a href="#å¤–éƒ¨æŒ‡æ ‡" class="headerlink" title="å¤–éƒ¨æŒ‡æ ‡"></a>å¤–éƒ¨æŒ‡æ ‡</h5><p><strong>1.åŸºæœ¬æ¦‚å¿µ</strong></p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607110103570.png" alt="image-20250607110103570"></p>
<p>æ˜¾ç„¶ï¼Œ$ a + b + c + d = \frac{m(m-1)}{2} $ ã€‚</p>
<p><strong>2. å¸¸ç”¨å¤–éƒ¨æŒ‡æ ‡</strong></p>
<p><strong>ï¼ˆ1ï¼‰Jaccardç³»æ•°ï¼ˆJCï¼‰</strong></p>
<script type="math/tex; mode=display">
\text{JC} = \frac{a}{a + b + c}</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šè¡¡é‡ä¸¤ä¸ªåˆ’åˆ†çš„é‡å ç¨‹åº¦ï¼Œä»…è€ƒè™‘æ­£ç¡®åŒ¹é…ï¼ˆ$ a $ï¼‰ä¸çŸ›ç›¾æƒ…å†µï¼ˆ$ b + c $ï¼‰ã€‚  </li>
<li><strong>èŒƒå›´</strong>ï¼š$ [0, 1] $ï¼Œå€¼è¶Šå¤§è¶Šå¥½ã€‚  </li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå¯¹ç§°æ€§å·®ï¼Œå¯¹å™ªå£°æ•æ„Ÿ ã€‚</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰Fowlkes-MallowsæŒ‡æ•°ï¼ˆFMIï¼‰</strong></p>
<script type="math/tex; mode=display">
\text{FMI} = \sqrt{\frac{a}{a + b} \cdot \frac{a}{a + c}}</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šç»“åˆæŸ¥å‡†ç‡ï¼ˆ$ \frac{a}{a + c} $ï¼‰å’ŒæŸ¥å…¨ç‡ï¼ˆ$ \frac{a}{a + b} $ï¼‰ï¼Œåæ˜ æ­£ç¡®åŒ¹é…çš„ç»¼åˆèƒ½åŠ›ã€‚  </li>
<li><strong>èŒƒå›´</strong>ï¼š$ [0, 1] $ï¼Œå€¼è¶Šå¤§è¶Šå¥½ã€‚  </li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå¹³è¡¡æ€§è¾ƒå¥½ï¼Œé€‚åˆå°æ ·æœ¬ ã€‚</li>
</ul>
<p><strong>ï¼ˆ3ï¼‰RandæŒ‡æ•°ï¼ˆRIï¼‰</strong></p>
<script type="math/tex; mode=display">
\text{RI} = \frac{2(a + d)}{m(m - 1)}</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šåŒæ—¶è€ƒè™‘æ­£ç¡®åŒ¹é…ï¼ˆ$ a + d $ï¼‰ä¸æ€»æ ·æœ¬å¯¹æ•°ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®ã€‚  </li>
<li><strong>èŒƒå›´</strong>ï¼š$ [0, 1] $ï¼Œå€¼è¶Šå¤§è¶Šå¥½ã€‚  </li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šè®¡ç®—ç®€å•ï¼Œä½†å¯¹å™ªå£°è¾ƒé²æ£’ ã€‚</li>
</ul>
<p><strong>å¸¸ç”¨æŒ‡æ ‡</strong></p>
<ul>
<li><p><strong>è°ƒæ•´å…°å¾·æŒ‡æ•°ï¼ˆAdjusted Rand Index, ARIï¼‰</strong>  </p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šè¡¡é‡èšç±»ç»“æœä¸çœŸå®æ ‡ç­¾çš„åŒ¹é…ç¨‹åº¦ï¼Œè°ƒæ•´éšæœºèšç±»çš„å½±å“ï¼Œå–å€¼èŒƒå›´ [-1, 1]ï¼Œå€¼è¶Šå¤§è¶Šå¥½ã€‚  </li>
<li><strong>å…¬å¼</strong>ï¼š  <script type="math/tex; mode=display">
\text{ARI} = \frac{\text{RI} - \mathbb{E}[\text{RI}]}{\max(\text{RI}) - \mathbb{E}[\text{RI}]}</script>å…¶ä¸­ RI æ˜¯å…°å¾·æŒ‡æ•°ï¼ˆåŒ¹é…æ ·æœ¬å¯¹çš„æ¯”ä¾‹ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>å½’ä¸€åŒ–äº’ä¿¡æ¯ï¼ˆNormalized Mutual Information, NMIï¼‰</strong>  </p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šè¡¡é‡èšç±»ç»“æœä¸çœŸå®æ ‡ç­¾çš„ä¿¡æ¯å…±äº«ç¨‹åº¦ï¼Œå€¼è¶Šå¤§è¶Šå¥½ã€‚  </li>
<li><strong>å…¬å¼</strong>ï¼š  <script type="math/tex; mode=display">
\text{NMI} = \frac{I(C; K)}{\sqrt{H(C) H(K)}}</script>å…¶ä¸­ $ I(C; K) $ æ˜¯äº’ä¿¡æ¯ï¼Œ$ H(C) $ å’Œ $ H(K) $ æ˜¯ç†µã€‚</li>
</ul>
</li>
<li><p><strong>Fowlkes-Mallows æŒ‡æ•°ï¼ˆFMIï¼‰</strong>  </p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šåŸºäºèšç±»ç»“æœä¸çœŸå®æ ‡ç­¾çš„ TPã€FPã€TNã€FN è®¡ç®—ï¼Œå€¼è¶Šå¤§è¶Šå¥½ã€‚  </li>
<li><strong>å…¬å¼</strong>ï¼š  <script type="math/tex; mode=display">
\text{FMI} = \sqrt{\frac{\text{TP}}{\text{TP} + \text{FP}} \cdot \frac{\text{TP}}{\text{TP} + \text{FN}}}</script></li>
</ul>
</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>åœ¨æœ‰çœŸå®æ ‡ç­¾æ—¶ï¼Œèƒ½æ›´å®¢è§‚åœ°è¯„ä¼°èšç±»æ•ˆæœã€‚</li>
<li>é€‚ç”¨äºéªŒè¯èšç±»ç»“æœçš„ä¸šåŠ¡æ„ä¹‰ï¼ˆå¦‚å®¢æˆ·åˆ†ç¾¤æ˜¯å¦ç¬¦åˆé¢„æœŸï¼‰ã€‚</li>
</ul>
<p><strong>å±€é™æ€§</strong></p>
<ul>
<li>éœ€è¦çœŸå®æ ‡ç­¾ï¼Œä¸é€‚ç”¨äºçº¯æ— ç›‘ç£ä»»åŠ¡ã€‚</li>
<li>å¯¹æ ‡ç­¾å™ªå£°æ•æ„Ÿï¼ˆå¦‚æ ‡ç­¾é”™è¯¯ä¼šè¯¯å¯¼ $ K $ çš„é€‰æ‹©ï¼‰ã€‚</li>
</ul>
<p><strong>3. åº”ç”¨ç¤ºä¾‹</strong></p>
<p>å‡è®¾ä¸€ä¸ªåŒ…å«4ä¸ªæ ·æœ¬çš„æ•°æ®é›†ï¼Œå‚è€ƒæ ‡ç­¾ä¸º ${A, A, B, B}$ï¼Œèšç±»ç»“æœä¸º ${C, C, D, D}$ï¼š</p>
<ul>
<li><strong>è®¡ç®—æ ·æœ¬å¯¹</strong>ï¼š  <ul>
<li>$ a = 2 $ï¼ˆæ ·æœ¬1-2åŒç°‡ï¼Œå‚è€ƒä¸èšç±»å‡åŒç±»ï¼‰ã€‚  </li>
<li>$ b = 0 $ï¼ˆå‚è€ƒåŒç±»ä½†èšç±»ä¸åŒç±»ï¼‰ã€‚  </li>
<li>$ c = 0 $ï¼ˆå‚è€ƒä¸åŒç±»ä½†èšç±»åŒç±»ï¼‰ã€‚  </li>
<li>$ d = 2 $ï¼ˆå‚è€ƒä¸åŒç±»ä¸”èšç±»ä¸åŒç±»ï¼‰ã€‚  </li>
</ul>
</li>
<li><strong>æŒ‡æ ‡ç»“æœ</strong>ï¼š  <ul>
<li>JC = $ \frac{2}{2+0+0} = 1 $ï¼ˆå®Œç¾åŒ¹é…ï¼‰ã€‚  </li>
<li>FMI = $ \sqrt{\frac{2}{2+0} \cdot \frac{2}{2+0}} = 1 $ã€‚  </li>
<li>RI = $ \frac{2(2+2)}{4 \times 3} = \frac{8}{12} \approx 0.67 $ã€‚</li>
</ul>
</li>
</ul>
<h5 id="å†…éƒ¨æŒ‡æ ‡"><a href="#å†…éƒ¨æŒ‡æ ‡" class="headerlink" title="å†…éƒ¨æŒ‡æ ‡"></a>å†…éƒ¨æŒ‡æ ‡</h5><p>å†…éƒ¨æŒ‡æ ‡ä¸ä¾èµ–ä»»ä½•å¤–éƒ¨å‚è€ƒæ¨¡å‹ï¼Œç›´æ¥é€šè¿‡<strong>ç°‡å†…ç´§å‡‘æ€§</strong>å’Œ<strong>ç°‡é—´åˆ†ç¦»æ€§</strong>è¯„ä¼°èšç±»ç»“æœã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<ul>
<li><strong>ç°‡å†…é«˜å†…èš</strong>ï¼šåŒä¸€ç°‡çš„æ ·æœ¬å°½å¯èƒ½ç›¸ä¼¼ï¼ˆè·ç¦»å°ï¼‰ã€‚  </li>
<li><strong>ç°‡é—´ä½è€¦åˆ</strong>ï¼šä¸åŒç°‡çš„æ ·æœ¬å°½å¯èƒ½ä¸åŒï¼ˆè·ç¦»å¤§ï¼‰ã€‚</li>
</ul>
<p><strong>1. åŸºæœ¬å®šä¹‰</strong></p>
<p>è®¾èšç±»ç»“æœä¸º $ C = {C_1, C_2, \dots, C_k} $ï¼Œå®šä¹‰ä»¥ä¸‹å››ä¸ªå…³é”®è·ç¦»ï¼š</p>
<p><strong>ï¼ˆ1ï¼‰ç°‡å†…å¹³å‡è·ç¦»ï¼ˆavg(C)ï¼‰</strong></p>
<script type="math/tex; mode=display">
\text{avg}(C) = \frac{2}{|C|(|C| - 1)} \sum_{1 \leq i < j \leq |C|} \text{dist}(\boldsymbol{x}_i, \boldsymbol{x}_j)</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šç°‡å†…æ‰€æœ‰æ ·æœ¬å¯¹çš„å¹³å‡è·ç¦»ã€‚  </li>
<li><strong>ç›®æ ‡</strong>ï¼šè¶Šå°è¶Šå¥½ï¼Œè¡¨ç¤ºç°‡å†…æ ·æœ¬æ›´ç´§å¯†ã€‚</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰ç°‡å†…æœ€å¤§è·ç¦»ï¼ˆdiam(C)ï¼‰</strong></p>
<script type="math/tex; mode=display">
\text{diam}(C) = \max_{1 \leq i < j \leq |C|} \text{dist}(\boldsymbol{x}_i, \boldsymbol{x}_j)</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šç°‡å†…æœ€è¿œçš„ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦»ã€‚  </li>
<li><strong>ç›®æ ‡</strong>ï¼šè¶Šå°è¶Šå¥½ï¼Œé¿å…ç°‡å†…å­˜åœ¨ç¦»ç¾¤ç‚¹ã€‚</li>
</ul>
<p><strong>ï¼ˆ3ï¼‰ç°‡é—´æœ€å°è·ç¦»ï¼ˆ$ d_{\min}(C_i, C_j) $ï¼‰</strong></p>
<script type="math/tex; mode=display">
d_{\min}(C_i, C_j) = \min_{\boldsymbol{x}_i \in C_i, \boldsymbol{x}_j \in C_j} \text{dist}(\boldsymbol{x}_i, \boldsymbol{x}_j)</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šç°‡ $ C_i $ å’Œ $ C_j $ ä¹‹é—´æœ€è¿‘çš„ä¸¤ä¸ªæ ·æœ¬çš„è·ç¦»ã€‚  </li>
<li><strong>ç›®æ ‡</strong>ï¼šè¶Šå¤§è¶Šå¥½ï¼Œè¡¨ç¤ºç°‡é—´åˆ†ç¦»åº¦é«˜ã€‚</li>
</ul>
<p><strong>ï¼ˆ4ï¼‰ç°‡ä¸­å¿ƒè·ç¦»ï¼ˆ$ d_{\text{cen}}(C_i, C_j) $ï¼‰</strong></p>
<script type="math/tex; mode=display">
d_{\text{cen}}(C_i, C_j) = \text{dist}(\boldsymbol{\mu}_i, \boldsymbol{\mu}_j)</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šç°‡ $ C_i $ å’Œ $ C_j $ çš„ä¸­å¿ƒç‚¹ï¼ˆå‡å€¼å‘é‡ï¼‰ä¹‹é—´çš„è·ç¦»ã€‚  </li>
<li><strong>ç›®æ ‡</strong>ï¼šè¶Šå¤§è¶Šå¥½ï¼Œè¡¨ç¤ºç°‡ä¸­å¿ƒç›¸éš”è¾ƒè¿œã€‚</li>
</ul>
<p><strong>2. å¸¸ç”¨å†…éƒ¨æŒ‡æ ‡</strong></p>
<p><strong>1. DBæŒ‡æ•°ï¼ˆDavies-Bouldin Index, DBIï¼‰</strong></p>
<ul>
<li><p><strong>å…¬å¼</strong>ï¼š  </p>
<script type="math/tex; mode=display">
\text{DBI} = \frac{1}{k} \sum_{i=1}^{k} \max_{j \neq i} \left( \frac{\text{avg}(C_i) + \text{avg}(C_j)}{d_{\text{cen}}(\mu_i, \mu_j)} \right)</script><ul>
<li><strong>ç¬¦å·å«ä¹‰</strong>ï¼š  <ul>
<li>$ k $ï¼šç°‡çš„æ•°é‡ã€‚  </li>
<li>$ \text{avg}(C_i) $ï¼šç°‡ $ C_i $ å†…éƒ¨æ ·æœ¬çš„å¹³å‡è·ç¦»ã€‚  </li>
<li>$ d_{\text{cen}}(\mu_i, \mu_j) $ï¼šç°‡ $ C_i $ å’Œ $ C_j $ çš„ä¸­å¿ƒç‚¹ï¼ˆå‡å€¼å‘é‡ï¼‰ä¹‹é—´çš„è·ç¦»ã€‚  </li>
</ul>
</li>
<li><strong>ç›®æ ‡</strong>ï¼šè¶Šå°è¶Šå¥½ã€‚  </li>
<li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šå¯¹äºæ¯ä¸ªç°‡ $ C<em>i $ï¼Œæ‰¾åˆ°ä¸å…¶â€œæœ€ç«äº‰â€çš„ç°‡ $ C_j $ï¼ˆå³ $ \frac{\text{avg}(C_i) + \text{avg}(C_j)}{d</em>{\text{cen}}(\mu_i, \mu_j)} $ æœ€å¤§çš„ç°‡ï¼‰ï¼Œå¹¶å–æ‰€æœ‰ç°‡çš„å¹³å‡å€¼ã€‚  </li>
</ul>
</li>
<li><p><strong>ç¤ºä¾‹</strong>ï¼š<br>è‹¥ç°‡ $ C_1 $ å’Œ $ C_2 $ çš„å¹³å‡è·ç¦»åˆ†åˆ«ä¸º 2 å’Œ 3ï¼Œä¸­å¿ƒè·ç¦»ä¸º 5ï¼Œåˆ™å®ƒä»¬çš„æ¯”å€¼ä¸º $ \frac{2+3}{5} = 1 $ã€‚è‹¥è¿™æ˜¯ $ C_1 $ çš„æœ€å¤§æ¯”å€¼ï¼Œåˆ™ $ C_1 $ å¯¹ DBI çš„è´¡çŒ®ä¸º 1ã€‚æœ€ç»ˆ DBI æ˜¯æ‰€æœ‰ç°‡è´¡çŒ®çš„å¹³å‡å€¼ã€‚  </p>
</li>
</ul>
<p><strong>2. DunnæŒ‡æ•°ï¼ˆDunn Index, DIï¼‰</strong></p>
<ul>
<li><p><strong>å…¬å¼</strong>ï¼š  </p>
<script type="math/tex; mode=display">
\text{DI} = \min_{1 \leq i \leq k} \left\{ \frac{\min_{j \neq i} d_{\min}(C_i, C_j)}{\max_{1 \leq l \leq k} \text{diam}(C_l)} \right\}</script><ul>
<li><strong>ç¬¦å·å«ä¹‰</strong>ï¼š  <ul>
<li>$ d_{\min}(C_i, C_j) $ï¼šç°‡ $ C_i $ å’Œ $ C_j $ ä¹‹é—´çš„æœ€å°è·ç¦»ï¼ˆæœ€è¿‘æ ·æœ¬å¯¹çš„è·ç¦»ï¼‰ã€‚  </li>
<li>$ \text{diam}(C_l) $ï¼šç°‡ $ C_l $ å†…çš„æœ€å¤§è·ç¦»ï¼ˆæœ€è¿œæ ·æœ¬å¯¹çš„è·ç¦»ï¼‰ã€‚  </li>
</ul>
</li>
<li><strong>ç›®æ ‡</strong>ï¼šè¶Šå¤§è¶Šå¥½ã€‚  </li>
<li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼š  <ul>
<li>åˆ†å­ï¼šæ‰€æœ‰ç°‡å¯¹ä¹‹é—´çš„æœ€å°è·ç¦»ä¸­çš„æœ€å°å€¼ï¼ˆå³æœ€â€œè„†å¼±â€çš„ç°‡é—´åˆ†ç¦»åº¦ï¼‰ã€‚  </li>
<li>åˆ†æ¯ï¼šæ‰€æœ‰ç°‡ä¸­çš„æœ€å¤§ç›´å¾„ï¼ˆæœ€â€œæ¾æ•£â€çš„ç°‡å†…ç´§å‡‘åº¦ï¼‰ã€‚  </li>
<li>æŒ‡æ•°è¶Šå¤§ï¼Œè¡¨ç¤ºç°‡é—´åˆ†ç¦»åº¦é«˜ä¸”ç°‡å†…ç´§å‡‘ã€‚  </li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ç¤ºä¾‹</strong>ï¼š<br>å‡è®¾ç°‡å¯¹ $ (C_1, C_2) $ çš„æœ€å°è·ç¦»ä¸º 5ï¼Œç°‡ $ C_3 $ çš„æœ€å¤§ç›´å¾„ä¸º 10ï¼Œåˆ™ DI ä¸º $ \frac{5}{10} = 0.5 $ã€‚  </p>
</li>
</ul>
<p><strong>3. è½®å»“ç³»æ•°ï¼ˆSilhouette Coefficientï¼‰</strong></p>
<ul>
<li><p><strong>å•ä¸€æ ·æœ¬çš„è½®å»“ç³»æ•°</strong>ï¼š  </p>
<script type="math/tex; mode=display">
s = \frac{b - a}{\max(a, b)}</script><ul>
<li><strong>ç¬¦å·å«ä¹‰</strong>ï¼š  <ul>
<li>$ a $ï¼šæ ·æœ¬åˆ°åŒç°‡å…¶ä»–æ ·æœ¬çš„å¹³å‡è·ç¦»ï¼ˆç°‡å†…å‡èšåº¦ï¼‰ã€‚  </li>
<li>$ b $ï¼šæ ·æœ¬åˆ°æœ€è¿‘ç°‡ä¸­æ ·æœ¬çš„å¹³å‡è·ç¦»ï¼ˆç°‡é—´åˆ†ç¦»åº¦ï¼‰ã€‚  </li>
</ul>
</li>
<li><strong>å–å€¼èŒƒå›´</strong>ï¼š$ [-1, 1] $ï¼Œè¶Šæ¥è¿‘ 1 è¡¨ç¤ºèšç±»æ•ˆæœè¶Šå¥½ã€‚  </li>
<li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼š  <ul>
<li>è‹¥ $ a &lt; b $ï¼ˆåŒç°‡ç´§å¯†ï¼Œå¼‚ç°‡ç–è¿œï¼‰ï¼Œåˆ™ $ s &gt; 0 $ï¼Œæ ·æœ¬åˆ†ç±»åˆç†ã€‚  </li>
<li>è‹¥ $ a &gt; b $ï¼ˆåŒç°‡æ¾æ•£ï¼Œå¼‚ç°‡æ›´è¿‘ï¼‰ï¼Œåˆ™ $ s &lt; 0 $ï¼Œæ ·æœ¬å¯èƒ½è¢«é”™è¯¯åˆ†ç±»ã€‚  </li>
</ul>
</li>
</ul>
</li>
<li><p><strong>æ•´ä½“è½®å»“ç³»æ•°</strong>ï¼šæ‰€æœ‰æ ·æœ¬è½®å»“ç³»æ•°çš„å¹³å‡å€¼ã€‚  </p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>ï¼š<br>è‹¥æŸæ ·æœ¬ $ a = 2 $ï¼Œ$ b = 5 $ï¼Œåˆ™ $ s = \frac{5-2}{5} = 0.6 $ï¼Œè¡¨æ˜è¯¥æ ·æœ¬åˆ†ç±»åˆç†ã€‚  </p>
</li>
</ul>
<p><strong>4.è‚˜éƒ¨æ³•åˆ™ï¼ˆElbow Methodï¼‰</strong></p>
<p>è‚˜éƒ¨æ³•åˆ™æ˜¯ä¸€ç§<strong>ç»éªŒæ€§æ–¹æ³•</strong>ï¼Œå¸¸ç”¨äºç¡®å®šK-meansç­‰èšç±»ç®—æ³•çš„æœ€ä¼˜ç°‡æ•°ï¼ˆ$ K $ï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡è§‚å¯Ÿè¯¯å·®å¹³æ–¹å’Œï¼ˆSSE, Sum of Squared Errorsï¼‰éš $ K $ å€¼å˜åŒ–çš„è¶‹åŠ¿ï¼Œå¯»æ‰¾â€œè‚˜éƒ¨ç‚¹â€ï¼ˆå³ SSE ä¸‹é™é€Ÿåº¦æ˜æ˜¾å‡ç¼“çš„æ‹ç‚¹ï¼‰ï¼Œä»è€Œé€‰æ‹©æœ€ä¼˜çš„ $ K $ å€¼</p>
<ul>
<li><p><strong>SSEï¼ˆè¯¯å·®å¹³æ–¹å’Œï¼‰</strong>ï¼šè¡¡é‡æ¯ä¸ªæ ·æœ¬åˆ°å…¶æ‰€å±ç°‡ä¸­å¿ƒçš„è·ç¦»å¹³æ–¹å’Œï¼Œå…¬å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\text{SSE} = \sum_{i=1}^n \|x_i - \mu_{c_i}\|^2</script><p>å…¶ä¸­ $ x<em>i $ æ˜¯æ ·æœ¬ç‚¹ï¼Œ$ \mu</em>{c_i} $ æ˜¯å…¶æ‰€å±ç°‡ä¸­å¿ƒã€‚</p>
</li>
<li><p><strong>è¶‹åŠ¿åˆ†æ</strong>ï¼š</p>
<ul>
<li>å½“ $ K $ å¢å¤§æ—¶ï¼ŒSSE ä¼šä¸æ–­å‡å°ï¼ˆå› ä¸ºç°‡è¶Šå¤šï¼Œæ¯ä¸ªç°‡çš„æ ·æœ¬è¶Šå¯†é›†ï¼‰ã€‚</li>
<li>ä½†å½“ $ K $ å¢åŠ åˆ°æŸä¸ªå€¼åï¼ŒSSE çš„ä¸‹é™é€Ÿåº¦ä¼šæ˜¾è‘—æ”¾ç¼“ï¼Œå½¢æˆâ€œè‚˜éƒ¨â€å½¢çŠ¶ã€‚</li>
</ul>
</li>
<li><p><strong>è‚˜éƒ¨ç‚¹çš„æ„ä¹‰</strong>ï¼š<br>è‚˜éƒ¨ç‚¹å¯¹åº”çš„ $ K $ å€¼æ˜¯<strong>æ¨¡å‹å¤æ‚åº¦</strong>ï¼ˆç°‡æ•°ï¼‰ä¸<strong>èšç±»æ•ˆæœ</strong>ï¼ˆSSEï¼‰ä¹‹é—´çš„å¹³è¡¡ç‚¹ã€‚</p>
</li>
</ul>
<p><strong>æŒ‡æ ‡å¯¹æ¯”ä¸é€‰æ‹©</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>æŒ‡æ ‡</strong></th>
<th><strong>è®¡ç®—æ–¹å¼</strong></th>
<th><strong>ç›®æ ‡</strong></th>
<th><strong>é€‚ç”¨åœºæ™¯</strong></th>
<th><strong>å±€é™æ€§</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>DBI</td>
<td>ç°‡å†…å¹³å‡è·ç¦»ä¸ç°‡ä¸­å¿ƒè·ç¦»çš„æ¯”å€¼</td>
<td>è¶Šå°è¶Šå¥½</td>
<td>çƒå½¢ç°‡ï¼Œéœ€æŒ‡å®š $ k $</td>
<td>å¯¹ç¦»ç¾¤ç‚¹æ•æ„Ÿ</td>
</tr>
<tr>
<td>DunnæŒ‡æ•°</td>
<td>ç°‡é—´æœ€å°è·ç¦»ä¸ç°‡å†…æœ€å¤§ç›´å¾„çš„æ¯”å€¼</td>
<td>è¶Šå¤§è¶Šå¥½</td>
<td>å¼ºè°ƒç°‡é—´åˆ†ç¦»ä¸ç°‡å†…ç´§å‡‘</td>
<td>è®¡ç®—å¤æ‚ï¼Œå—ç¦»ç¾¤ç‚¹å½±å“</td>
</tr>
<tr>
<td>è½®å»“ç³»æ•°</td>
<td>æ ·æœ¬åˆ°åŒç°‡/å¼‚ç°‡çš„å¹³å‡è·ç¦»å·®</td>
<td>è¶Šæ¥è¿‘ 1 è¶Šå¥½</td>
<td>å¿«é€Ÿè¯„ä¼°ï¼Œé€‚åˆ K-Means</td>
<td>å¯¹éçƒå½¢ç°‡ä¸æ•æ„Ÿ</td>
</tr>
</tbody>
</table>
</div>
<h4 id="åŸå‹èšç±»ä¸kmeans"><a href="#åŸå‹èšç±»ä¸kmeans" class="headerlink" title="åŸå‹èšç±»ä¸kmeans"></a>åŸå‹èšç±»ä¸kmeans</h4><h5 id="åŸå‹èšç±»"><a href="#åŸå‹èšç±»" class="headerlink" title="åŸå‹èšç±»"></a>åŸå‹èšç±»</h5><p>åŸå‹èšç±»å³â€œ<strong>åŸºäºåŸå‹çš„èšç±»</strong>â€ï¼ˆprototype-based clusteringï¼‰ï¼ŒåŸå‹è¡¨ç¤ºæ¨¡æ¿çš„æ„æ€ï¼Œå°±æ˜¯é€šè¿‡å‚è€ƒä¸€ä¸ªæ¨¡æ¿å‘é‡æˆ–æ¨¡æ¿åˆ†å¸ƒçš„æ–¹å¼æ¥å®Œæˆèšç±»çš„è¿‡ç¨‹ï¼Œé€šå¸¸æƒ…å½¢ä¸‹ç®—æ³•å…ˆå¯¹åŸå‹è¿›è¡Œåˆå§‹åŒ–,ç„¶åå¯¹åŸå‹è¿›è¡Œè¿­ä»£æ›´æ–°æ±‚è§£ã€‚é‡‡ç”¨ä¸åŒçš„åŸå‹è¡¨ã€ä¸åŒçš„æ±‚è§£æ–¹å¼,å°†äº§ç”Ÿä¸åŒçš„ç®—æ³•ã€‚</p>
<p>å¸¸è§çš„K-Meansä¾¿æ˜¯åŸºäºç°‡ä¸­å¿ƒï¼ˆåŸå‹å‘é‡ï¼‰æ¥å®ç°èšç±»ï¼Œæ··åˆé«˜æ–¯èšç±»åˆ™æ˜¯åŸºäºç°‡åˆ†å¸ƒï¼ˆæ¦‚ç‡æ¨¡å‹ï¼‰æ¥å®ç°èšç±»ã€‚</p>
<h5 id="K-Means-èšç±»ç®—æ³•è¯¦è§£"><a href="#K-Means-èšç±»ç®—æ³•è¯¦è§£" class="headerlink" title="K-Means èšç±»ç®—æ³•è¯¦è§£"></a><strong>K-Means èšç±»ç®—æ³•è¯¦è§£</strong></h5><p><strong>ç›®æ ‡å‡½æ•°</strong>ï¼šæœ€å°åŒ–æ‰€æœ‰æ ·æœ¬åˆ°å…¶æ‰€å±ç°‡ä¸­å¿ƒçš„å¹³æ–¹è·ç¦»ä¹‹å’Œï¼š  </p>
<script type="math/tex; mode=display">
E = \sum_{i=1}^{k} \sum_{\boldsymbol{x} \in C_i} \|\boldsymbol{x} - \boldsymbol{\mu}_i\|_2^2</script><p>å…¶ä¸­ï¼Œ$ \boldsymbol{\mu}<em>i = \frac{1}{|C_i|} \sum</em>{\boldsymbol{x} \in C_i} \boldsymbol{x} $ æ˜¯ç°‡ $ C_i $ çš„å‡å€¼å‘é‡ã€‚</p>
<p><strong>ç®—æ³•æ­¥éª¤</strong></p>
<ol>
<li><strong>åˆå§‹åŒ–ç°‡ä¸­å¿ƒ</strong>ï¼šéšæœºé€‰æ‹© $ k $ ä¸ªæ ·æœ¬ä½œä¸ºåˆå§‹ç°‡ä¸­å¿ƒã€‚  <ul>
<li><strong>æ”¹è¿›æ–¹æ³•</strong>ï¼šK-Means++ ç®—æ³•å¯æå‡åˆå§‹ä¸­å¿ƒçš„è´¨é‡ã€‚  </li>
</ul>
</li>
<li><strong>åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘ç°‡</strong>ï¼šå¯¹æ¯ä¸ªæ ·æœ¬ $ \boldsymbol{x} $ï¼Œè®¡ç®—å…¶åˆ°æ‰€æœ‰ç°‡ä¸­å¿ƒçš„è·ç¦»ï¼Œå°†å…¶åˆ†é…åˆ°è·ç¦»æœ€è¿‘çš„ç°‡ $ C_i $ã€‚  </li>
<li><strong>æ›´æ–°ç°‡ä¸­å¿ƒ</strong>ï¼šé‡æ–°è®¡ç®—æ¯ä¸ªç°‡çš„å‡å€¼å‘é‡ $ \boldsymbol{\mu}_i $ã€‚  </li>
<li><strong>è¿­ä»£ç»ˆæ­¢æ¡ä»¶</strong>ï¼š  <ul>
<li>è¾¾åˆ°é¢„è®¾çš„æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼›  </li>
<li>ç°‡ä¸­å¿ƒä¸å†æ˜¾è‘—å˜åŒ–ï¼ˆå¦‚å˜åŒ–å¹…åº¦å°äºé˜ˆå€¼ $ \epsilon $ï¼‰ï¼›  </li>
<li>æ ·æœ¬åˆ†é…ä¸å†æ”¹å˜ã€‚</li>
</ul>
</li>
</ol>
<p><strong>å¦‚ä½•é€‰æ‹© $ k $ å€¼ï¼Ÿ</strong></p>
<ul>
<li><strong>è‚˜éƒ¨æ³•åˆ™ï¼ˆElbow Methodï¼‰</strong>ï¼šç»˜åˆ¶ $ k $ ä¸è¯¯å·® $ E $ çš„å…³ç³»æ›²çº¿ï¼Œé€‰æ‹©è¯¯å·®ä¸‹é™æ˜¾è‘—å˜ç¼“çš„ $ k $ å€¼ã€‚  </li>
<li><strong>è½®å»“ç³»æ•°ï¼ˆSilhouette Coefficientï¼‰</strong>ï¼šè®¡ç®—æ¯ä¸ªæ ·æœ¬çš„è½®å»“ç³»æ•°ï¼Œé€‰æ‹©å¹³å‡è½®å»“ç³»æ•°æœ€å¤§çš„ $ k $ã€‚  </li>
</ul>
<h5 id="K-Meansçš„ç®—æ³•æµç¨‹"><a href="#K-Meansçš„ç®—æ³•æµç¨‹" class="headerlink" title="K-Meansçš„ç®—æ³•æµç¨‹"></a>K-Meansçš„ç®—æ³•æµç¨‹</h5><p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607114743211.png" alt="image-20250607114743211"></p>
<h5 id="K-means"><a href="#K-means" class="headerlink" title="K-means++"></a>K-means++</h5><p>æ­¤æ³•ç›¸å¯¹äº K-means åšå‡ºäº†ä¸€ä¸ªå°çš„æ”¹è¿›ã€‚åœ¨ä¸€å¼€å§‹é€‰æ‹© k ä¸ªèšç±»ä¸­å¿ƒæ—¶ï¼Œå¹¶ä¸æ˜¯éšæœºåˆå§‹åŒ– k ä¸ªï¼Œè€Œæ˜¯é¦–å…ˆéšæœºå‡º 1 ä¸ªï¼Œç„¶åå¾ªç¯ kâˆ’1<em>k</em>âˆ’1 æ¬¡é€‰æ‹©å‰©ä¸‹çš„ k-1 ä¸ªèšç±»ä¸­å¿ƒã€‚é€‰æ‹©çš„è§„åˆ™æ˜¯ï¼šæ¯æ¬¡é€‰æ‹©æœ€ä¸å¯èƒ½æˆä¸ºæ–°çš„èšç±»ä¸­å¿ƒçš„æ ·æœ¬ï¼Œæˆ–è€…æ˜¯åˆ°æ‰€æœ‰èšç±»ä¸­å¿ƒçš„æœ€å°è·ç¦»æœ€å¤§çš„æ ·æœ¬ã€‚</p>
<h5 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a><strong>ä¼˜åŠ¿</strong></h5><p><strong>é¿å…ä¸è‰¯åˆå§‹åŒ–</strong> ï¼šä¼ ç»ŸK-meanséšæœºåˆå§‹åŒ–å¯èƒ½å¯¼è‡´ä¸­å¿ƒè¿‡äºé›†ä¸­ï¼Œè€ŒK-means++é€šè¿‡â€œæœ€å¤§åŒ–æœ€å°è·ç¦»â€ç­–ç•¥ï¼Œä½¿åˆå§‹ä¸­å¿ƒåˆ†å¸ƒæ›´å‡åŒ€ã€‚</p>
<h5 id="Bisecting-K-means"><a href="#Bisecting-K-means" class="headerlink" title="Bisecting K-means"></a>Bisecting K-means</h5><p>æ­¤æ³•å«åšäºŒåˆ† K-means ç®—æ³•ã€‚å…·ä½“çš„ï¼Œåœ¨ä¸€å¼€å§‹å°†æ‰€æœ‰çš„æ ·æœ¬åˆ’åˆ†ä¸ºä¸€ä¸ªç°‡ï¼Œç„¶åæ¯æ¬¡é€‰æ‹©ä¸€ä¸ªè¯¯å·®æœ€å¤§çš„ç°‡è¿›è¡ŒäºŒåˆ†è£‚ï¼Œä¸æ–­åˆ†è£‚ç›´åˆ°æ”¶æ•›ã€‚è¿™ç§æ–¹æ³•ä¸èƒ½ä½¿å¾— Loss æœ€å°ï¼Œä½†æ˜¯å¯ä»¥ä½œä¸º K-means ç®—æ³•çš„ä¸€ä¸ªé¢„çƒ­ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•å¾—åˆ°ä¸€ä¸ªç›¸å¯¹åˆç†çš„ç°‡ä¸­å¿ƒï¼Œç„¶åå†åˆ©ç”¨ K-means ç®—æ³•è¿›è¡Œèšç±»ã€‚</p>
<h5 id="ä¼˜åŠ¿-1"><a href="#ä¼˜åŠ¿-1" class="headerlink" title="ä¼˜åŠ¿"></a><strong>ä¼˜åŠ¿</strong></h5><p><strong>é™ä½è®¡ç®—å¤æ‚åº¦</strong> ï¼šæ¯æ¬¡ä»…å¯¹ä¸€ä¸ªç°‡è¿›è¡ŒäºŒåˆ†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(<em>k</em>â‹…<em>m</em>â‹…<em>n</em>) ï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®ã€‚</p>
<p><strong>æä¾›åˆç†åˆå§‹ä¸­å¿ƒ</strong> ï¼šå¯ä½œä¸ºä¼ ç»ŸK-meansçš„é¢„å¤„ç†ï¼Œå‡å°‘éšæœºåˆå§‹åŒ–çš„å½±å“ã€‚</p>
<h5 id="LVQï¼ˆå­¦ä¹ å‘é‡é‡åŒ–ï¼‰"><a href="#LVQï¼ˆå­¦ä¹ å‘é‡é‡åŒ–ï¼‰" class="headerlink" title="LVQï¼ˆå­¦ä¹ å‘é‡é‡åŒ–ï¼‰"></a><strong>LVQï¼ˆå­¦ä¹ å‘é‡é‡åŒ–ï¼‰</strong></h5><p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼š<br>LVQ æ˜¯ä¸€ç§<strong>æœ‰ç›‘ç£çš„åŸå‹èšç±»ç®—æ³•</strong>ï¼Œç»“åˆäº†ç¥ç»ç½‘ç»œä¸å‘é‡é‡åŒ–æŠ€æœ¯ã€‚å®ƒé€šè¿‡ç»´æŠ¤ä¸€ç»„<strong>åŸå‹å‘é‡</strong>ï¼ˆPrototype Vectorsï¼‰æ¥ä»£è¡¨ä¸åŒç±»åˆ«ï¼Œå¹¶åˆ©ç”¨è¿™äº›åŸå‹å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»æˆ–èšç±»ã€‚ä¸ K-Means ç±»ä¼¼ï¼ŒLVQ ä¼šä¸ºæ¯ä¸ªç°‡åˆ†é…ä¸€ä¸ªåŸå‹å‘é‡ï¼Œä½†å…¶æ›´æ–°è§„åˆ™å—ç±»åˆ«æ ‡ç­¾çš„æŒ‡å¯¼ï¼Œå› æ­¤æ›´é€‚ç”¨äºåˆ†ç±»ä»»åŠ¡ ã€‚</p>
<p><strong>ç®—æ³•ç‰¹ç‚¹</strong>ï¼š  </p>
<ul>
<li><strong>æœ‰ç›‘ç£å­¦ä¹ </strong>ï¼šéœ€è¦å·²çŸ¥ç±»åˆ«æ ‡ç­¾æ¥è°ƒæ•´åŸå‹å‘é‡ï¼Œä½¿åŒç±»æ ·æœ¬æ›´æ¥è¿‘å¯¹åº”åŸå‹ï¼Œå¼‚ç±»æ ·æœ¬è¿œç¦»åŸå‹ã€‚  </li>
<li><strong>æ‹“æ‰‘ç»“æ„å»ºæ¨¡</strong>ï¼šé€šè¿‡åŸå‹å‘é‡æ•æ‰æ•°æ®çš„å±€éƒ¨ç‰¹å¾ï¼Œç±»ä¼¼äºè‡ªç»„ç»‡æ˜ å°„ï¼ˆSOMï¼‰ï¼Œä½†æ›´å…·é’ˆå¯¹æ€§ã€‚  </li>
<li><strong>ç¡¬èšç±»</strong>ï¼šæ¯ä¸ªæ ·æœ¬æœ€ç»ˆè¢«åˆ†é…åˆ°æœ€è¿‘çš„åŸå‹å¯¹åº”çš„ç±»åˆ«ï¼Œä¸æä¾›æ¦‚ç‡è¾“å‡º ã€‚</li>
</ul>
<h5 id="é«˜æ–¯æ··åˆèšç±»ï¼ˆGaussian-Mixture-Model-GMMï¼‰"><a href="#é«˜æ–¯æ··åˆèšç±»ï¼ˆGaussian-Mixture-Model-GMMï¼‰" class="headerlink" title="é«˜æ–¯æ··åˆèšç±»ï¼ˆGaussian Mixture Model, GMMï¼‰"></a><strong>é«˜æ–¯æ··åˆèšç±»ï¼ˆGaussian Mixture Model, GMMï¼‰</strong></h5><p> ä¸€å¥è¯æ¦‚è¿°ç®—æ³•ï¼šé«˜æ–¯æ··åˆèšç±»ç®—æ³•æ˜¯ä¸€ç§æ¦‚ç‡æ¨¡å‹ï¼Œå‡è®¾æ•°æ®ç”±å¤šä¸ªé«˜æ–¯åˆ†å¸ƒæ··åˆè€Œæˆï¼Œé€šè¿‡è¿­ä»£ä¼˜åŒ–å‚æ•°ä»¥æ‹Ÿåˆæ•°æ®åˆ†å¸ƒï¼Œå¸¸ç”¨äºæ— ç›‘ç£å­¦ä¹ ä¸­çš„èšç±»ä»»åŠ¡ã€‚</p>
<p>ç®—æ³•è¿‡ç¨‹ï¼š</p>
<p>åˆå§‹åŒ–å‚æ•°ï¼š éšæœºåˆå§‹åŒ–æ¯ä¸ªåˆ†é‡çš„å‡å€¼ã€åæ–¹å·®çŸ©é˜µå’Œæ··åˆç³»æ•°ã€‚</p>
<p>E æ­¥ï¼ˆExpectationï¼‰ï¼š å¯¹æ¯ä¸ªæ•°æ®ç‚¹ï¼Œè®¡ç®—å®ƒå±äºæ¯ä¸ªåˆ†é‡çš„åéªŒæ¦‚ç‡ï¼Œå³è®¡ç®—æ¯ä¸ªåˆ†é‡çš„æƒé‡ã€‚</p>
<p>M æ­¥ï¼ˆMaximizationï¼‰ï¼š ä½¿ç”¨Eæ­¥è®¡ç®—å¾—åˆ°çš„åéªŒæ¦‚ç‡ï¼Œæ›´æ–°æ¯ä¸ªåˆ†é‡çš„å‡å€¼ã€åæ–¹å·®çŸ©é˜µå’Œæ··åˆç³»æ•°ã€‚</p>
<p>è¿­ä»£ï¼š é‡å¤æ‰§è¡ŒEæ­¥å’ŒMæ­¥ï¼Œç›´åˆ°æ¨¡å‹å‚æ•°æ”¶æ•›æˆ–è¾¾åˆ°é¢„å®šçš„è¿­ä»£æ¬¡æ•°ã€‚</p>
<p>GMMçš„ä¼˜ç‚¹åŒ…æ‹¬å¯¹å„ç§å½¢çŠ¶å’Œæ–¹å‘çš„èšç±»ç°‡å»ºæ¨¡èƒ½åŠ›ï¼Œä»¥åŠå¯¹æ•°æ®åˆ†å¸ƒçš„çµæ´»æ€§ã€‚å®ƒåœ¨è®¸å¤šé¢†åŸŸï¼Œå¦‚æ¨¡å¼è¯†åˆ«ã€å›¾åƒå¤„ç†å’Œè‡ªç„¶è¯­è¨€å¤„ç†ç­‰ï¼Œéƒ½æœ‰å¹¿æ³›çš„åº”ç”¨ã€‚<br><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250611180451162.png" alt="image-20250611180451162"></p>
<p>ä»¥ä¸‹æ˜¯é«˜æ–¯æ··åˆèšç±»ï¼ˆGMMï¼‰ç®—æ³•çš„è¯¦ç»†æ­¥éª¤åŠEMç®—æ³•ä¸­Eæ­¥ä¸Mæ­¥çš„è§£é‡Šï¼š</p>
<p><strong>ç®—æ³•æµç¨‹è§£æ</strong></p>
<p><strong>è¾“å…¥</strong>ï¼šæ ·æœ¬é›† $ D = {x_1, x_2, \dots, x_m} $ï¼Œæ··åˆæˆåˆ†ä¸ªæ•° $ k $ã€‚<br><strong>è¾“å‡º</strong>ï¼šç°‡åˆ’åˆ† $ C = {C_1, C_2, \dots, C_k} $ã€‚</p>
<p><strong>æ­¥éª¤è¯¦è§£</strong></p>
<ol>
<li><p><strong>åˆå§‹åŒ–æ¨¡å‹å‚æ•°</strong><br>éšæœºåˆå§‹åŒ–æˆ–é€šè¿‡K-meansåˆæ­¥ä¼°è®¡ä»¥ä¸‹å‚æ•°ï¼š</p>
<ul>
<li><strong>æ··åˆç³»æ•°</strong> $ \alpha<em>i $ï¼ˆæ»¡è¶³ $ \sum</em>{i=1}^k \alpha_i = 1 $ï¼‰ã€‚</li>
<li><strong>å‡å€¼å‘é‡</strong> $ \mu_i $ã€‚</li>
<li><strong>åæ–¹å·®çŸ©é˜µ</strong> $ \Sigma_i $ã€‚</li>
</ul>
</li>
<li><p><strong>è¿­ä»£ä¼˜åŒ–å‚æ•°ï¼ˆEMå¾ªç¯ï¼‰</strong><br>é‡å¤ä»¥ä¸‹æ­¥éª¤ç›´åˆ°æ”¶æ•›ï¼ˆå¦‚å¯¹æ•°ä¼¼ç„¶å˜åŒ–å°äºé˜ˆå€¼ï¼‰ï¼š</p>
<ul>
<li><p><strong>Eæ­¥ï¼ˆæœŸæœ›æ­¥ï¼‰</strong>ï¼š<br>å¯¹æ¯ä¸ªæ ·æœ¬ $ x<em>j $ï¼Œè®¡ç®—å…¶ç”±ç¬¬ $ i $ ä¸ªé«˜æ–¯åˆ†å¸ƒç”Ÿæˆçš„<strong>åéªŒæ¦‚ç‡</strong>ï¼ˆè´£ä»»åº¦ $ \gamma</em>{ji} $ï¼‰ï¼š</p>
<script type="math/tex; mode=display">
\gamma_{ji} = p(z_j = i | x_j) = \frac{\alpha_i \mathcal{N}(x_j | \mu_i, \Sigma_i)}{\sum_{l=1}^k \alpha_l \mathcal{N}(x_j | \mu_l, \Sigma_l)}</script><p>å…¶ä¸­ $ \mathcal{N}(x | \mu, \Sigma) $ æ˜¯é«˜æ–¯åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚</p>
</li>
<li><p><strong>Mæ­¥ï¼ˆæœ€å¤§åŒ–æ­¥ï¼‰</strong>ï¼š<br>æ ¹æ®å½“å‰çš„è´£ä»»åº¦ $ \gamma_{ji} $ï¼Œæ›´æ–°æ¨¡å‹å‚æ•°ï¼š</p>
<ol>
<li><strong>æ–°å‡å€¼å‘é‡</strong>ï¼š<script type="math/tex; mode=display">
\mu_i' = \frac{\sum_{j=1}^m \gamma_{ji} x_j}{\sum_{j=1}^m \gamma_{ji}}</script></li>
<li><strong>æ–°åæ–¹å·®çŸ©é˜µ</strong>ï¼š<script type="math/tex; mode=display">
\Sigma_i' = \frac{\sum_{j=1}^m \gamma_{ji} (x_j - \mu_i')(x_j - \mu_i')^\top}{\sum_{j=1}^m \gamma_{ji}}</script></li>
<li><strong>æ–°æ··åˆç³»æ•°</strong>ï¼š<script type="math/tex; mode=display">
\alpha_i' = \frac{\sum_{j=1}^m \gamma_{ji}}{m}</script></li>
</ol>
</li>
</ul>
</li>
<li><p><strong>ç°‡åˆ’åˆ†</strong>  </p>
<ul>
<li>åˆå§‹åŒ–ç©ºç°‡ $ C_i = \varnothing $ã€‚</li>
<li>å¯¹æ¯ä¸ªæ ·æœ¬ $ x<em>j $ï¼Œè®¡ç®—å…¶å±äºå„ç°‡çš„åéªŒæ¦‚ç‡ $ \lambda_j = \arg\max_i \gamma</em>{ji} $ã€‚</li>
<li>å°† $ x<em>j $ åˆ†é…åˆ°ç°‡ $ C</em>{\lambda_j} $ ä¸­ã€‚</li>
</ul>
</li>
</ol>
<p><strong>Eæ­¥ä¸Mæ­¥çš„æ ¸å¿ƒä½œç”¨</strong></p>
<p><strong>Eæ­¥ï¼ˆæœŸæœ›æ­¥ï¼‰</strong></p>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šåŸºäºå½“å‰å‚æ•° $ (\alpha<em>i, \mu_i, \Sigma_i) $ï¼Œè®¡ç®—æ¯ä¸ªæ ·æœ¬ $ x_j $ å±äºå„é«˜æ–¯åˆ†å¸ƒçš„<strong>è´£ä»»åº¦</strong> $ \gamma</em>{ji} $ã€‚</li>
<li><strong>æ„ä¹‰</strong>ï¼š<ul>
<li>è´£ä»»åº¦åæ˜ äº†åœ¨å½“å‰æ¨¡å‹ä¸‹ï¼Œæ ·æœ¬ $ x_j $ ç”±ç¬¬ $ i $ ä¸ªé«˜æ–¯åˆ†å¸ƒç”Ÿæˆçš„æ¦‚ç‡ã€‚</li>
<li><strong>è½¯åˆ†é…</strong>ï¼šå…è®¸æ ·æœ¬éƒ¨åˆ†å±äºå¤šä¸ªç°‡ï¼Œè€Œéç¡¬åˆ’åˆ†ã€‚</li>
</ul>
</li>
</ul>
<p><strong>Mæ­¥ï¼ˆæœ€å¤§åŒ–æ­¥ï¼‰</strong></p>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šæ ¹æ®è´£ä»»åº¦ $ \gamma_{ji} $ï¼Œé‡æ–°ä¼°è®¡æ¨¡å‹å‚æ•° $ (\alpha_iâ€™, \mu_iâ€™, \Sigma_iâ€™) $ï¼Œä»¥æœ€å¤§åŒ–æ•°æ®çš„å¯¹æ•°ä¼¼ç„¶ã€‚</li>
<li><strong>å…³é”®å…¬å¼</strong>ï¼š<ul>
<li><strong>å‡å€¼æ›´æ–°</strong>ï¼šåŠ æƒå¹³å‡æ ·æœ¬ç‚¹ï¼Œæƒé‡ä¸ºè´£ä»»åº¦ã€‚</li>
<li><strong>åæ–¹å·®æ›´æ–°</strong>ï¼šåŠ æƒæ ·æœ¬ç‚¹çš„æ–¹å·®ï¼Œåæ˜ ç°‡å†…æ•°æ®åˆ†å¸ƒã€‚</li>
<li><strong>æ··åˆç³»æ•°æ›´æ–°</strong>ï¼šå„ç°‡æ ·æœ¬çš„â€œæœ‰æ•ˆæ•°é‡â€å æ€»æ ·æœ¬çš„æ¯”ä¾‹ã€‚</li>
</ul>
</li>
</ul>
<h4 id="å‚è€ƒèµ„æ–™-1"><a href="#å‚è€ƒèµ„æ–™-1" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/smileyan9/article/details/135398479">è¥¿ç“œä¹¦è¯»ä¹¦ç¬”è®°æ•´ç†ï¼ˆä¹ï¼‰ â€”â€” ç¬¬ä¹ç«  èšç±»_è¥¿ç“œä¹¦ç¬”è®°ç¬¬9ç« -CSDNåšå®¢</a></p>
<h4 id="å¯†åº¦èšç±»ä¸DBSCAN"><a href="#å¯†åº¦èšç±»ä¸DBSCAN" class="headerlink" title="å¯†åº¦èšç±»ä¸DBSCAN"></a>å¯†åº¦èšç±»ä¸DBSCAN</h4><blockquote>
<p>è‹¥æ ·æœ¬åˆ†å¸ƒä¸ºåŒå¿ƒçš„ä¸¤ä¸ªç¯ï¼Œkmeansåˆ™æ— æ³•åšåˆ°è‰¯å¥½çš„èšç±»æ•ˆæœï¼Œå› æ­¤å¼•å‡ºå¯†åº¦èšç±»</p>
</blockquote>
<p>å¯†åº¦èšç±»æ˜¯ä¸€ç§åŸºäº<strong>æ ·æœ¬åˆ†å¸ƒå¯†é›†ç¨‹åº¦</strong>çš„æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>å°†é«˜å¯†åº¦åŒºåŸŸåˆ’åˆ†ä¸ºåŒä¸€ç°‡ï¼Œä½å¯†åº¦åŒºåŸŸè§†ä¸ºå™ªå£°æˆ–è¾¹ç•Œ</strong>ã€‚</p>
<p>DBSCANï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰æ˜¯å¯†åº¦èšç±»çš„å…¸å‹ä»£è¡¨ï¼Œé€šè¿‡ä¸¤ä¸ªå…³é”®å‚æ•° $ \epsilon $ å’Œ $ MinPts $ æè¿°æ ·æœ¬åˆ†å¸ƒçš„ç´§å¯†æ€§ã€‚</p>
<h5 id="1-æ ¸å¿ƒæ¦‚å¿µ"><a href="#1-æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="1. æ ¸å¿ƒæ¦‚å¿µ"></a><strong>1. æ ¸å¿ƒæ¦‚å¿µ</strong></h5><ol>
<li><strong>$ \epsilon $-é‚»åŸŸ</strong>  <ul>
<li>å®šä¹‰ï¼šä¸æ ·æœ¬ $ x $ è·ç¦»ä¸è¶…è¿‡ $ \epsilon $ çš„æ‰€æœ‰æ ·æœ¬é›†åˆã€‚  </li>
<li>ä½œç”¨ï¼šè¡¡é‡æ ·æœ¬å‘¨å›´çš„å±€éƒ¨å¯†åº¦ã€‚  </li>
</ul>
</li>
<li><strong>æ ¸å¿ƒå¯¹è±¡ï¼ˆCore Objectï¼‰</strong>  <ul>
<li>å®šä¹‰ï¼šè‹¥æ ·æœ¬ $ x $ çš„ $ \epsilon $-é‚»åŸŸå†…åŒ…å«è‡³å°‘ $ MinPts $ ä¸ªæ ·æœ¬ï¼Œåˆ™ $ x $ æ˜¯æ ¸å¿ƒå¯¹è±¡ã€‚  </li>
<li>ä½œç”¨ï¼šä½œä¸ºç°‡çš„ç”Ÿé•¿èµ·ç‚¹ï¼Œç¡®ä¿ç°‡çš„æœ€å°å¯†åº¦è¦æ±‚ã€‚  </li>
</ul>
</li>
<li><strong>å¯†åº¦ç›´è¾¾ï¼ˆDirectly Density-Reachableï¼‰</strong>  <ul>
<li>å®šä¹‰ï¼šè‹¥æ ·æœ¬ $ x_j $ ä½äºæ ¸å¿ƒå¯¹è±¡ $ x_i $ çš„ $ \epsilon $-é‚»åŸŸå†…ï¼Œåˆ™ç§° $ x_i $ å¯å¯†åº¦ç›´è¾¾ $ x_j $ã€‚  </li>
<li>ä½œç”¨ï¼šå»ºç«‹æ ¸å¿ƒå¯¹è±¡ä¸é‚»è¿‘æ ·æœ¬çš„ç›´æ¥è¿æ¥ã€‚  </li>
</ul>
</li>
<li><strong>å¯†åº¦å¯è¾¾ï¼ˆDensity-Reachableï¼‰</strong>  <ul>
<li>å®šä¹‰ï¼šè‹¥å­˜åœ¨æ ·æœ¬åºåˆ— $ x<em>i, p_1, p_2, \dots, p_n, x_j $ï¼Œå…¶ä¸­ $ p_i $ å¯†åº¦ç›´è¾¾ $ p</em>{i+1} $ï¼Œåˆ™ç§° $ x_i $ å¯å¯†åº¦å¯è¾¾ $ x_j $ã€‚  </li>
<li>ä½œç”¨ï¼šé€šè¿‡é“¾å¼ä¼ é€’æ‰©å±•ç°‡çš„èŒƒå›´ã€‚  </li>
</ul>
</li>
<li><strong>å¯†åº¦ç›¸è¿ï¼ˆDensity-Connectedï¼‰</strong>  <ul>
<li>å®šä¹‰ï¼šè‹¥æ ·æœ¬ $ x_i $ å’Œ $ x_j $ å‡å¯å¯†åº¦å¯è¾¾æŸä¸ªå…¬å…±æ ·æœ¬ $ x_k $ï¼Œåˆ™ç§° $ x_i $ å’Œ $ x_j $ å¯†åº¦ç›¸è¿ã€‚  </li>
<li>ä½œç”¨ï¼šç¡®ä¿ç°‡çš„è¿é€šæ€§ï¼Œé¿å…ç¢ç‰‡åŒ–ã€‚  </li>
</ul>
</li>
</ol>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607124326529.png" alt="image-20250607124326529"></p>
<p><strong>DBSCNå®šä¹‰çš„ç°‡</strong></p>
<ul>
<li>å®šä¹‰ï¼šæœ€å¤§å¯†åº¦ç›¸è¿çš„æ ·æœ¬é›†åˆä¸ºä¸€ä¸ªç°‡</li>
<li>æœ‰ä¸¤ä¸ªæ€§è´¨ï¼š1.è¿æ¥æ€§ï¼šåŒä¸€ä¸ªç°‡å†…ä»»æ„ä¸¤æ ·æœ¬ï¼Œå¿…ç„¶å¯†åº¦ç›¸è¿2.æœ€å¤§æ€§ï¼šå¯†åº¦å¯è¾¾çš„ä¸¤ä¸ªæ ·æœ¬å¿…<br>å®šå±äºåŒä¸€ä¸ªç°‡</li>
</ul>
<h5 id="2-DBSCAN-ç®—æ³•æµç¨‹"><a href="#2-DBSCAN-ç®—æ³•æµç¨‹" class="headerlink" title="2. DBSCAN ç®—æ³•æµç¨‹"></a><strong>2. DBSCAN ç®—æ³•æµç¨‹</strong></h5><p>ç®€å•æ¥ç†è§£DBSCANï¼š<strong>æ‰¾å‡ºä¸€ä¸ªæ ¸å¿ƒå¯¹è±¡æ‰€æœ‰å¯†åº¦å¯è¾¾çš„æ ·æœ¬é›†åˆå½¢æˆç°‡</strong>ã€‚é¦–å…ˆä»æ•°æ®é›†ä¸­ä»»é€‰ä¸€ä¸ªæ ¸å¿ƒå¯¹è±¡Aï¼Œæ‰¾å‡ºæ‰€æœ‰Aå¯†åº¦å¯è¾¾çš„æ ·æœ¬é›†åˆï¼Œå°†è¿™äº›æ ·æœ¬å½¢æˆä¸€ä¸ªå¯†åº¦ç›¸è¿çš„ç±»ç°‡ï¼Œç›´åˆ°æ‰€æœ‰çš„æ ¸å¿ƒå¯¹è±¡éƒ½éå†å®Œã€‚DBSCANç®—æ³•çš„æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607124446432.png" alt="image-20250607124446432"></p>
<h5 id="3-å‚æ•°é€‰æ‹©ä¸å½±å“"><a href="#3-å‚æ•°é€‰æ‹©ä¸å½±å“" class="headerlink" title="3. å‚æ•°é€‰æ‹©ä¸å½±å“"></a><strong>3. å‚æ•°é€‰æ‹©ä¸å½±å“</strong></h5><ul>
<li><p><strong>$ \epsilon $ï¼ˆé‚»åŸŸåŠå¾„ï¼‰</strong>ï¼š  </p>
<ul>
<li>è¿‡å°ï¼šå¯èƒ½å¯¼è‡´å¤šæ•°æ ·æœ¬è¢«æ ‡è®°ä¸ºå™ªå£°ï¼Œç°‡æ•°é‡å¢åŠ ã€‚  </li>
<li>è¿‡å¤§ï¼šå¯èƒ½å¯¼è‡´ä¸åŒç°‡åˆå¹¶ï¼Œç°‡æ•°é‡å‡å°‘ã€‚  </li>
<li><strong>é€‰æ‹©æ–¹æ³•</strong>ï¼šé€šè¿‡<strong>K-Distanceå›¾</strong>ï¼ˆæ’åºåçš„ç¬¬ $ k $ è¿‘é‚»è·ç¦»ï¼‰è§‚å¯Ÿâ€œæ‹ç‚¹â€ã€‚  </li>
</ul>
</li>
<li><p><strong>$ MinPts $ï¼ˆæœ€å°æ ·æœ¬æ•°ï¼‰</strong>ï¼š  </p>
<ul>
<li>æ§åˆ¶ç°‡çš„æœ€å°å¯†åº¦é˜ˆå€¼ã€‚  </li>
<li>é€šå¸¸å– $ d+1 $ï¼ˆ$ d $ ä¸ºç‰¹å¾ç»´åº¦ï¼‰ï¼Œé¿å…åœ¨é«˜ç»´ç©ºé—´ä¸­è¯¯åˆ¤å™ªå£°ã€‚  </li>
</ul>
</li>
</ul>
<h4 id="å±‚æ¬¡èšç±»ä¸AGNES"><a href="#å±‚æ¬¡èšç±»ä¸AGNES" class="headerlink" title="å±‚æ¬¡èšç±»ä¸AGNES"></a>å±‚æ¬¡èšç±»ä¸AGNES</h4><p>å±‚æ¬¡èšç±»æ˜¯ä¸€ç§é€šè¿‡æ„å»º<strong>æ ‘çŠ¶ç»“æ„ï¼ˆDendrogramï¼‰</strong>å°†æ•°æ®åˆ’åˆ†ä¸ºä¸åŒå±‚æ¬¡çš„èšç±»æ–¹æ³•ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š  </p>
<ul>
<li><strong>å‡èšå‹ï¼ˆAgglomerativeï¼‰</strong>ï¼šä»æ¯ä¸ªæ ·æœ¬ä½œä¸ºä¸€ä¸ªç‹¬ç«‹ç°‡å¼€å§‹ï¼Œé€æ­¥åˆå¹¶æœ€ç›¸ä¼¼çš„ç°‡ï¼Œç›´åˆ°è¾¾åˆ°é¢„è®¾çš„ç°‡æ•°æˆ–å½¢æˆä¸€ä¸ªå”¯ä¸€ç°‡ã€‚  </li>
<li><strong>åˆ†è£‚å‹ï¼ˆDivisiveï¼‰</strong>ï¼šä¸å‡èšå‹ç›¸åï¼Œä»æ•´ä¸ªæ•°æ®é›†ä½œä¸ºä¸€ä¸ªç°‡å¼€å§‹ï¼Œé€æ­¥åˆ†è£‚ä¸ºæ›´å°çš„ç°‡ã€‚  </li>
</ul>
<p>æœ¬èŠ‚é‡ç‚¹ä»‹ç»<strong>AGNESï¼ˆAgglomerative Nestingï¼‰</strong>ï¼Œä¸€ç§ç»å…¸çš„è‡ªåº•å‘ä¸Šçš„å±‚æ¬¡èšç±»ç®—æ³•ã€‚</p>
<h5 id="1-AGNES-ç®—æ³•æµç¨‹"><a href="#1-AGNES-ç®—æ³•æµç¨‹" class="headerlink" title="1. AGNES ç®—æ³•æµç¨‹"></a><strong>1. AGNES ç®—æ³•æµç¨‹</strong></h5><ol>
<li><strong>åˆå§‹åŒ–</strong>ï¼šæ¯ä¸ªæ ·æœ¬ä½œä¸ºä¸€ä¸ªç‹¬ç«‹ç°‡ã€‚  </li>
<li><strong>è¿­ä»£åˆå¹¶</strong>ï¼š  <ul>
<li>è®¡ç®—æ‰€æœ‰ç°‡å¯¹ä¹‹é—´çš„è·ç¦»ã€‚  </li>
<li>åˆå¹¶è·ç¦»æœ€è¿‘çš„ä¸¤ä¸ªç°‡ã€‚  </li>
</ul>
</li>
<li><strong>ç»ˆæ­¢æ¡ä»¶</strong>ï¼š  <ul>
<li>è¾¾åˆ°é¢„è®¾çš„ç°‡æ•° $ k $ï¼›  </li>
<li>æ‰€æœ‰ç°‡ä¹‹é—´çš„è·ç¦»å¤§äºé˜ˆå€¼ã€‚  </li>
</ul>
</li>
</ol>
<h5 id="2-ç°‡é—´è·ç¦»çš„å®šä¹‰"><a href="#2-ç°‡é—´è·ç¦»çš„å®šä¹‰" class="headerlink" title="2. ç°‡é—´è·ç¦»çš„å®šä¹‰"></a><strong>2. ç°‡é—´è·ç¦»çš„å®šä¹‰</strong></h5><p>AGNES çš„å…³é”®åœ¨äºå¦‚ä½•å®šä¹‰<strong>ç°‡é—´è·ç¦»</strong>ï¼Œå¸¸è§çš„ä¸‰ç§æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p><strong>ï¼ˆ1ï¼‰æœ€å°è·ç¦»ï¼ˆSingle Linkageï¼‰</strong></p>
<script type="math/tex; mode=display">
d_{\min}(C_i, C_j) = \min_{\boldsymbol{x} \in C_i, \boldsymbol{z} \in C_j} \text{dist}(\boldsymbol{x}, \boldsymbol{z})</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šä¸¤ä¸ªç°‡ä¹‹é—´æœ€è¿‘çš„ä¸¤ä¸ªæ ·æœ¬çš„è·ç¦»ã€‚  </li>
</ul>
<p><strong>ï¼ˆ2ï¼‰æœ€å¤§è·ç¦»ï¼ˆComplete Linkageï¼‰</strong></p>
<script type="math/tex; mode=display">
d_{\max}(C_i, C_j) = \max_{\boldsymbol{x} \in C_i, \boldsymbol{z} \in C_j} \text{dist}(\boldsymbol{x}, \boldsymbol{z})</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šä¸¤ä¸ªç°‡ä¹‹é—´æœ€è¿œçš„ä¸¤ä¸ªæ ·æœ¬çš„è·ç¦»ã€‚    </li>
</ul>
<p><strong>ï¼ˆ3ï¼‰å¹³å‡è·ç¦»ï¼ˆAverage Linkageï¼‰</strong></p>
<script type="math/tex; mode=display">
d_{\text{avg}}(C_i, C_j) = \frac{1}{|C_i| |C_j|} \sum_{\boldsymbol{x} \in C_i} \sum_{\boldsymbol{z} \in C_j} \text{dist}(\boldsymbol{x}, \boldsymbol{z})</script><ul>
<li><strong>å«ä¹‰</strong>ï¼šä¸¤ä¸ªç°‡æ‰€æœ‰æ ·æœ¬å¯¹è·ç¦»çš„å¹³å‡å€¼ã€‚  </li>
</ul>
<h5 id="å±‚æ¬¡èšç±»æ³•çš„ç®—æ³•æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š"><a href="#å±‚æ¬¡èšç±»æ³•çš„ç®—æ³•æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š" class="headerlink" title="å±‚æ¬¡èšç±»æ³•çš„ç®—æ³•æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š"></a>å±‚æ¬¡èšç±»æ³•çš„ç®—æ³•æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</h5><p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607125338029.png" alt="image-20250607125338029"></p>
<h4 id="ä½œä¸š-2"><a href="#ä½œä¸š-2" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h4><h5 id="1-2"><a href="#1-2" class="headerlink" title="1"></a>1</h5><p>å‡è®¾ä»»åŠ¡æ˜¯å°†ä¸‹é¢8ä¸ªç‚¹èšç±»æˆ3ä¸ªç°‡ï¼šA1(2,10), A2(2,5), A3(8,4), B1(5,8), B2(7,5), B3(6,4), C1(1,2), C3(4,9)ï¼Œè·ç¦»å‡½æ•°æ˜¯æ¬§å¼è·ç¦»ã€‚å‡è®¾åˆå§‹é€‰æ‹©A1ï¼ŒB1ï¼ŒC1åˆ†åˆ«ä½œä¸ºæ¯ä¸ªèšç±»çš„ä¸­å¿ƒï¼Œç”¨Kmeansç®—æ³•ç»™å‡ºè®¡ç®—è¿‡ç¨‹ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607125506436.png" alt="image-20250607125506436"></p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607125606040.png" alt="image-20250607125606040"></p>
<h5 id="2-2"><a href="#2-2" class="headerlink" title="2"></a>2</h5><p>Kmeansåˆå§‹ç±»ç°‡ä¸­å¿ƒå¦‚ä½•é€‰å–ï¼ŸKå€¼å¦‚ä½•ç¡®å®šï¼Ÿè¯·ç®€è¦é˜è¿°ã€‚</p>
<p><strong>ä¸€ã€åˆå§‹ç±»ç°‡ä¸­å¿ƒçš„é€‰å– (å¦‚ä½•é€‰å¥½çš„èµ·å§‹ç‚¹ï¼Ÿ)</strong></p>
<p>ä¼ ç»ŸK-meanséšæœºé€‰æ‹©åˆå§‹ä¸­å¿ƒç‚¹ï¼Œå®¹æ˜“å¯¼è‡´ç»“æœä¸ç¨³å®šï¼ˆå¤šæ¬¡è¿è¡Œç»“æœä¸åŒï¼‰æˆ–é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼ˆæ•ˆæœå·®ï¼‰ã€‚æ”¹è¿›æ–¹æ³•ä¸»è¦æœ‰ï¼š</p>
<ol>
<li><strong>K-means++ (æœ€å¸¸ç”¨ä¸”æ¨è)ï¼š</strong><ul>
<li><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> è®©åˆå§‹ä¸­å¿ƒç‚¹å½¼æ­¤å°½é‡è¿œç¦»ã€‚</li>
<li><strong>æ­¥éª¤ï¼š</strong><ol>
<li>éšæœºé€‰æ‹©<strong>ç¬¬ä¸€ä¸ª</strong>ä¸­å¿ƒç‚¹ã€‚</li>
<li>è®¡ç®—æ¯ä¸ªæ•°æ®ç‚¹åˆ°<strong>å½“å‰å·²é€‰ä¸­å¿ƒç‚¹</strong>çš„æœ€çŸ­è·ç¦»ï¼ˆå³ç¦»æœ€è¿‘ä¸­å¿ƒçš„è·ç¦»ï¼‰ã€‚</li>
<li>ä»¥<strong>ä¸è¿™ä¸ªæœ€çŸ­è·ç¦»å¹³æ–¹æˆæ­£æ¯”</strong>çš„æ¦‚ç‡ï¼Œéšæœºé€‰æ‹©ä¸‹ä¸€ä¸ªä¸­å¿ƒç‚¹ï¼ˆè·ç¦»è¶Šå¤§çš„ç‚¹ï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡è¶Šå¤§ï¼‰ã€‚</li>
<li>é‡å¤æ­¥éª¤2å’Œ3ï¼Œç›´åˆ°é€‰å‡ºKä¸ªä¸­å¿ƒç‚¹ã€‚</li>
</ol>
</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong> æ˜¾è‘—æé«˜èšç±»è´¨é‡å’Œç¨³å®šæ€§ï¼Œè®¡ç®—å¼€é”€å¢åŠ ä¸å¤§ã€‚</li>
</ul>
</li>
<li><strong>å¤šæ¬¡è¿è¡Œ+é€‰å–æœ€ä¼˜ï¼š</strong><ul>
<li>ç‹¬ç«‹è¿è¡ŒK-meansç®—æ³•å¤šæ¬¡ï¼ˆæ¯æ¬¡éšæœºåˆå§‹åŒ–ï¼‰ã€‚</li>
<li>æ¯æ¬¡è¿è¡Œå®Œæˆåï¼Œè®¡ç®—æ‰€æœ‰æ•°æ®ç‚¹ä¸å…¶æ‰€å±ç°‡ä¸­å¿ƒçš„è·ç¦»å¹³æ–¹å’Œï¼ˆSSE, Sum of Squared Errorsï¼‰ã€‚</li>
<li>é€‰æ‹©SSEæœ€å°çš„é‚£æ¬¡è¿è¡Œç»“æœä½œä¸ºæœ€ç»ˆç»“æœã€‚</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong> ç®€å•ï¼Œå¢åŠ æ‰¾åˆ°æ›´å¥½è§£çš„æœºä¼šã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong> è®¡ç®—å¼€é”€éšè¿è¡Œæ¬¡æ•°å¢åŠ ã€‚</li>
</ul>
</li>
<li><strong>åŸºäºæ ·æœ¬å¯†åº¦/è·ç¦»ï¼š</strong><ul>
<li>é€‰æ‹©æ•°æ®ç©ºé—´ä¸­æ ·æœ¬å¯†åº¦é«˜çš„åŒºåŸŸç‚¹ä½œä¸ºä¸­å¿ƒã€‚</li>
<li>æˆ–é€‰æ‹©ç›¸äº’ä¹‹é—´è·ç¦»è¾ƒè¿œçš„ç‚¹ä½œä¸ºä¸­å¿ƒï¼ˆç±»ä¼¼K-means++çš„æ€æƒ³ï¼Œä½†å®ç°æ–¹å¼å¯èƒ½ä¸åŒï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p><strong>äºŒã€Kå€¼ï¼ˆç°‡æ•°é‡ï¼‰çš„ç¡®å®š (å¦‚ä½•çŸ¥é“åˆ†å‡ ç±»ï¼Ÿ)</strong></p>
<p>Kå€¼é€šå¸¸éœ€è¦é¢„å…ˆæŒ‡å®šï¼Œä½†æ²¡æœ‰ç»å¯¹æ­£ç¡®çš„ç­”æ¡ˆã€‚å¸¸ç”¨æ–¹æ³•åŸºäºè¯„ä¼°ä¸åŒKå€¼ä¸‹èšç±»ç»“æœçš„â€œè´¨é‡â€ï¼Œå¯»æ‰¾æ‹ç‚¹æˆ–æœ€ä¼˜å€¼ï¼š</p>
<ol>
<li><strong>è‚˜éƒ¨æ³•åˆ™ï¼š</strong><ul>
<li><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> éšç€Kå¢å¤§ï¼Œç°‡å†…æ ·æœ¬èšåˆæ›´ç´§å¯†ï¼Œç°‡å†…å¹³æ–¹å’Œè¯¯å·®ï¼ˆSSEï¼‰ä¼šä¸‹é™ï¼Œä½†ä¸‹é™å¹…åº¦ä¼šé€æ¸å˜ç¼“ã€‚æ‰¾åˆ°SSEä¸‹é™é€Ÿç‡å‘ç”Ÿæ˜¾è‘—å˜åŒ–çš„â€œè‚˜ç‚¹â€ã€‚</li>
<li><strong>åšæ³•ï¼š</strong> è®¡ç®—ä¸åŒKå€¼ï¼ˆå¦‚K=1, 2, 3, â€¦, maxï¼‰å¯¹åº”çš„SSEã€‚ç»˜åˆ¶<code>Kå€¼ - SSE</code>æ›²çº¿å›¾ã€‚è§‚å¯Ÿæ›²çº¿ï¼Œå¯»æ‰¾SSEä¸‹é™å¹…åº¦çªç„¶å˜å¾—å¹³ç¼“çš„é‚£ä¸ªKå€¼ï¼ˆå½¢å¦‚æ‰‹è‡‚çš„â€œè‚˜å…³èŠ‚â€ï¼‰ã€‚</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong> ç›´è§‚ã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong> â€œè‚˜ç‚¹â€æœ‰æ—¶ä¸æ˜æ˜¾æˆ–ä¸å­˜åœ¨ï¼Œéœ€è¦ä¸»è§‚åˆ¤æ–­ã€‚</li>
</ul>
</li>
<li><strong>è½®å»“ç³»æ•°ï¼š</strong><ul>
<li><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> ç»¼åˆè¡¡é‡ä¸€ä¸ªæ ·æœ¬ä¸å…¶è‡ªèº«ç°‡çš„ç´§å¯†åº¦(<code>a</code>)å’Œä¸å…¶ä»–ç°‡çš„åˆ†ç¦»åº¦(<code>b</code>)ã€‚</li>
<li><strong>è®¡ç®—ï¼š</strong> å¯¹äºæ¯ä¸ªæ ·æœ¬iï¼š<ul>
<li><code>a(i)</code> = i åˆ°åŒç°‡å†…æ‰€æœ‰å…¶ä»–ç‚¹çš„å¹³å‡è·ç¦»ï¼ˆç°‡å†…ä¸ç›¸ä¼¼åº¦ï¼‰ã€‚</li>
<li><code>b(i)</code> = i åˆ°æ‰€æœ‰<strong>å…¶ä»–ç°‡</strong>ä¸­ç‚¹çš„å¹³å‡è·ç¦»çš„æœ€å°å€¼ï¼ˆæœ€è¿‘é‚»ç°‡çš„ä¸ç›¸ä¼¼åº¦ï¼‰ã€‚</li>
<li>æ ·æœ¬içš„è½®å»“ç³»æ•°ï¼š<code>s(i) = (b(i) - a(i)) / max(a(i), b(i))</code>ã€‚å€¼åœ¨[-1, 1]ä¹‹é—´ã€‚</li>
</ul>
</li>
<li><strong>æ•´ä½“è¯„ä¼°ï¼š</strong> è®¡ç®—æ‰€æœ‰æ ·æœ¬è½®å»“ç³»æ•°çš„å¹³å‡å€¼ï¼Œä½œä¸ºè¯¥Kå€¼ä¸‹èšç±»çš„æ•´ä½“è½®å»“ç³»æ•°ã€‚</li>
<li><strong>é€‰æ‹©Kï¼š</strong> å°è¯•ä¸åŒKå€¼ï¼Œé€‰æ‹©<strong>å¹³å‡è½®å»“ç³»æ•°æœ€å¤§</strong>å¯¹åº”çš„Kå€¼ã€‚è½®å»“ç³»æ•°è¶Šæ¥è¿‘1ï¼Œè¡¨ç¤ºèšç±»æ•ˆæœè¶Šå¥½ï¼ˆç°‡å†…ç´§å‡‘ï¼Œç°‡é—´åˆ†ç¦»ï¼‰ã€‚</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong> é‡åŒ–è¯„ä¼°ï¼Œç»“æœåœ¨[-1, 1]ä¹‹é—´æœ‰ç•Œã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong> è®¡ç®—é‡è¾ƒå¤§ï¼Œå°¤å…¶å¯¹äºå¤§æ•°æ®é›†ã€‚</li>
</ul>
</li>
</ol>
<h4 id="å‚è€ƒèµ„æ–™-2"><a href="#å‚è€ƒèµ„æ–™-2" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com.cn/developer/article/1802143">ã€Šæœºå™¨å­¦ä¹ ã€‹â€” ç¬¬ä¹ç«  èšç±»-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘</a></p>
<h3 id="é™ç»´ä¸åº¦é‡å­¦ä¹ "><a href="#é™ç»´ä¸åº¦é‡å­¦ä¹ " class="headerlink" title="é™ç»´ä¸åº¦é‡å­¦ä¹ "></a>é™ç»´ä¸åº¦é‡å­¦ä¹ </h3><h4 id="KNN"><a href="#KNN" class="headerlink" title="KNN"></a>KNN</h4><p>kè¿‘é‚»ç®—æ³•ç®€ç§°<strong>kNNï¼ˆk-Nearest Neighborï¼‰</strong>ï¼Œæ˜¯ä¸€ç§ç»å…¸çš„ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œæ˜¯æ•°æ®æŒ–æ˜åå¤§ç®—æ³•ä¹‹ä¸€ã€‚å…¶å·¥ä½œæœºåˆ¶ååˆ†ç®€å•ï¼šç»™å®šæŸä¸ªæµ‹è¯•æ ·æœ¬ï¼ŒkNNåŸºäºæŸç§<strong>è·ç¦»åº¦é‡</strong>åœ¨è®­ç»ƒé›†ä¸­æ‰¾å‡ºä¸å…¶è·ç¦»æœ€è¿‘çš„kä¸ªå¸¦æœ‰çœŸå®æ ‡è®°çš„è®­ç»ƒæ ·æœ¬ï¼Œç„¶ååŸºäºè¿™kä¸ªé‚»å±…çš„çœŸå®æ ‡è®°æ¥è¿›è¡Œé¢„æµ‹ï¼Œç±»ä¼¼äºé›†æˆå­¦ä¹ ä¸­çš„åŸºå­¦ä¹ å™¨ç»“åˆç­–ç•¥ï¼šåˆ†ç±»ä»»åŠ¡é‡‡ç”¨æŠ•ç¥¨æ³•ï¼Œå›å½’ä»»åŠ¡åˆ™é‡‡ç”¨å¹³å‡æ³•ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607150256290.png" alt="image-20250607150256290"></p>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong></p>
<p>1NN åˆ†ç±»å™¨é€šè¿‡å°†æµ‹è¯•æ ·æœ¬ $ \boldsymbol{x} $ åˆ†é…åˆ°å…¶æœ€è¿‘é‚»æ ·æœ¬ $ \boldsymbol{z} $ çš„ç±»åˆ«æ¥å®Œæˆé¢„æµ‹ã€‚å…¶é”™è¯¯æ¦‚ç‡å–å†³äºä¸¤ä¸ªå…³é”®å› ç´ ï¼š</p>
<ul>
<li><strong>$ \boldsymbol{x} $ çš„çœŸå®ç±»åˆ«</strong>ï¼š$ P(c | \boldsymbol{x}) $ï¼Œå³ç»™å®š $ \boldsymbol{x} $ å±äºç±»åˆ« $ c $ çš„æ¦‚ç‡ã€‚  </li>
<li><strong>$ \boldsymbol{z} $ çš„ç±»åˆ«</strong>ï¼š$ P(c | \boldsymbol{z}) $ï¼Œå³ $ \boldsymbol{z} $ å±äºç±»åˆ« $ c $ çš„æ¦‚ç‡ã€‚</li>
</ul>
<p><strong>é”™è¯¯æ¦‚ç‡å…¬å¼</strong></p>
<p>è‹¥æµ‹è¯•æ ·æœ¬ $ \boldsymbol{x} $ çš„æœ€è¿‘é‚»ä¸º $ \boldsymbol{z} $ï¼Œåˆ™ 1NN åˆ†ç±»å™¨å‡ºé”™çš„æ¦‚ç‡ä¸ºï¼š</p>
<script type="math/tex; mode=display">
P(\text{err}) = 1 - P(\text{correct}) = 1 - \sum_{c \in \mathcal{C}} P(c | \boldsymbol{x}) P(c | \boldsymbol{z})</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ \mathcal{C} $ æ˜¯æ‰€æœ‰å¯èƒ½çš„ç±»åˆ«é›†åˆã€‚  </li>
<li>$ P(c | \boldsymbol{x}) $ï¼š$ \boldsymbol{x} $ å±äºç±»åˆ« $ c $ çš„æ¡ä»¶æ¦‚ç‡ã€‚  </li>
<li>$ P(c | \boldsymbol{z}) $ï¼š$ \boldsymbol{z} $ å±äºç±»åˆ« $ c $ çš„æ¡ä»¶æ¦‚ç‡ã€‚</li>
</ul>
<p>é€šè¿‡è¯æ˜å¯ä»¥å‘ç°ä¸€ä¸ªä»¤äººéœ‡æƒŠçš„ç»“è®ºï¼š<strong>æœ€è¿‘é‚»åˆ†ç±»å™¨çš„é”™è¯¯ç‡ä¸è¶…è¿‡è´å¶æ–¯æœ€ä¼˜åˆ†ç±»å™¨é”™è¯¯ç‡çš„ä¸¤å€</strong>ã€‚ </p>
<p>å¯¹äºè·ç¦»åº¦é‡ï¼Œ<strong>ä¸åŒçš„åº¦é‡æ–¹æ³•å¾—åˆ°çš„kä¸ªè¿‘é‚»ä¸å°½ç›¸åŒï¼Œä»è€Œå¯¹æœ€ç»ˆçš„æŠ•ç¥¨ç»“æœäº§ç”Ÿäº†å½±å“</strong>ï¼Œå› æ­¤é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„è·ç¦»åº¦é‡æ–¹æ³•ä¹Ÿååˆ†é‡è¦ã€‚</p>
<p>åœ¨ä¸Šä¸€ç¯‡èšç±»ç®—æ³•ä¸­ï¼Œåœ¨åº¦é‡æ ·æœ¬ç›¸ä¼¼æ€§æ—¶ä»‹ç»äº†å¸¸ç”¨çš„å‡ ç§è·ç¦»è®¡ç®—æ–¹æ³•ï¼ŒåŒ…æ‹¬<strong>é—µå¯å¤«æ–¯åŸºè·ç¦»ï¼Œæ›¼å“ˆé¡¿è·ç¦»ï¼ŒVDM</strong>ç­‰ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œ<strong>kNNçš„è·ç¦»åº¦é‡å‡½æ•°ä¸€èˆ¬æ ¹æ®æ ·æœ¬çš„ç‰¹æ€§æ¥é€‰æ‹©åˆé€‚çš„è·ç¦»åº¦é‡ï¼ŒåŒæ—¶åº”å¯¹æ•°æ®è¿›è¡Œå»é‡çº²/å½’ä¸€åŒ–å¤„ç†æ¥æ¶ˆé™¤å¤§é‡çº²å±æ€§çš„å¼ºæƒæ”¿æ²»å½±å“</strong>ã€‚ </p>
<h4 id="ä½ç»´åµŒå…¥"><a href="#ä½ç»´åµŒå…¥" class="headerlink" title="ä½ç»´åµŒå…¥"></a>ä½ç»´åµŒå…¥</h4><p><strong>ä½¿ç”¨knnçš„å‰ææ˜¯æ ·æœ¬ç©ºé—´çš„å¯†åº¦è¦ä¸€å®šå¤§ï¼Œä½†æ˜¯è¿™ä¸ªæ¡ä»¶åœ¨ç°å®ä¸­å¾ˆéš¾æ»¡è¶³ï¼Œå› æ­¤å¼•å‡ºé™ç»´æ“ä½œ</strong></p>
<blockquote>
<p>kNNçš„é‡è¦å‡è®¾: ä»»æ„æµ‹è¯•æ ·æœ¬  é™„è¿‘ä»»æ„å°çš„  è·ç¦»èŒƒå›´å†…æ€»èƒ½æ‰¾åˆ°ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ï¼Œå³è®­ç»ƒæ ·æœ¬çš„é‡‡æ ·å¯†åº¦è¶³å¤Ÿå¤§ï¼Œæˆ–ç§°ä¸º <strong>â€œå¯†é‡‡æ ·â€( dense sample)</strong> ã€‚ç„¶è€Œï¼Œè¿™ä¸ªå‡è®¾åœ¨ç°å®ä»»åŠ¡ä¸­é€šå¸¸å¾ˆéš¾æ»¡è¶³</p>
</blockquote>
<p>æ ·æœ¬çš„<strong>ç‰¹å¾æ•°</strong>ä¹Ÿç§°ä¸º<strong>ç»´æ•°</strong>ï¼ˆdimensionalityï¼‰ï¼Œå½“ç»´æ•°éå¸¸å¤§æ—¶ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„â€œ<strong>ç»´æ•°ç¾éš¾</strong>â€(curse of dimensionality)ï¼Œå…·ä½“è¡¨ç°åœ¨ï¼šåœ¨é«˜ç»´æƒ…å½¢ä¸‹ï¼Œ<strong>æ•°æ®æ ·æœ¬å˜å¾—ååˆ†ç¨€ç–</strong>ï¼Œå› ä¸ºæ­¤æ—¶è¦æ»¡è¶³è®­ç»ƒæ ·æœ¬ä¸ºâ€œ<strong>å¯†é‡‡æ ·</strong>â€çš„æ€»ä½“æ ·æœ¬æ•°ç›®æ˜¯ä¸€ä¸ªè§¦ä¸å¯åŠçš„å¤©æ–‡æ•°å­—ã€‚<strong>è®­ç»ƒæ ·æœ¬çš„ç¨€ç–ä½¿å¾—å…¶ä»£è¡¨æ€»ä½“åˆ†å¸ƒçš„èƒ½åŠ›å¤§å¤§å‡å¼±ï¼Œä»è€Œæ¶ˆå‡äº†å­¦ä¹ å™¨çš„æ³›åŒ–èƒ½åŠ›</strong>ï¼›åŒæ—¶å½“ç»´æ•°å¾ˆé«˜æ—¶ï¼Œ<strong>è®¡ç®—è·ç¦»ä¹Ÿå˜å¾—ååˆ†å¤æ‚</strong>ï¼Œç”šè‡³è¿è®¡ç®—å†…ç§¯éƒ½ä¸å†å®¹æ˜“</p>
<p>ç¼“è§£ç»´æ•°ç¾éš¾çš„ä¸€ä¸ªé‡è¦é€”å¾„å°±æ˜¯<strong>é™ç»´ï¼ˆdimension reductionï¼‰ï¼Œå³é€šè¿‡æŸç§æ•°å­¦å˜æ¢å°†åŸå§‹é«˜ç»´ç©ºé—´è½¬å˜åˆ°ä¸€ä¸ªä½ç»´çš„å­ç©ºé—´</strong>ã€‚åœ¨è¿™ä¸ªå­ç©ºé—´ä¸­ï¼Œæ ·æœ¬çš„å¯†åº¦å°†å¤§å¹…æé«˜ï¼ŒåŒæ—¶è·ç¦»è®¡ç®—ä¹Ÿå˜å¾—å®¹æ˜“ã€‚è¿™</p>
<p>æ—¶ä¹Ÿè®¸ä¼šæœ‰ç–‘é—®ï¼Œé™ç»´ä¹‹åä¸æ˜¯ä¼šä¸¢å¤±åŸå§‹æ•°æ®çš„ä¸€éƒ¨åˆ†ä¿¡æ¯å—ï¼Ÿ</p>
<p>å®é™…ä¸Šï¼Œåœ¨å¾ˆå¤šå®é™…é—®é¢˜ä¸­ï¼Œè™½ç„¶è®­ç»ƒæ•°æ®æ˜¯é«˜ç»´çš„ï¼Œä½†æ˜¯ä¸å­¦ä¹ ä»»åŠ¡ç›¸å…³ä¹Ÿè®¸ä»…ä»…æ˜¯å…¶ä¸­çš„ä¸€ä¸ªä½ç»´å­ç©ºé—´ï¼Œä¹Ÿç§°ä¸ºä¸€ä¸ª<strong>ä½ç»´åµŒå…¥</strong>ï¼Œä¾‹å¦‚ï¼šæ•°æ®å±æ€§ä¸­å­˜åœ¨å™ªå£°å±æ€§ã€ç›¸ä¼¼å±æ€§æˆ–å†—ä½™å±æ€§ç­‰ï¼Œ<strong>å¯¹é«˜ç»´æ•°æ®è¿›è¡Œé™ç»´èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šè¾¾åˆ°æç‚¼ä½ç»´ä¼˜è´¨å±æ€§æˆ–é™å™ªçš„æ•ˆæœ</strong>ã€‚</p>
<h4 id="MDSç®—æ³•"><a href="#MDSç®—æ³•" class="headerlink" title="MDSç®—æ³•"></a><strong>MDSç®—æ³•</strong></h4><p>MDSï¼ˆMultidimensional Scalingï¼Œå¤šç»´å°ºåº¦åˆ†æï¼‰æ˜¯ä¸€ç§ç»å…¸çš„<strong>é™ç»´æŠ€æœ¯</strong>ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å°†é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´ï¼ˆå¦‚äºŒç»´æˆ–ä¸‰ç»´ï¼‰ï¼ŒåŒæ—¶<strong>å°½å¯èƒ½ä¿ç•™åŸå§‹æ•°æ®ä¸­æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»å…³ç³»</strong>ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒåŸç†ä¸åº”ç”¨è¦ç‚¹ï¼š</p>
<p><strong>1. æ ¸å¿ƒæ€æƒ³</strong></p>
<ul>
<li><strong>è¾“å…¥</strong>ï¼šä¸€ä¸ªæ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»çŸ©é˜µ $ D $ï¼ˆå¦‚æ¬§æ°è·ç¦»ã€ä½™å¼¦è·ç¦»ç­‰ï¼‰ã€‚  </li>
<li><strong>è¾“å‡º</strong>ï¼šä½ç»´ç©ºé—´ä¸­æ ·æœ¬ç‚¹çš„åæ ‡çŸ©é˜µ $ Z $ï¼Œä½¿å¾—ä½ç»´ç©ºé—´ä¸­çš„è·ç¦»ä¸åŸå§‹è·ç¦»å°½å¯èƒ½ä¸€è‡´ ã€‚  </li>
<li><strong>å…³é”®å‡è®¾</strong>ï¼šé«˜ç»´æ•°æ®çš„å†…åœ¨ç»“æ„å¯é€šè¿‡æ ·æœ¬é—´çš„è·ç¦»å…³ç³»æè¿°ï¼Œé™ç»´åéœ€æœ€å°åŒ–è¿™ç§å…³ç³»çš„å¤±çœŸã€‚</li>
</ul>
<p><strong>2. ç®—æ³•æ­¥éª¤</strong></p>
<p>MDS çš„æ ¸å¿ƒæ˜¯é€šè¿‡<strong>çŸ©é˜µåˆ†è§£</strong>ä»è·ç¦»çŸ©é˜µæ¨å¯¼ä½ç»´åæ ‡ï¼š</p>
<ol>
<li><p><strong>æ„å»ºè·ç¦»çŸ©é˜µ $ D $</strong>ï¼š<br>å¯¹äº $ r $ ä¸ªæ ·æœ¬ï¼Œè®¡ç®—ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»ï¼Œå½¢æˆ $ r \times r $ çš„çŸ©é˜µ $ D $ï¼Œå…¶ä¸­ $ D_{ij} $ è¡¨ç¤ºæ ·æœ¬ $ i $ å’Œ $ j $ çš„è·ç¦» ã€‚</p>
</li>
<li><p><strong>åŒä¸­å¿ƒåŒ–ï¼ˆDouble Centeringï¼‰</strong>ï¼š<br>æ„é€ çŸ©é˜µ $ B = -\frac{1}{2} H D^{(2)} H $ï¼Œå…¶ä¸­ $ D^{(2)} $ æ˜¯è·ç¦»çš„å¹³æ–¹çŸ©é˜µï¼Œ$ H = I - \frac{1}{r} \mathbf{1} \mathbf{1}^\top $ æ˜¯ä¸­å¿ƒåŒ–çŸ©é˜µ ã€‚</p>
</li>
<li><p><strong>ç‰¹å¾å€¼åˆ†è§£</strong>ï¼š<br>å¯¹ $ B $ è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œå¾—åˆ° $ B = V \Lambda V^\top $ï¼Œå…¶ä¸­ $ \Lambda $ æ˜¯æŒ‰é™åºæ’åˆ—çš„ç‰¹å¾å€¼å¯¹è§’çŸ©é˜µï¼Œ$ V $ æ˜¯å¯¹åº”çš„ç‰¹å¾å‘é‡çŸ©é˜µ ã€‚</p>
</li>
<li><p><strong>æ„é€ ä½ç»´åæ ‡</strong>ï¼š<br>é€‰æ‹©å‰ $ dâ€™ $ ä¸ªæœ€å¤§ç‰¹å¾å€¼ï¼ˆ$ dâ€™ $ ä¸ºç›®æ ‡ç»´åº¦ï¼‰å’Œå¯¹åº”çš„ç‰¹å¾å‘é‡ï¼Œè®¡ç®—ä½ç»´åæ ‡çŸ©é˜µï¼š  </p>
<script type="math/tex; mode=display">
Z = \Lambda^{1/2} V^\top</script><p>å…¶ä¸­ $ \Lambda^{1/2} $ æ˜¯ç‰¹å¾å€¼çŸ©é˜µçš„å¹³æ–¹æ ¹ ã€‚</p>
</li>
</ol>
<p><strong>3. å…³é”®ç‰¹æ€§</strong></p>
<ul>
<li><strong>ä¿ç•™è·ç¦»å…³ç³»</strong>ï¼šMDS ç›´æ¥ä¼˜åŒ–ä½ç»´ç©ºé—´ä¸­çš„è·ç¦»ä¸åŸå§‹è·ç¦»çš„ä¸€è‡´æ€§ï¼Œé€‚ç”¨äºéœ€ç²¾ç¡®ä¿ç•™æ ·æœ¬ç›¸ä¼¼æ€§çš„åœºæ™¯ï¼ˆå¦‚ç”Ÿç‰©ä¿¡æ¯å­¦ä¸­çš„åŸºå› å…³ç³»åˆ†æï¼‰ã€‚  </li>
<li><strong>éçº¿æ€§é€‚åº”æ€§</strong>ï¼šä¸ PCA ä¸åŒï¼ŒMDS ä¸è¦æ±‚æ•°æ®çº¿æ€§åˆ†å¸ƒï¼Œæ›´é€‚åˆå¤„ç†éçº¿æ€§ç»“æ„ï¼ˆå¦‚ç¯å½¢ã€æµå½¢æ•°æ®ï¼‰ã€‚  </li>
<li><strong>çµæ´»æ€§</strong>ï¼šæ”¯æŒä»»æ„è·ç¦»åº¦é‡ï¼ˆå¦‚è‡ªå®šä¹‰çš„ç›¸ä¼¼æ€§æŒ‡æ ‡ï¼‰ï¼Œè€Œ PCA ä»…é€‚ç”¨äºæ¬§æ°è·ç¦» ã€‚</li>
</ul>
<h4 id="çº¿æ€§é™ç»´æ–¹æ³•"><a href="#çº¿æ€§é™ç»´æ–¹æ³•" class="headerlink" title="çº¿æ€§é™ç»´æ–¹æ³•"></a><strong>çº¿æ€§é™ç»´æ–¹æ³•</strong></h4><p>çº¿æ€§é™ç»´é€šè¿‡<strong>çº¿æ€§å˜æ¢</strong>å°†é«˜ç»´æ•°æ® $ \mathbf{X} \in \mathbb{R}^{d \times m} $ æŠ•å½±åˆ°ä½ç»´ç©ºé—´ $ \mathbf{Z} \in \mathbb{R}^{dâ€™ \times m} $ï¼ˆ$ dâ€™ \leq d $ï¼‰ï¼Œä¿ç•™æ•°æ®çš„ä¸»è¦ä¿¡æ¯ã€‚å…¶æ•°å­¦è¡¨è¾¾ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\mathbf{Z} = \mathbf{W}^\top \mathbf{X}</script><ul>
<li><strong>å˜æ¢çŸ©é˜µ $ \mathbf{W} \in \mathbb{R}^{d \times dâ€™} $</strong>ï¼š<br>æ¯ä¸€åˆ—æ˜¯æ­£äº¤çš„åŸºå‘é‡ï¼Œæ„æˆä½ç»´å­ç©ºé—´çš„åæ ‡ç³»ã€‚  </li>
<li><p><strong>ç›®æ ‡</strong>ï¼šé€‰æ‹© $ \mathbf{W} $ ä½¿å¾—ä½ç»´è¡¨ç¤º $ \mathbf{Z} $ æœ€å¤§åŒ–ä¿ç•™åŸå§‹æ•°æ®çš„ä¿¡æ¯ï¼ˆå¦‚æ–¹å·®ã€è·ç¦»ç­‰ï¼‰ã€‚</p>
</li>
<li><p><strong>MDS</strong>ï¼š<br>ç›´æ¥ä»¥<strong>ä¿ç•™é«˜ç»´ç©ºé—´ä¸­æ ·æœ¬ç‚¹ä¹‹é—´çš„è·ç¦»å…³ç³»</strong>ä¸ºç›®æ ‡ã€‚é™ç»´åçš„ä½ç»´ç©ºé—´éœ€å°½å¯èƒ½ä¿æŒåŸå§‹æ ·æœ¬ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»ï¼ˆå¦‚æ¬§æ°è·ç¦»ã€è‡ªå®šä¹‰ç›¸ä¼¼æ€§è·ç¦»ï¼‰ã€‚  </p>
<ul>
<li><strong>ç¤ºä¾‹</strong>ï¼šåœ¨åŸºå› æ•°æ®åˆ†æä¸­ï¼ŒMDSå¯ç¡®ä¿åŸºå› è¡¨è¾¾ç›¸ä¼¼çš„æ ·æœ¬åœ¨ä½ç»´ç©ºé—´ä¸­ä»ç´§å¯†åˆ†å¸ƒã€‚  </li>
</ul>
</li>
<li><p><strong>å…¶ä»–çº¿æ€§æ–¹æ³•ï¼ˆå¦‚PCAã€LDAï¼‰</strong>ï¼š  </p>
<ul>
<li><strong>PCA</strong>ï¼šæœ€å¤§åŒ–æ•°æ®åœ¨ä½ç»´ç©ºé—´çš„æ–¹å·®ï¼Œå¼ºè°ƒä¿ç•™å…¨å±€ç»“æ„è€Œéå…·ä½“è·ç¦»ã€‚  </li>
<li><strong>LDA</strong>ï¼šåœ¨ç›‘ç£å­¦ä¹ ä¸­æœ€å¤§åŒ–ç±»é—´åˆ†ç¦»åº¦ï¼Œå¿½ç•¥ç±»å†…è·ç¦»ã€‚  </li>
</ul>
</li>
</ul>
<h4 id="ä¸»æˆåˆ†åˆ†æ"><a href="#ä¸»æˆåˆ†åˆ†æ" class="headerlink" title="ä¸»æˆåˆ†åˆ†æ"></a>ä¸»æˆåˆ†åˆ†æ</h4><p>ä¸åŒäºMDSé‡‡ç”¨è·ç¦»ä¿æŒçš„æ–¹æ³•ï¼Œä¸»æˆåˆ†åˆ†æï¼ˆPrincipal Component Analysis ,PCAï¼‰æ˜¯ä¸€ç§ç»å…¸çš„<strong>æ— ç›‘ç£é™ç»´ç®—æ³•</strong> ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯é€šè¿‡çº¿æ€§å˜æ¢å°†é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´ï¼ŒåŒæ—¶ä¿ç•™æ•°æ®çš„<strong>æœ€å¤§æ–¹å·®ä¿¡æ¯</strong> ï¼ˆå³ä¿¡æ¯æŸå¤±æœ€å°ï¼‰</p>
<p>ç›´æ¥é€šè¿‡ä¸€ä¸ª<strong>çº¿æ€§å˜æ¢</strong>ï¼Œå°†åŸå§‹ç©ºé—´ä¸­çš„æ ·æœ¬<strong>æŠ•å½±</strong>åˆ°æ–°çš„ä½ç»´ç©ºé—´ä¸­ã€‚</p>
<p>ç®€å•æ¥ç†è§£è¿™ä¸€è¿‡ç¨‹ä¾¿æ˜¯ï¼š<strong>PCAé‡‡ç”¨ä¸€ç»„æ–°çš„åŸºï¼ˆå‘é‡ï¼‰æ¥è¡¨ç¤ºæ ·æœ¬ç‚¹ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªåŸºå‘é‡éƒ½æ˜¯åŸå§‹ç©ºé—´åŸºå‘é‡çš„çº¿æ€§ç»„åˆï¼Œé€šè¿‡ä½¿ç”¨å°½å¯èƒ½å°‘çš„æ–°åŸºå‘é‡æ¥è¡¨å‡ºæ ·æœ¬ï¼Œä»è€Œè¾¾åˆ°é™ç»´çš„ç›®çš„ã€‚</strong></p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607155733314.png" alt="image-20250607155733314"></p>
<p>å‡è®¾ä½¿ç”¨dâ€™ä¸ªæ–°åŸºå‘é‡æ¥è¡¨ç¤ºåŸæ¥æ ·æœ¬ï¼Œå®è´¨ä¸Šæ˜¯å°†æ ·æœ¬æŠ•å½±åˆ°ä¸€ä¸ªç”±dâ€™ä¸ªåŸºå‘é‡ç¡®å®šçš„ä¸€ä¸ª<strong>è¶…å¹³é¢</strong>ä¸Šï¼ˆ<strong>å³èˆå¼ƒäº†ä¸€äº›ç»´åº¦</strong>ï¼‰ï¼Œè¦ç”¨ä¸€ä¸ªè¶…å¹³é¢å¯¹ç©ºé—´ä¸­æ‰€æœ‰é«˜ç»´æ ·æœ¬è¿›è¡Œæ°å½“çš„è¡¨è¾¾ï¼Œæœ€ç†æƒ³çš„æƒ…å½¢æ˜¯ï¼š<strong>è‹¥è¿™äº›æ ·æœ¬ç‚¹éƒ½èƒ½åœ¨è¶…å¹³é¢ä¸Šè¡¨å‡ºä¸”è¿™äº›è¡¨å‡ºåœ¨è¶…å¹³é¢ä¸Šéƒ½èƒ½å¤Ÿå¾ˆå¥½åœ°åˆ†æ•£å¼€æ¥</strong>ã€‚ä½†æ˜¯ä¸€èˆ¬ä½¿ç”¨è¾ƒåŸç©ºé—´ä½ä¸€äº›ç»´åº¦çš„è¶…å¹³é¢æ¥åšåˆ°è¿™ä¸¤ç‚¹ååˆ†ä¸å®¹æ˜“ï¼Œå› æ­¤æˆ‘ä»¬é€€ä¸€æ­¥æµ·é˜”å¤©ç©ºï¼Œè¦æ±‚è¿™ä¸ªè¶…å¹³é¢åº”å…·æœ‰å¦‚ä¸‹ä¸¤ä¸ªæ€§è´¨ï¼š</p>
<blockquote>
<p><strong>æœ€è¿‘é‡æ„æ€§</strong>ï¼šæ ·æœ¬ç‚¹åˆ°è¶…å¹³é¢çš„è·ç¦»è¶³å¤Ÿè¿‘ï¼Œå³å°½å¯èƒ½åœ¨è¶…å¹³é¢é™„è¿‘ï¼›</p>
<p><strong>æœ€å¤§å¯åˆ†æ€§</strong>ï¼šæ ·æœ¬ç‚¹åœ¨è¶…å¹³é¢ä¸Šçš„æŠ•å½±å°½å¯èƒ½åœ°åˆ†æ•£å¼€æ¥ï¼Œå³æŠ•å½±åçš„åæ ‡å…·æœ‰åŒºåˆ†æ€§ã€‚</p>
</blockquote>
<p>è¿™é‡Œååˆ†ç¥å¥‡çš„æ˜¯ï¼š<strong>æœ€è¿‘é‡æ„æ€§ä¸æœ€å¤§å¯åˆ†æ€§è™½ç„¶ä»ä¸åŒçš„å‡ºå‘ç‚¹æ¥å®šä¹‰ä¼˜åŒ–é—®é¢˜ä¸­çš„ç›®æ ‡å‡½æ•°ï¼Œä½†æœ€ç»ˆè¿™ä¸¤ç§ç‰¹æ€§å¾—åˆ°äº†å®Œå…¨ç›¸åŒçš„ä¼˜åŒ–é—®é¢˜</strong>ï¼š</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607165159235.png" alt="image-20250607165159235"></p>
<h5 id="åæ–¹å·®çŸ©é˜µä¸ä¼˜åŒ–æ±‚è§£"><a href="#åæ–¹å·®çŸ©é˜µä¸ä¼˜åŒ–æ±‚è§£" class="headerlink" title="åæ–¹å·®çŸ©é˜µä¸ä¼˜åŒ–æ±‚è§£"></a><strong>åæ–¹å·®çŸ©é˜µä¸ä¼˜åŒ–æ±‚è§£</strong></h5><p>è‹¥æ•°æ®å·²<strong>ä¸­å¿ƒåŒ–</strong>ï¼ˆå‡å€¼ä¸ºé›¶ï¼‰ï¼Œåˆ™ $ \mathbf{X} \mathbf{X}^\top $ æ˜¯<strong>æ ·æœ¬åæ–¹å·®çŸ©é˜µ</strong>çš„ $ m $ å€ã€‚æ­¤æ—¶ï¼ŒPCAçš„ä¼˜åŒ–é—®é¢˜è½¬åŒ–ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\begin{aligned}
& \underset{\mathbf{W}}{\text{maximize}}
& & \text{tr}\left( \mathbf{W}^\top \mathbf{X} \mathbf{X}^\top \mathbf{W} \right) \\
& \text{subject to}
& & \mathbf{W}^\top \mathbf{W} = \mathbf{I}
\end{aligned}</script><p>é€šè¿‡æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•ï¼Œè¯¥é—®é¢˜çš„è§£ä¸º $ \mathbf{X} \mathbf{X}^\top $ çš„å‰ $ dâ€™ $ ä¸ªæœ€å¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡</p>
<h5 id="PCAçš„æ•°å­¦æ¨å¯¼"><a href="#PCAçš„æ•°å­¦æ¨å¯¼" class="headerlink" title="PCAçš„æ•°å­¦æ¨å¯¼"></a><strong>PCAçš„æ•°å­¦æ¨å¯¼</strong></h5><ul>
<li><p><strong>ä¼˜åŒ–ç›®æ ‡</strong>ï¼š  </p>
<script type="math/tex; mode=display">
\max_{\mathbf{W}} \quad \text{tr}\left( \mathbf{W}^\top \mathbf{X} \mathbf{X}^\top \mathbf{W} \right) \quad \text{s.t.} \quad \mathbf{W}^\top \mathbf{W} = \mathbf{I}</script><p>å…¶ä¸­ï¼Œ$ \mathbf{X} \in \mathbb{R}^{d \times m} $ æ˜¯ä¸­å¿ƒåŒ–åçš„æ•°æ®çŸ©é˜µï¼ˆå‡å€¼ä¸ºé›¶ï¼‰ã€‚</p>
</li>
<li><p><strong>æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•</strong>ï¼š<br>å¼•å…¥æ‹‰æ ¼æœ—æ—¥ä¹˜å­ $ \Lambda $ï¼Œæ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š</p>
<script type="math/tex; mode=display">
\mathcal{L}(\mathbf{W}, \Lambda) = \text{tr}\left( \mathbf{W}^\top \mathbf{X} \mathbf{X}^\top \mathbf{W} \right) - \text{tr}\left( \Lambda (\mathbf{W}^\top \mathbf{W} - \mathbf{I}) \right)</script><p>å¯¹ $ \mathbf{W} $ æ±‚å¯¼å¹¶ä»¤å¯¼æ•°ä¸ºé›¶ï¼Œå¾—åˆ°ï¼š</p>
<script type="math/tex; mode=display">
\mathbf{X} \mathbf{X}^\top \mathbf{W} = \Lambda \mathbf{W}</script><p>å³ $ \mathbf{X} \mathbf{X}^\top $ çš„ç‰¹å¾å‘é‡ $ \mathbf{w}_i $ æ»¡è¶³ï¼š</p>
<script type="math/tex; mode=display">
\mathbf{X} \mathbf{X}^\top \mathbf{w}_i = \lambda_i \mathbf{w}_i</script></li>
</ul>
<h5 id="PCAç‰¹å¾å‘é‡é€‰æ‹©"><a href="#PCAç‰¹å¾å‘é‡é€‰æ‹©" class="headerlink" title="PCAç‰¹å¾å‘é‡é€‰æ‹©"></a>PCAç‰¹å¾å‘é‡é€‰æ‹©</h5><p><strong>1. æ ¸å¿ƒé—®é¢˜</strong></p>
<p>åœ¨PCAä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ª $ dâ€™ \times d $ çš„å˜æ¢çŸ©é˜µ $ \mathbf{W} $ï¼Œå…¶åˆ—å‘é‡æ˜¯åæ–¹å·®çŸ©é˜µ $ \mathbf{X} \mathbf{X}^\top $ çš„ç‰¹å¾å‘é‡ï¼Œä¸”æ»¡è¶³æ­£äº¤çº¦æŸ $ \mathbf{W}^\top \mathbf{W} = \mathbf{I} $ã€‚å…³é”®é—®é¢˜æ˜¯ï¼š<strong>å¦‚ä½•ä» $ d $ ä¸ªç‰¹å¾å‘é‡ä¸­é€‰æ‹© $ dâ€™ $ ä¸ªæœ€ä¼˜çš„ï¼Ÿ</strong></p>
<p><strong>2. æ•°å­¦æ¨å¯¼</strong></p>
<ol>
<li><p><strong>ç‰¹å¾å€¼åˆ†è§£</strong>ï¼š<br>åæ–¹å·®çŸ©é˜µ $ \mathbf{X} \mathbf{X}^\top \in \mathbb{R}^{d \times d} $ å¯åˆ†è§£ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\mathbf{X} \mathbf{X}^\top \mathbf{W} = \mathbf{W} \boldsymbol{\Lambda}</script><p>å…¶ä¸­ï¼Œ$ \boldsymbol{\Lambda} = \text{diag}(\lambda_1, \lambda_2, \dots, \lambda_d) $ æ˜¯ç‰¹å¾å€¼å¯¹è§’çŸ©é˜µï¼Œ$ \mathbf{W} $ æ˜¯ç‰¹å¾å‘é‡çŸ©é˜µã€‚</p>
</li>
<li><p><strong>ä¼˜åŒ–ç›®æ ‡è½¬åŒ–</strong>ï¼š<br>PCAçš„ç›®æ ‡æ˜¯æœ€å¤§åŒ– $ \text{tr}(\mathbf{W}^\top \mathbf{X} \mathbf{X}^\top \mathbf{W}) $ã€‚åˆ©ç”¨ç‰¹å¾å€¼åˆ†è§£ï¼Œå¯å¾—ï¼š</p>
<script type="math/tex; mode=display">
\mathbf{W}^\top \mathbf{X} \mathbf{X}^\top \mathbf{W} = \mathbf{W}^\top (\mathbf{W} \boldsymbol{\Lambda}) = \boldsymbol{\Lambda}</script><p>å› æ­¤ï¼Œä¼˜åŒ–ç›®æ ‡å˜ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\max_{\mathbf{W}} \quad \text{tr}(\boldsymbol{\Lambda}) = \sum_{i=1}^{d'} \lambda_i</script><p>å³é€‰æ‹© $ dâ€™ $ ä¸ªæœ€å¤§çš„ç‰¹å¾å€¼ $ \lambda_i $ å¯¹åº”çš„ç‰¹å¾å‘é‡ç»„æˆ $ \mathbf{W} $ã€‚</p>
</li>
</ol>
<p><strong>3. ç‰¹å¾å‘é‡é€‰æ‹©ç­–ç•¥</strong></p>
<ul>
<li><strong>æŒ‰ç‰¹å¾å€¼æ’åº</strong>ï¼š<br>ç‰¹å¾å€¼ $ \lambda_i $ è¡¨ç¤ºæ•°æ®æ²¿ç‰¹å¾å‘é‡ $ \mathbf{w}_i $ æ–¹å‘çš„æ–¹å·®ã€‚é€‰æ‹©å‰ $ dâ€™ $ ä¸ªæœ€å¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ï¼Œå¯ä¿ç•™æœ€å¤šä¿¡æ¯ã€‚  </li>
<li><strong>æ­£äº¤æ€§ä¿è¯</strong>ï¼š<br>ç‰¹å¾å‘é‡çŸ©é˜µ $ \mathbf{W} $ çš„åˆ—è‡ªåŠ¨æ»¡è¶³ $ \mathbf{W}^\top \mathbf{W} = \mathbf{I} $ï¼Œæ— éœ€é¢å¤–æ­£äº¤åŒ–ã€‚</li>
</ul>
<h5 id="PCAç®—æ³•çš„æ•´ä¸ªæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š"><a href="#PCAç®—æ³•çš„æ•´ä¸ªæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š" class="headerlink" title="PCAç®—æ³•çš„æ•´ä¸ªæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š"></a>PCAç®—æ³•çš„æ•´ä¸ªæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</h5><p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607170020467.png" alt="image-20250607170020467"></p>
<h4 id="æ ¸åŒ–çº¿æ€§é™ç»´"><a href="#æ ¸åŒ–çº¿æ€§é™ç»´" class="headerlink" title="æ ¸åŒ–çº¿æ€§é™ç»´"></a><strong>æ ¸åŒ–çº¿æ€§é™ç»´</strong></h4><p>å¾…å­¦ä¹ </p>
<h4 id="æµå½¢å­¦ä¹ "><a href="#æµå½¢å­¦ä¹ " class="headerlink" title="æµå½¢å­¦ä¹ "></a>æµå½¢å­¦ä¹ </h4><p><strong>æµå½¢å­¦ä¹ ï¼ˆmanifold learningï¼‰</strong>æ˜¯ä¸€ç§å€ŸåŠ©æ‹“æ‰‘æµå½¢æ¦‚å¿µçš„é™ç»´æ–¹æ³•ï¼Œæµå½¢æ˜¯æŒ‡åœ¨<strong>å±€éƒ¨ä¸æ¬§å¼ç©ºé—´åŒèƒšçš„ç©ºé—´</strong>ï¼Œå³åœ¨å±€éƒ¨ä¸æ¬§å¼ç©ºé—´å…·æœ‰ç›¸åŒçš„æ€§è´¨ï¼Œèƒ½ç”¨æ¬§æ°è·ç¦»è®¡ç®—æ ·æœ¬ä¹‹é—´çš„è·ç¦»ã€‚è¿™æ ·å³ä½¿é«˜ç»´ç©ºé—´çš„åˆ†å¸ƒååˆ†å¤æ‚ï¼Œä½†æ˜¯åœ¨å±€éƒ¨ä¸Šä¾ç„¶æ»¡è¶³æ¬§å¼ç©ºé—´çš„æ€§è´¨ï¼ŒåŸºäºæµå½¢å­¦ä¹ çš„é™ç»´æ­£æ˜¯è¿™ç§ <strong>â€œé‚»åŸŸä¿æŒâ€</strong> çš„æ€æƒ³ã€‚å…¶ä¸­ <strong>ç­‰åº¦é‡æ˜ å°„ï¼ˆIsomapï¼‰è¯•å›¾åœ¨é™ç»´å‰åä¿æŒé‚»åŸŸå†…æ ·æœ¬ä¹‹é—´çš„è·ç¦»ï¼Œè€Œå±€éƒ¨çº¿æ€§åµŒå…¥ï¼ˆLLEï¼‰åˆ™æ˜¯ä¿æŒé‚»åŸŸå†…æ ·æœ¬ä¹‹é—´çš„çº¿æ€§å…³ç³»</strong> ã€‚</p>
<h5 id="ç­‰åº¦é‡æ˜ å°„Isomap"><a href="#ç­‰åº¦é‡æ˜ å°„Isomap" class="headerlink" title="ç­‰åº¦é‡æ˜ å°„Isomap"></a>ç­‰åº¦é‡æ˜ å°„Isomap</h5><p>ç­‰åº¦é‡æ˜ å°„çš„åŸºæœ¬å‡ºå‘ç‚¹æ˜¯ï¼šé«˜ç»´ç©ºé—´ä¸­çš„ç›´çº¿è·ç¦»å…·æœ‰è¯¯å¯¼æ€§ï¼Œå› ä¸ºæœ‰æ—¶é«˜ç»´ç©ºé—´ä¸­çš„ç›´çº¿è·ç¦»åœ¨ä½ç»´ç©ºé—´ä¸­æ˜¯ä¸å¯è¾¾çš„ã€‚<strong>å› æ­¤åˆ©ç”¨æµå½¢åœ¨å±€éƒ¨ä¸Šä¸æ¬§å¼ç©ºé—´åŒèƒšçš„æ€§è´¨ï¼Œå¯ä»¥ä½¿ç”¨è¿‘é‚»è·ç¦»æ¥é€¼è¿‘æµ‹åœ°çº¿è·ç¦»</strong>ï¼Œå³å¯¹äºä¸€ä¸ªæ ·æœ¬ç‚¹ï¼Œå®ƒä¸è¿‘é‚»å†…çš„æ ·æœ¬ç‚¹ä¹‹é—´æ˜¯å¯è¾¾çš„ï¼Œä¸”è·ç¦»ä½¿ç”¨æ¬§å¼è·ç¦»è®¡ç®—ï¼Œè¿™æ ·æ•´ä¸ªæ ·æœ¬ç©ºé—´å°±å½¢æˆäº†ä¸€å¼ è¿‘é‚»å›¾ï¼Œé«˜ç»´ç©ºé—´ä¸­ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦»å°±è½¬ä¸ºæœ€çŸ­è·¯å¾„é—®é¢˜ã€‚å¯é‡‡ç”¨è‘—åçš„<strong>Dijkstraç®—æ³•</strong>æˆ–<strong>Floydç®—æ³•</strong>è®¡ç®—æœ€çŸ­è·ç¦»ï¼Œå¾—åˆ°é«˜ç»´ç©ºé—´ä¸­ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»åä¾¿å¯ä»¥ä½¿ç”¨ MDS ç®—æ³•æ¥å…¶è®¡ç®—ä½ç»´ç©ºé—´ä¸­çš„åæ ‡ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607171119645.png" alt="image-20250607171119645"></p>
<p>Isomapç®—æ³•æµç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607171258284.png" alt="image-20250607171258284"></p>
<p>å¯¹äºè¿‘é‚»å›¾çš„æ„å»ºï¼Œå¸¸ç”¨çš„æœ‰ä¸¤ç§æ–¹æ³•ï¼š<strong>ä¸€ç§æ˜¯æŒ‡å®šè¿‘é‚»ç‚¹ä¸ªæ•°</strong>ï¼ŒåƒkNNä¸€æ ·é€‰å–kä¸ªæœ€è¿‘çš„é‚»å±…ï¼›<strong>å¦ä¸€ç§æ˜¯æŒ‡å®šé‚»åŸŸåŠå¾„</strong>ï¼Œè·ç¦»å°äºè¯¥é˜ˆå€¼çš„è¢«è®¤ä¸ºæ˜¯å®ƒçš„è¿‘é‚»ç‚¹ã€‚ä½†ä¸¤ç§æ–¹æ³•å‡ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>è‹¥<strong>é‚»åŸŸèŒƒå›´æŒ‡å®šè¿‡å¤§ï¼Œåˆ™ä¼šé€ æˆâ€œçŸ­è·¯é—®é¢˜â€</strong>ï¼Œå³æœ¬èº«è·ç¦»å¾ˆè¿œå´æˆäº†è¿‘é‚»ï¼Œå°†è·ç¦»è¿‘çš„é‚£äº›æ ·æœ¬æ‰¼æ€åœ¨æ‘‡ç¯®ã€‚</p>
<p>è‹¥<strong>é‚»åŸŸèŒƒå›´æŒ‡å®šè¿‡å°ï¼Œåˆ™ä¼šé€ æˆâ€œæ–­è·¯é—®é¢˜â€</strong>ï¼Œå³æœ‰äº›æ ·æœ¬ç‚¹æ— æ³•å¯è¾¾äº†ï¼Œæ•´ä¸ªä¸–ç•Œæ‘è¢«åˆ’åˆ†ä¸ºäº’ä¸å¯è¾¾çš„å°éƒ¨è½ã€‚</p>
</blockquote>
<h5 id="å±€éƒ¨çº¿æ€§åµŒå…¥"><a href="#å±€éƒ¨çº¿æ€§åµŒå…¥" class="headerlink" title="å±€éƒ¨çº¿æ€§åµŒå…¥"></a>å±€éƒ¨çº¿æ€§åµŒå…¥</h5><p>å¾…å­¦ä¹ </p>
<h4 id="åº¦é‡å­¦ä¹ "><a href="#åº¦é‡å­¦ä¹ " class="headerlink" title="åº¦é‡å­¦ä¹ "></a>åº¦é‡å­¦ä¹ </h4><p><strong>1. æ ¸å¿ƒæ€æƒ³</strong></p>
<p>åº¦é‡å­¦ä¹ ï¼ˆMetric Learningï¼‰çš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>å­¦ä¹ ä¸€ä¸ªåˆç†çš„è·ç¦»åº¦é‡</strong>ï¼Œä½¿å¾—ç›¸ä¼¼æ ·æœ¬è·ç¦»æ›´è¿‘ï¼Œä¸ç›¸ä¼¼æ ·æœ¬è·ç¦»æ›´è¿œã€‚ä¼ ç»Ÿæ¬§å¼è·ç¦»ï¼ˆEuclidean Distanceï¼‰è™½ç„¶ç®€å•ï¼Œä½†å…¶å›ºå®šæƒé‡æ— æ³•åæ˜ ä¸åŒç‰¹å¾çš„å®é™…é‡è¦æ€§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥<strong>åŠ æƒæ¬§å¼è·ç¦»</strong>ï¼Œé€šè¿‡å¯è°ƒèŠ‚çš„å‚æ•°ï¼ˆæƒé‡ï¼‰ä¼˜åŒ–è·ç¦»è®¡ç®—ã€‚</p>
<p><strong>2. æ¬§å¼è·ç¦»ä¸åŠ æƒæ¬§å¼è·ç¦»</strong></p>
<ul>
<li><p><strong>æ ‡å‡†æ¬§å¼è·ç¦»</strong>ï¼š  </p>
<script type="math/tex; mode=display">
\text{dist}_{\text{ed}}^2(\boldsymbol{x}_i, \boldsymbol{x}_j) = \|\boldsymbol{x}_i - \boldsymbol{x}_j\|_2^2 = \sum_{k=1}^d (\boldsymbol{x}_{i,k} - \boldsymbol{x}_{j,k})^2</script><p>æ¯ä¸ªç‰¹å¾ç»´åº¦å¯¹è·ç¦»çš„è´¡çŒ®ç›¸åŒï¼Œæœªè€ƒè™‘ç‰¹å¾çš„é‡è¦æ€§å·®å¼‚ã€‚</p>
</li>
<li><p><strong>åŠ æƒæ¬§å¼è·ç¦»</strong>ï¼š  </p>
<script type="math/tex; mode=display">
\text{dist}_{\text{wed}}^2(\boldsymbol{x}_i, \boldsymbol{x}_j) = (\boldsymbol{x}_i - \boldsymbol{x}_j)^\top \mathbf{W} (\boldsymbol{x}_i - \boldsymbol{x}_j)</script><p>å…¶ä¸­ï¼Œ$ \mathbf{W} = \text{diag}(\boldsymbol{w}) $ æ˜¯å¯¹è§’æƒé‡çŸ©é˜µï¼Œ$ w_k \geq 0 $ è¡¨ç¤ºç¬¬ $ k $ ä¸ªç‰¹å¾çš„æƒé‡ã€‚<br>å±•å¼€åä¸ºï¼š</p>
<script type="math/tex; mode=display">
\text{dist}_{\text{wed}}^2(\boldsymbol{x}_i, \boldsymbol{x}_j) = \sum_{k=1}^d w_k (\boldsymbol{x}_{i,k} - \boldsymbol{x}_{j,k})^2</script></li>
</ul>
<p><strong>3. æƒé‡çš„ä½œç”¨</strong></p>
<ul>
<li><strong>ç‰¹å¾é‡è¦æ€§è°ƒèŠ‚</strong>ï¼š  <ul>
<li>é«˜æƒé‡ $ w_k $ï¼šå¼ºè°ƒç¬¬ $ k $ ç»´ç‰¹å¾å¯¹è·ç¦»çš„å½±å“ï¼ˆå¦‚å›¾åƒçš„é¢œè‰²é€šé“æ¯”ä½ç½®æ›´é‡è¦ï¼‰ã€‚  </li>
<li>ä½æƒé‡ $ w_k $ï¼šå¼±åŒ–å™ªå£°æˆ–å†—ä½™ç‰¹å¾çš„å½±å“ã€‚  </li>
</ul>
</li>
<li><strong>å‡ ä½•æ„ä¹‰</strong>ï¼š<br>åŠ æƒæ¬§å¼è·ç¦»ç›¸å½“äºåœ¨å„ç‰¹å¾ç»´åº¦ä¸Šè¿›è¡Œç¼©æ”¾ï¼Œå°†æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œä½¿å¾—å…³é”®ç‰¹å¾çš„å·®å¼‚æ›´æ˜¾è‘—ã€‚</li>
</ul>
<p><strong>4. åº¦é‡å­¦ä¹ çš„ç›®æ ‡</strong></p>
<p>é€šè¿‡å­¦ä¹ æœ€ä¼˜æƒé‡ $ \boldsymbol{w} $ï¼Œä½¿ä»¥ä¸‹ç›®æ ‡æˆç«‹ï¼š</p>
<ul>
<li><strong>ç›¸ä¼¼æ ·æœ¬</strong>ï¼šåŠ æƒè·ç¦»å°ï¼ˆ$ \text{dist}_{\text{wed}}^2(\boldsymbol{x}_i, \boldsymbol{x}_j) \to 0 $ï¼‰ã€‚  </li>
<li><strong>ä¸ç›¸ä¼¼æ ·æœ¬</strong>ï¼šåŠ æƒè·ç¦»å¤§ï¼ˆ$ \text{dist}_{\text{wed}}^2(\boldsymbol{x}_i, \boldsymbol{x}_j) \to \infty $ï¼‰ã€‚  </li>
</ul>
<p>å…¸å‹ä¼˜åŒ–é—®é¢˜å½¢å¼ï¼š</p>
<script type="math/tex; mode=display">
\min_{\boldsymbol{w}} \quad \sum_{(\boldsymbol{x}_i, \boldsymbol{x}_j) \in S} \text{dist}_{\text{wed}}^2(\boldsymbol{x}_i, \boldsymbol{x}_j) + \lambda \|\boldsymbol{w}\|_2^2</script><p>å…¶ä¸­ï¼Œ$ S $ æ˜¯ç›¸ä¼¼æ ·æœ¬å¯¹é›†åˆï¼Œ$ \lambda $ æ˜¯æ­£åˆ™åŒ–é¡¹é˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p>
<blockquote>
<p>æ€»ç»“æ¥è¯´ï¼Œ</p>
<ul>
<li><strong>é™ç»´æ˜¯å°†åŸé«˜ç»´ç©ºé—´åµŒå…¥åˆ°ä¸€ä¸ªåˆé€‚çš„ä½ç»´å­ç©ºé—´ä¸­ï¼Œæ¥ç€åœ¨ä½ç»´ç©ºé—´ä¸­è¿›è¡Œå­¦ä¹ ä»»åŠ¡</strong></li>
<li><strong>åº¦é‡å­¦ä¹ åˆ™æ˜¯è¯•å›¾å»å­¦ä¹ å‡ºä¸€ä¸ª *è·ç¦»åº¦é‡* æ¥ç­‰æ•ˆé™ç»´çš„æ•ˆæœ</strong></li>
</ul>
</blockquote>
<h5 id="LMNNï¼ˆLarge-Margin-Nearest-Neighborsï¼‰è¯¦è§£"><a href="#LMNNï¼ˆLarge-Margin-Nearest-Neighborsï¼‰è¯¦è§£" class="headerlink" title="LMNNï¼ˆLarge Margin Nearest Neighborsï¼‰è¯¦è§£"></a><strong>LMNNï¼ˆLarge Margin Nearest Neighborsï¼‰è¯¦è§£</strong></h5><p><strong>1. æ ¸å¿ƒæ€æƒ³</strong></p>
<p>LMNN æ˜¯ä¸€ç§<strong>ç›‘ç£åº¦é‡å­¦ä¹ æ–¹æ³•</strong>ï¼Œå…¶ç›®æ ‡æ˜¯é€šè¿‡å­¦ä¹ ä¸€ä¸ªçº¿æ€§å˜æ¢çŸ©é˜µ $ \mathbf{M} $ï¼Œä½¿<strong>åŒç±»æ ·æœ¬åœ¨å˜æ¢åçš„ç©ºé—´ä¸­æ›´ç´§å¯†</strong>ï¼Œ<strong>ä¸åŒç±»æ ·æœ¬è¢«æ¨å¼€</strong>ï¼Œä»è€Œæå‡KNNç­‰åŸºäºè·ç¦»çš„ç®—æ³•æ€§èƒ½ã€‚å…¶æ ¸å¿ƒæ˜¯å¼•å…¥<strong>æœ€å¤§è¾¹è·ï¼ˆLarge Marginï¼‰</strong>çš„æ¦‚å¿µï¼Œç±»ä¼¼äºSVMçš„åˆ†ç±»è¾¹ç•Œã€‚</p>
<p><strong>2. æŸå¤±å‡½æ•°</strong></p>
<p>LMNN çš„ä¼˜åŒ–ç›®æ ‡ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li><p><strong>Pull Lossï¼ˆæ‹‰åŠ›æŸå¤±ï¼‰</strong>ï¼š<br>ä½¿åŒç±»æ ·æœ¬å¯¹çš„è·ç¦»å°½å¯èƒ½å°ï¼Œå…¬å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\varepsilon_{\text{pull}}(\mathbf{L}) = \sum_{j \sim i} \|\mathbf{L}(\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j)\|^2</script><p>å…¶ä¸­ï¼Œ$ j \sim i $ è¡¨ç¤ºä¸æ ·æœ¬ $ i $ åŒç±»çš„æœ€è¿‘é‚»æ ·æœ¬ã€‚</p>
</li>
<li><p><strong>Push Lossï¼ˆæ¨åŠ›æŸå¤±ï¼‰</strong>ï¼š<br>ä½¿ä¸åŒç±»æ ·æœ¬å¯¹çš„è·ç¦»è‡³å°‘ä¿æŒä¸€ä¸ªå›ºå®šè¾¹è· $ \xi_{ijl} $ï¼Œå…¬å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\varepsilon_{\text{push}}(\mathbf{L}) = \sum_{i,j,l} (1 - y_{il}) \left[1 + \|\mathbf{L}(\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j)\|^2 - \|\mathbf{L}(\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_l)\|^2\right]_+</script><p>å…¶ä¸­ï¼Œ$ y<em>{il} = 1 $ è¡¨ç¤ºæ ·æœ¬ $ i $ å’Œ $ l $ å±äºåŒä¸€ç±»ï¼Œå¦åˆ™ä¸º0ï¼›$ [\cdot]</em>+ $ è¡¨ç¤ºå–æ­£å€¼éƒ¨åˆ†ã€‚</p>
</li>
<li><p><strong>æ€»æŸå¤±å‡½æ•°</strong>ï¼š  </p>
<script type="math/tex; mode=display">
\varepsilon(\mathbf{L}) = (1 - \mu) \varepsilon_{\text{pull}}(\mathbf{L}) + \mu \varepsilon_{\text{push}}(\mathbf{L})</script><p>å‚æ•° $ \mu \in [0, 1] $ æ§åˆ¶ä¸¤ç±»æŸå¤±çš„æƒé‡ã€‚</p>
</li>
</ul>
<p><strong>3. ä¼˜åŒ–é—®é¢˜</strong></p>
<p>LMNN çš„ç›®æ ‡æ˜¯æœ€å°åŒ–æ€»æŸå¤±å‡½æ•°ï¼ŒåŒæ—¶æ»¡è¶³ä»¥ä¸‹çº¦æŸï¼š</p>
<script type="math/tex; mode=display">
\begin{aligned}
& \min_{\mathbf{M}, \boldsymbol{\xi}} \quad (1 - \mu) \sum_{i,j \sim i} (\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j)^\top \mathbf{M} (\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j) + \mu \sum_{i,j \sim i,l} (1 - y_{il}) \xi_{ijl} \\
& \text{s.t.} \quad (\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_l)^\top \mathbf{M} (\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_l) - (\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j)^\top \mathbf{M} (\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j) \geq 1 - \xi_{ijl}, \\
& \quad \quad \quad \xi_{ijl} \geq 0, \quad \mathbf{M} \succeq 0.
\end{aligned}</script><ul>
<li><strong>çº¦æŸï¼ˆ1ï¼‰</strong>ï¼šç¡®ä¿ä¸åŒç±»æ ·æœ¬å¯¹çš„è·ç¦»æ¯”åŒç±»æ ·æœ¬å¯¹å¤§è‡³å°‘ $ 1 - \xi_{ijl} $ã€‚  </li>
<li><strong>çº¦æŸï¼ˆ2ï¼‰</strong>ï¼šæ¾å¼›å˜é‡ $ \xi_{ijl} \geq 0 $ å…è®¸éƒ¨åˆ†æ ·æœ¬å¯¹è¿åçº¦æŸã€‚  </li>
<li><strong>çº¦æŸï¼ˆ3ï¼‰</strong>ï¼š$ \mathbf{M} $ å¿…é¡»æ˜¯åŠæ­£å®šçŸ©é˜µï¼Œä¿è¯è·ç¦»çš„éè´Ÿæ€§å’Œä¸‰è§’ä¸ç­‰å¼ã€‚</li>
</ul>
<h4 id="ä½œä¸š-3"><a href="#ä½œä¸š-3" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h4><h5 id="1-3"><a href="#1-3" class="headerlink" title="1"></a>1</h5><p>æ•°æ®é™ç»´æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿé˜è¿°ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ç®—æ³•çš„è®¡ç®—æµç¨‹ï¼Œå¹¶è®¨è®ºPCA é™ç»´ä¹‹åçš„ç»´åº¦å¦‚ä½•ç¡®å®šï¼Ÿ</p>
<p><strong>ï¼ˆ1ï¼‰å¸¸ç”¨æ•°æ®é™ç»´æ–¹æ³•</strong></p>
<ol>
<li><strong>ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰</strong>ï¼šé€šè¿‡çº¿æ€§å˜æ¢ä¿ç•™æœ€å¤§æ–¹å·®æ–¹å‘ï¼Œé€‚ç”¨äºå»å™ªå’Œå‹ç¼©æ•°æ® ã€‚  </li>
<li><strong>çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰</strong>ï¼šåœ¨ç›‘ç£å­¦ä¹ ä¸­æœ€å¤§åŒ–ç±»é—´åˆ†ç¦»åº¦ï¼Œé€‚ç”¨äºåˆ†ç±»ä»»åŠ¡ ã€‚  </li>
</ol>
<p><strong>ï¼ˆ2ï¼‰ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰çš„è®¡ç®—æµç¨‹</strong></p>
<ol>
<li><strong>æ•°æ®æ ‡å‡†åŒ–</strong>ï¼šå¯¹åŸå§‹æ•°æ®å»å‡å€¼ã€æ–¹å·®å½’ä¸€åŒ–ï¼Œæ¶ˆé™¤é‡çº²å½±å“ ã€‚  </li>
<li><strong>è®¡ç®—åæ–¹å·®çŸ©é˜µ</strong>ï¼š  <script type="math/tex; mode=display">
\mathbf{\Sigma} = \frac{1}{m} \mathbf{X} \mathbf{X}^\top</script>å…¶ä¸­ $ \mathbf{X} $ æ˜¯ä¸­å¿ƒåŒ–åçš„æ•°æ®çŸ©é˜µ ã€‚  </li>
<li><strong>ç‰¹å¾å€¼åˆ†è§£</strong>ï¼šå¯¹åæ–¹å·®çŸ©é˜µè¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œå¾—åˆ°ç‰¹å¾å€¼ $ \lambda_i $ å’Œå•ä½æ­£äº¤ç‰¹å¾å‘é‡ $ \mathbf{w}_i $ ã€‚  </li>
<li><strong>é€‰æ‹©ä¸»æˆåˆ†</strong>ï¼šæŒ‰ç‰¹å¾å€¼å¤§å°æ’åºï¼Œé€‰æ‹©å‰ $ dâ€™ $ ä¸ªæœ€å¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡æ„æˆå˜æ¢çŸ©é˜µ $ \mathbf{W} = [\mathbf{w}<em>1, \mathbf{w}_2, \dots, \mathbf{w}</em>{dâ€™}] $ã€‚  </li>
<li><strong>é™ç»´æŠ•å½±</strong>ï¼šè®¡ç®—ä½ç»´è¡¨ç¤º $ \mathbf{Z} = \mathbf{W}^\top \mathbf{X} $ï¼Œå…¶ä¸­ $ \mathbf{Z} \in \mathbb{R}^{dâ€™ \times m} $ ã€‚</li>
</ol>
<p><strong>ï¼ˆ3ï¼‰PCAé™ç»´åç»´åº¦çš„ç¡®å®š</strong></p>
<ul>
<li><strong>ç´¯ç§¯æ–¹å·®è´¡çŒ®ç‡</strong>ï¼šé€‰æ‹©å‰ $ dâ€™ $ ä¸ªä¸»æˆåˆ†ï¼Œä½¿ç´¯è®¡æ–¹å·®å æ¯”è¾¾åˆ°é˜ˆå€¼ï¼ˆå¦‚95%ï¼‰ã€‚  </li>
<li><strong>è‚˜éƒ¨æ³•åˆ™ï¼ˆElbow Methodï¼‰</strong>ï¼šç»˜åˆ¶ç‰¹å¾å€¼éšç»´åº¦å˜åŒ–çš„æ›²çº¿ï¼Œé€‰æ‹©â€œæ‹ç‚¹â€ä½œä¸º $ dâ€™ $ã€‚  </li>
</ul>
<h5 id="2-3"><a href="#2-3" class="headerlink" title="2"></a>2</h5><p>åº¦é‡å­¦ä¹ çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼ŸLMNNç®—æ³•ä¸­ä¸‰å…ƒç»„æŸå¤±æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ</p>
<p><strong>ï¼ˆ1ï¼‰åº¦é‡å­¦ä¹ çš„ç›®æ ‡</strong></p>
<p>åº¦é‡å­¦ä¹ æ—¨åœ¨å­¦ä¹ ä¸€ä¸ªåˆç†çš„è·ç¦»åº¦é‡ï¼Œä½¿å¾—ï¼š</p>
<ul>
<li><strong>ç›¸ä¼¼æ ·æœ¬</strong>ï¼šè·ç¦»å°½å¯èƒ½å°ï¼ˆå¦‚åŒç±»æ ·æœ¬ï¼‰ã€‚  </li>
<li><strong>ä¸ç›¸ä¼¼æ ·æœ¬</strong>ï¼šè·ç¦»å°½å¯èƒ½å¤§ï¼ˆå¦‚å¼‚ç±»æ ·æœ¬ï¼‰ã€‚<br>å…¸å‹åº”ç”¨åŒ…æ‹¬æ¨èç³»ç»Ÿï¼ˆä¼˜åŒ–ç”¨æˆ·-å•†å“ç›¸ä¼¼æ€§ï¼‰ã€å›¾åƒæ£€ç´¢ï¼ˆæå‡åŒ¹é…ç²¾åº¦ï¼‰å’Œç”Ÿç‰©è¯†åˆ«ï¼ˆå¢å¼ºç±»é—´å¯åˆ†æ€§ï¼‰ã€‚</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰LMNNä¸­çš„ä¸‰å…ƒç»„æŸå¤±</strong></p>
<p>LMNNï¼ˆLarge Margin Nearest Neighborï¼‰æ˜¯ä¸€ç§ç›‘ç£åº¦é‡å­¦ä¹ æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡ä¼˜åŒ–è·ç¦»åº¦é‡æ¥æå‡KNNçš„åˆ†ç±»æ€§èƒ½ã€‚è™½ç„¶LMNNæœ¬èº«ä¸»è¦ä½¿ç”¨å¯¹æ¯”æŸå¤±ï¼ˆContrastive Lossï¼‰ï¼Œä½†ä¸‰å…ƒç»„æŸå¤±ï¼ˆTriplet Lossï¼‰æ˜¯æ·±åº¦åº¦é‡å­¦ä¹ ä¸­å¸¸è§çš„æŸå¤±å‡½æ•°ï¼Œå…¶è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š<strong>ä¸‰å…ƒç»„æŸå¤±çš„å®šä¹‰</strong></p>
<p>ä¸‰å…ƒç»„æŸå¤±åŸºäºé”šç‚¹ï¼ˆAnchorï¼‰ã€æ­£ä¾‹ï¼ˆPositiveï¼‰å’Œè´Ÿä¾‹ï¼ˆNegativeï¼‰ä¸‰ä¸ªæ ·æœ¬ï¼Œç›®æ ‡æ˜¯ä½¿é”šç‚¹ä¸æ­£ä¾‹çš„è·ç¦»å°äºé”šç‚¹ä¸è´Ÿä¾‹çš„è·ç¦»ï¼Œå…¬å¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\mathcal{L} = \sum_{i,j,l} \max\left(0, \|\mathbf{z}_i - \mathbf{z}_j\|^2 - \|\mathbf{z}_i - \mathbf{z}_l\|^2 + m\right)</script><ul>
<li>$ \mathbf{z}_i $ï¼šé”šç‚¹æ ·æœ¬çš„åµŒå…¥è¡¨ç¤ºã€‚  </li>
<li>$ \mathbf{z}_j $ï¼šä¸é”šç‚¹åŒç±»çš„æ­£ä¾‹æ ·æœ¬ã€‚  </li>
<li>$ \mathbf{z}_l $ï¼šä¸é”šç‚¹ä¸åŒç±»çš„è´Ÿä¾‹æ ·æœ¬ã€‚  </li>
<li>$ m $ï¼šé¢„è®¾çš„è¾¹ç•Œå€¼ï¼ˆMarginï¼‰ï¼Œæ§åˆ¶æ­£è´Ÿæ ·æœ¬è·ç¦»çš„æœ€å°å·®è· ã€‚</li>
</ul>
<p><strong>LMNNçš„æŸå¤±å‡½æ•°</strong></p>
<p>LMNN çš„æŸå¤±å‡½æ•°åŒ…å«ä¸¤éƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ‹‰åŠ›æŸå¤±ï¼ˆPull Lossï¼‰</strong>ï¼šæœ€å°åŒ–åŒç±»æ ·æœ¬å¯¹çš„è·ç¦»ï¼š  <script type="math/tex; mode=display">
\varepsilon_{\text{pull}} = \sum_{i,j \sim i} \|\mathbf{L}(\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j)\|^2</script></li>
<li><strong>æ¨åŠ›æŸå¤±ï¼ˆPush Lossï¼‰</strong>ï¼šæœ€å¤§åŒ–å¼‚ç±»æ ·æœ¬å¯¹çš„è·ç¦»ï¼š  <script type="math/tex; mode=display">
\varepsilon_{\text{push}} = \sum_{i,j \sim i,l} (1 - y_{il}) \left[1 + \|\mathbf{L}(\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_j)\|^2 - \|\mathbf{L}(\bar{\boldsymbol{x}}_i - \bar{\boldsymbol{x}}_l)\|^2\right]_+</script>å…¶ä¸­ $ \mathbf{L} $ æ˜¯çº¿æ€§å˜æ¢çŸ©é˜µï¼Œ$ y<em>{il} $ è¡¨ç¤ºæ ·æœ¬å¯¹æ˜¯å¦åŒç±»ï¼Œ$ [\cdot]</em>+ $ è¡¨ç¤ºå–æ­£å€¼éƒ¨åˆ† ã€‚</li>
</ol>
<p><strong>ä¼˜åŒ–ç›®æ ‡</strong></p>
<p>LMNN çš„æ€»æŸå¤±ä¸ºæ‹‰åŠ›å’Œæ¨åŠ›æŸå¤±çš„åŠ æƒå’Œï¼š</p>
<script type="math/tex; mode=display">
\varepsilon(\mathbf{L}) = (1 - \mu) \varepsilon_{\text{pull}} + \mu \varepsilon_{\text{push}}</script><p>å‚æ•° $ \mu \in [0, 1] $ å¹³è¡¡ä¸¤ç±»æŸå¤±çš„æƒé‡ï¼Œæœ€ç»ˆé€šè¿‡ä¼˜åŒ– $ \mathbf{L} $ å¾—åˆ°æœ€ä¼˜è·ç¦»åº¦é‡ ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607175825520.png" alt="image-20250607175825520"></p>
<h3 id="åŠç›‘ç£å­¦ä¹ "><a href="#åŠç›‘ç£å­¦ä¹ " class="headerlink" title="åŠç›‘ç£å­¦ä¹ "></a>åŠç›‘ç£å­¦ä¹ </h3><p>ç›‘ç£å­¦ä¹ è§£å†³ç°å®é—®é¢˜æœ‰å“ªäº›éš¾ç‚¹?<br>1.æ ‡è®°æ•°æ®è·å–æˆæœ¬é«˜ï¼šåœ¨è®¸å¤šé¢†åŸŸå¦‚åŒ»ç–—ï¼Œè·å–æ ‡è®°æ•°æ®æ˜¯æ˜‚è´µä¸”è€—æ—¶çš„ã€‚<br>2.æœªæ ‡è®°æ•°æ®å¤§é‡å­˜åœ¨ä¸”æ˜“å¾—ï¼šç›¸å¯¹è€Œè¨€ï¼Œæœªæ ‡è®°æ•°æ®å¤§é‡å­˜åœ¨ä¸”å®¹æ˜“è·å–ã€‚<br>3.æå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼šé€šè¿‡åˆ©ç”¨æœªæ ‡è®°æ•°æ®ï¼Œå¯ä»¥å¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚<br>ä¸¾ä¾‹ï¼šåœ¨åŒ»ç–—é¢†åŸŸï¼Œè·å–åŒ»ç”Ÿæ ‡è®°çš„è¯Šæ–­æ•°æ®éå¸¸æ˜‚è´µï¼Œä½†æœ‰å¤§é‡æœªæ ‡è®°çš„ç—…äººè®°å½•ã€‚<br>åŠç›‘ç£å­¦ä¹ å¯ä»¥å¸®åŠ©åˆ©ç”¨è¿™äº›æœªæ ‡è®°æ•°æ®ï¼Œæé«˜ç–¾ç—…é¢„æµ‹æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607181345721.png" alt="image-20250607181345721">åŠç›‘ç£å­¦ä¹ ç»“åˆäº†æœ‰ç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ ï¼ŒåŠç›‘ç£å­¦ä¹ ä½¿ç”¨<strong>å°‘é‡çš„æ ‡è®°æ•°æ®</strong>å’Œ<strong>å¤§é‡çš„æœªæ ‡è®°æ•°æ®</strong>æ¥è®­ç»ƒæ¨¡å‹ï¼Œä¸»è¦ç›®æ ‡æ˜¯æå‡æ¨¡å‹åœ¨æœªæ ‡è®°æ•°æ®ä¸Šçš„è¡¨ç°ã€‚</p>
<h5 id="åŸºäºç”Ÿæˆæ¨¡å‹çš„æ–¹æ³•"><a href="#åŸºäºç”Ÿæˆæ¨¡å‹çš„æ–¹æ³•" class="headerlink" title="åŸºäºç”Ÿæˆæ¨¡å‹çš„æ–¹æ³•"></a>åŸºäºç”Ÿæˆæ¨¡å‹çš„æ–¹æ³•</h5><p>å‡è®¾æ‰€æœ‰æ•°æ®ï¼ˆæ— è®ºæ˜¯å¦æœ‰æ ‡è®°ï¼‰éƒ½æ˜¯ç”±ä¸€ä¸ª<strong>æ½œåœ¨çš„æ¨¡å‹</strong>â€œç”Ÿæˆâ€çš„ã€‚é‚£ä¹ˆæ— æ ‡è®°çš„æ•°æ®å¯ä»¥å¸®åŠ©æ›´å‡†ç¡®çš„ä¼°è®¡æ½œåœ¨æ¨¡å‹çš„å‚æ•°ã€‚<br>æ¯”å¦‚å³å›¾ä¸­å¯ä»¥çœ‹åˆ°æ•°æ®å¯ä»¥ç”±ä¸¤ä¸ªé«˜æ–¯åˆ†å¸ƒè¿‘ä¼¼ï¼Œåˆ™æ— ç›‘ç£çš„æ•°æ®å¯ä»¥è¢«ç”¨æ¥æ›´å¥½å¾—åšé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ä¼°è®¡</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607183201926.png" alt="image-20250607183201926"></p>
<h5 id="åŠç›‘ç£SVM"><a href="#åŠç›‘ç£SVM" class="headerlink" title="åŠç›‘ç£SVM"></a><strong>åŠç›‘ç£SVM</strong></h5><p>ç›‘ç£å­¦ä¹ ä¸­çš„SVMè¯•å›¾æ‰¾åˆ°ä¸€ä¸ªåˆ’åˆ†è¶…å¹³é¢ï¼Œä½¿å¾—ä¸¤ä¾§æ”¯æŒå‘é‡ä¹‹é—´çš„é—´éš”æœ€å¤§ï¼Œå³ <strong>æœ€å¤§åˆ’åˆ†é—´éš”</strong> æ€æƒ³ã€‚å¯¹äºåŠç›‘ç£SVM (Semi-Supervised Support Vector Machine, S3VM) åˆ™è€ƒè™‘è¶…å¹³é¢åœ¨èƒ½å°†ä¸¤ç±»æ ‡è®°æ ·æœ¬åˆ†éš”çš„åŒæ—¶ï¼Œ<strong>ç©¿è¿‡æ•°æ®ä½å¯†åº¦çš„åŒºåŸŸ</strong>ã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607183349866.png" alt="image-20250607183349866"></p>
<h6 id="TSVM-Transductive-Support-Vector-Machine"><a href="#TSVM-Transductive-Support-Vector-Machine" class="headerlink" title="TSVM(Transductive Support Vector Machine)"></a>TSVM(Transductive Support Vector Machine)</h6><p><strong>1. æ ¸å¿ƒæ€æƒ³</strong></p>
<p>TSVM æ˜¯ä¸€ç§<strong>åŠç›‘ç£å­¦ä¹ æ–¹æ³•</strong>ï¼Œé€šè¿‡ç»“åˆæœ‰æ ‡è®°æ•°æ® $ D_l $ å’Œæœªæ ‡è®°æ•°æ® $ D_u $ï¼Œåˆ©ç”¨ä¼ªæ ‡ç­¾ï¼ˆPseudo-labelsï¼‰å’Œè¿­ä»£ä¼˜åŒ–ç­–ç•¥ï¼Œæœ€å¤§åŒ–åˆ†ç±»è¶…å¹³é¢çš„é—´éš”ã€‚å…¶æŸå¤±å‡½æ•°éœ€åŒæ—¶è€ƒè™‘ï¼š</p>
<ul>
<li><strong>æœ‰æ ‡è®°æ ·æœ¬</strong>ï¼šæœ€å°åŒ–åˆ†ç±»é”™è¯¯ï¼ˆHinge Lossï¼‰ã€‚  </li>
<li><strong>æœªæ ‡è®°æ ·æœ¬</strong>ï¼šé€šè¿‡ä¼ªæ ‡ç­¾å¼•å…¥çº¦æŸï¼Œé€æ­¥è°ƒæ•´è¶…å¹³é¢ã€‚</li>
</ul>
<p><strong>2. æŸå¤±å‡½æ•°æ¨å¯¼</strong></p>
<p>TSVM çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªè¶…å¹³é¢ $ \boldsymbol{w}^\top \boldsymbol{x} + b = 0 $ï¼Œä½¿å¾—ï¼š</p>
<ol>
<li><strong>æœ‰æ ‡è®°æ ·æœ¬</strong>çš„åˆ†ç±»è¯¯å·®æœ€å°ã€‚  </li>
<li><strong>æœªæ ‡è®°æ ·æœ¬</strong>çš„ä¼ªæ ‡ç­¾ä¸è¶…å¹³é¢é¢„æµ‹ç»“æœä¸€è‡´ã€‚  </li>
</ol>
<p><strong>æ ‡å‡†SVMçš„æŸå¤±å‡½æ•°</strong>ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\min_{\boldsymbol{w}, b, \xi} \quad \frac{1}{2} \|\boldsymbol{w}\|^2 + C \sum_{i=1}^l \xi_i</script><p>å…¶ä¸­ï¼Œ$ \xi_i $ æ˜¯æ¾å¼›å˜é‡ï¼Œè¡¨ç¤ºæ ·æœ¬ $ (\boldsymbol{x}_i, y_i) $ çš„åˆ†ç±»è¯¯å·®ã€‚</p>
<p><strong>TSVMçš„æ‰©å±•</strong>ï¼š<br>å¼•å…¥æœªæ ‡è®°æ ·æœ¬ $ D_u $ çš„ä¼ªæ ‡ç­¾ $ \hat{y}_j $ï¼ˆ$ j = l+1, \dots, l+u $ï¼‰ï¼Œå¹¶èµ‹äºˆå…¶è¾ƒå°çš„æƒ©ç½šç³»æ•° $ C_u $ï¼ˆåˆå§‹é˜¶æ®µ $ C_u \ll C_l $ï¼‰ï¼š</p>
<script type="math/tex; mode=display">
\min_{\boldsymbol{w}, b, \xi} \quad \frac{1}{2} \|\boldsymbol{w}\|^2 + C_l \sum_{i=1}^l \xi_i + C_u \sum_{j=l+1}^{l+u} \xi_j</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ C_l $ï¼šæœ‰æ ‡è®°æ ·æœ¬çš„æƒ©ç½šç³»æ•°ã€‚  </li>
<li>$ C_u $ï¼šæœªæ ‡è®°æ ·æœ¬çš„æƒ©ç½šç³»æ•°ï¼Œåˆå§‹å€¼å¾ˆå°ï¼Œé€æ­¥å¢å¤§ä»¥å¢å¼ºä¼ªæ ‡ç­¾çš„å½±å“ã€‚</li>
</ul>
<p><strong>3. è¿­ä»£ä¼˜åŒ–æµç¨‹</strong></p>
<ol>
<li><p><strong>åˆå§‹åŒ–</strong>ï¼š  </p>
<ul>
<li>ç”¨æœ‰æ ‡è®°æ•°æ® $ D_l $ è®­ç»ƒåˆå§‹ SVMï¼Œå¾—åˆ° $ \boldsymbol{w}_0, b_0 $ã€‚  </li>
<li>å¯¹æœªæ ‡è®°æ•°æ® $ D_u $ é¢„æµ‹ä¼ªæ ‡ç­¾ $ \hat{y}_j = \text{sign}(\boldsymbol{w}_0^\top \boldsymbol{x}_j + b_0) $ã€‚  </li>
</ul>
</li>
<li><p><strong>ä¼ªæ ‡ç­¾è°ƒæ•´</strong>ï¼š  </p>
<ul>
<li>è‹¥å­˜åœ¨å†²çªï¼ˆå¦‚ $ \hat{y}_i \hat{y}_j &lt; 0 $ ä¸” $ \xi_i + \xi_j &gt; 2 $ï¼‰ï¼Œç¿»è½¬å…¶ä¸­ä¸€ä¸ªä¼ªæ ‡ç­¾ï¼ˆå¦‚ $ \hat{y}_i \leftarrow -\hat{y}_i $ï¼‰ã€‚  </li>
<li>é‡æ–°æ±‚è§£ä¼˜åŒ–é—®é¢˜ï¼Œæ›´æ–° $ \boldsymbol{w}, b $ã€‚  </li>
</ul>
</li>
<li><p><strong>å‚æ•°è°ƒæ•´</strong>ï¼š  </p>
<ul>
<li>é€æ­¥å¢å¤§ $ C_u $ï¼ˆå¦‚ $ C_u \leftarrow \min{2C_u, C_l} $ï¼‰ï¼Œå¢å¼ºæœªæ ‡è®°æ ·æœ¬çš„å½±å“ã€‚  </li>
</ul>
</li>
</ol>
<p><strong>4. å…³é”®æ•°å­¦ç»†èŠ‚</strong></p>
<ul>
<li><p><strong>Hinge Loss</strong>ï¼š<br>å¯¹æ¯ä¸ªæ ·æœ¬ $ (\boldsymbol{x}_i, y_i) $ï¼ŒæŸå¤±ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\xi_i = \max\left(0, 1 - y_i (\boldsymbol{w}^\top \boldsymbol{x}_i + b)\right)</script><p>æœªæ ‡è®°æ ·æœ¬çš„ä¼ªæ ‡ç­¾ $ \hat{y}_j $ åŒæ ·ä»£å…¥æ­¤å…¬å¼ï¼Œä½†æƒ©ç½šç³»æ•°ä¸º $ C_u $ã€‚  </p>
</li>
<li><p><strong>æ­£åˆ™åŒ–é¡¹</strong>ï¼š<br>$ \frac{1}{2} |\boldsymbol{w}|^2 $ ç¡®ä¿è¶…å¹³é¢çš„æ³›åŒ–èƒ½åŠ›ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆã€‚  </p>
</li>
<li><p><strong>ä¼ªæ ‡ç­¾ç¿»è½¬æ¡ä»¶</strong>ï¼š<br>å½“ä¸¤ä¸ªæœªæ ‡è®°æ ·æœ¬ $ i, j $ æ»¡è¶³ï¼š</p>
<script type="math/tex; mode=display">
\hat{y}_i \hat{y}_j < 0 \quad \text{ä¸”} \quad \xi_i > 0, \xi_j > 0, \quad \xi_i + \xi_j > 2</script><p>è¡¨ç¤ºå®ƒä»¬è¢«é”™è¯¯åˆ†ç±»ä¸”è·ç¦»è¶…å¹³é¢è¾ƒè¿‘ï¼Œéœ€ç¿»è½¬å…¶ä¸­ä¸€ä¸ªæ ‡ç­¾ä»¥å‡å°‘å†²çªã€‚</p>
</li>
</ul>
<h5 id="å›¾åŠç›‘ç£å­¦ä¹ "><a href="#å›¾åŠç›‘ç£å­¦ä¹ " class="headerlink" title="å›¾åŠç›‘ç£å­¦ä¹ "></a><strong>å›¾åŠç›‘ç£å­¦ä¹ </strong></h5><p>ç»™å®šä¸€ä¸ªæ•°æ®é›†ï¼Œæˆ‘ä»¬å¯å°†å…¶æ˜ å°„ä¸ºä¸€ä¸ªå›¾ï¼Œæ•°æ®é›†ä¸­æ¯ä¸ªæ ·æœ¬å¯¹åº”äºå›¾ç»“ç‚¹ï¼Œè‹¥ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„ç›¸ä¼¼åº¦å¾ˆé«˜(æˆ–ç›¸å…³æ€§å¾ˆå¼º)ï¼Œåˆ™å¯¹åº”çš„ç»“ç‚¹ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ï¼Œè¾¹çš„â€œå¼ºåº¦â€(strength) æ­£æ¯”äºæ ·æœ¬ä¹‹é—´çš„ç›¸ä¼¼åº¦(æˆ–ç›¸å…³æ€§)ã€‚</p>
<p>å¯å°†æœ‰æ ‡è®°æ ·æœ¬æ‰€å¯¹åº”çš„ç»“ç‚¹æƒ³è±¡ä¸ºæŸ“è¿‡è‰²ï¼Œæ ‡è®°æ ·æœ¬æ‰€å¯¹åº”çš„ç»“ç‚¹å°šæœªæŸ“è‰²ã€‚åŠç›‘ç£å­¦ä¹ å°±å¯¹åº”äºâ€œé¢œè‰²â€åœ¨å›¾ä¸Šæ‰©æ•£æˆ–ä¼ æ’­çš„è¿‡ç¨‹ã€‚ç”±äºä¸ªå›¾å¯¹åº”äº†ä¸€ä¸ªçŸ©é˜µï¼Œæˆ‘ä»¬å°±èƒ½åŸºäºçŸ©é˜µè¿ç®—æ¥è¿›è¡ŒåŠç›‘ç£å­¦ä¹ ç®—æ³•çš„æ¨å¯¼ä¸åˆ†æã€‚</p>
<p><img src="/2025/06/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/image-20250607184534217.png" alt="image-20250607184534217"></p>
<p><strong>å›¾åŠç›‘ç£å­¦ä¹ ä¸­çš„èƒ½é‡å‡½æ•°æ¨å¯¼è¯¦è§£</strong></p>
<p><strong>1. å›¾ç»“æ„ä¸äº²å’ŒçŸ©é˜µ</strong></p>
<p>ç»™å®šæœ‰æ ‡è®°æ•°æ®é›† $ D<em>l = {(\boldsymbol{x}_1, y_1), (\boldsymbol{x}_2, y_2), \dots, (\boldsymbol{x}_l, y_l)} $ å’Œæœªæ ‡è®°æ•°æ®é›† $ D_u = {\boldsymbol{x}</em>{l+1}, \boldsymbol{x}<em>{l+2}, \dots, \boldsymbol{x}</em>{l+u}} $ï¼Œæ„å»ºå›¾ $ G = (V, E) $ï¼š</p>
<ul>
<li><strong>ç»“ç‚¹é›†</strong>ï¼š$ V = {\boldsymbol{x}<em>1, \dots, \boldsymbol{x}_l, \boldsymbol{x}</em>{l+1}, \dots, \boldsymbol{x}_{l+u}} $ï¼ŒåŒ…å«æ‰€æœ‰æ ·æœ¬ã€‚  </li>
<li><strong>è¾¹é›†</strong>ï¼šé€šè¿‡äº²å’ŒçŸ©é˜µ $ \mathbf{W} $ è¡¨ç¤ºï¼Œå…ƒç´ å®šä¹‰ä¸ºï¼š<script type="math/tex; mode=display">
(\mathbf{W})_{ij} = 
\begin{cases}
\exp\left(-\frac{\|\boldsymbol{x}_i - \boldsymbol{x}_j\|^2}{2\sigma^2}\right), & i \neq j \\
0, & \text{otherwise}
\end{cases}</script>å…¶ä¸­ï¼Œ$ \sigma $ æ˜¯é«˜æ–¯æ ¸çš„å¸¦å®½å‚æ•°ï¼Œæ§åˆ¶é‚»æ¥å…³ç³»çš„æ•æ„Ÿæ€§ã€‚</li>
</ul>
<p><strong>2. èƒ½é‡å‡½æ•°çš„å®šä¹‰ä¸æ¨å¯¼</strong></p>
<p>å‡è®¾åˆ†ç±»æ¨¡å‹çš„è¾“å‡ºæ ‡è®°ä¸º $ f(\boldsymbol{x}_i) $ï¼ˆå–å€¼ä¸ºç±»åˆ«æ ‡ç­¾ï¼Œå¦‚ $ \pm 1 $ï¼‰ï¼Œå®šä¹‰èƒ½é‡å‡½æ•° $ E(f) $ ä¸ºï¼š</p>
<script type="math/tex; mode=display">
E(f) = \frac{1}{2} \sum_{i=1}^m \sum_{j=1}^m (\mathbf{W})_{ij} (f(\boldsymbol{x}_i) - f(\boldsymbol{x}_j))^2</script><p>å…¶ä¸­ $ m = l + u $ æ˜¯æ€»æ ·æœ¬æ•°ã€‚</p>
<p><strong>3. èƒ½é‡å‡½æ•°çš„å±•å¼€ä¸ç®€åŒ–</strong></p>
<ol>
<li><strong>å±•å¼€å¹³æ–¹é¡¹</strong><script type="math/tex; mode=display">
E(f) = \frac{1}{2} \sum_{i=1}^m \sum_{j=1}^m (\mathbf{W})_{ij} \left[ f^2(\boldsymbol{x}_i) - 2 f(\boldsymbol{x}_i) f(\boldsymbol{x}_j) + f^2(\boldsymbol{x}_j) \right]</script></li>
<li><strong>åˆ©ç”¨å¯¹ç§°æ€§ç®€åŒ–</strong><br>ç”±äº $ \mathbf{W} $ æ˜¯å¯¹ç§°çŸ©é˜µï¼ˆ$(\mathbf{W})<em>{ij} = (\mathbf{W})</em>{ji}$ï¼‰ï¼Œå¯äº¤æ¢æ±‚å’Œé¡ºåºï¼š<script type="math/tex; mode=display">
\sum_{i=1}^m \sum_{j=1}^m (\mathbf{W})_{ij} f^2(\boldsymbol{x}_j) = \sum_{j=1}^m \sum_{i=1}^m (\mathbf{W})_{ji} f^2(\boldsymbol{x}_j) = \sum_{i=1}^m \sum_{j=1}^m (\mathbf{W})_{ij} f^2(\boldsymbol{x}_i)</script>å› æ­¤ï¼Œèƒ½é‡å‡½æ•°å˜ä¸º<script type="math/tex; mode=display">
E(f) = \frac{1}{2} \left( 2 \sum_{i=1}^m \sum_{j=1}^m (\mathbf{W})_{ij} f^2(\boldsymbol{x}_i) - 2 \sum_{i=1}^m \sum_{j=1}^m (\mathbf{W})_{ij} f(\boldsymbol{x}_i) f(\boldsymbol{x}_j) \right)</script></li>
<li><strong>å¼•å…¥åº¦çŸ©é˜µ</strong><br>å®šä¹‰åº¦çŸ©é˜µ $ \mathbf{D} $ ä¸ºå¯¹è§’çŸ©é˜µï¼Œå…¶å¯¹è§’çº¿å…ƒç´ ä¸ºï¼š<script type="math/tex; mode=display">
d_i = \sum_{j=1}^m (\mathbf{W})_{ij}</script>æœ€ç»ˆèƒ½é‡å‡½æ•°å¯è¡¨ç¤ºä¸ºï¼š<script type="math/tex; mode=display">
E(f) = \sum_{i=1}^m d_i f^2(\boldsymbol{x}_i) - \sum_{i=1}^m \sum_{j=1}^m (\mathbf{W})_{ij} f(\boldsymbol{x}_i) f(\boldsymbol{x}_j) = \boldsymbol{f}^\top (\mathbf{D} - \mathbf{W}) \boldsymbol{f}</script>å…¶ä¸­ï¼Œ$ \boldsymbol{f} = [f(\boldsymbol{x}_1), f(\boldsymbol{x}_2), \dots, f(\boldsymbol{x}_m)]^\top $ã€‚</li>
</ol>
<p><strong>å›¾åŠç›‘ç£å­¦ä¹ æ–¹æ³•æ¨å¯¼è¯¦è§£</strong></p>
<p><strong>1. åˆ†å—çŸ©é˜µè¡¨ç¤º</strong></p>
<p>å°†äº²å’ŒçŸ©é˜µ $ \mathbf{W} $ å’Œåº¦çŸ©é˜µ $ \mathbf{D} $ æŒ‰æœ‰æ ‡è®°æ•°æ®ï¼ˆå‰ $ l $ è¡Œåˆ—ï¼‰å’Œæœªæ ‡è®°æ•°æ®ï¼ˆå $ u $ è¡Œåˆ—ï¼‰åˆ†å—ï¼š</p>
<script type="math/tex; mode=display">
\mathbf{W} = 
\begin{bmatrix}
\mathbf{W}_{ll} & \mathbf{W}_{lu} \\
\mathbf{W}_{ul} & \mathbf{W}_{uu}
\end{bmatrix}, \quad
\mathbf{D} = 
\begin{bmatrix}
\mathbf{D}_{ll} & \mathbf{0}_{lu} \\
\mathbf{0}_{ul} & \mathbf{D}_{uu}
\end{bmatrix}</script><p>å…¶ä¸­ï¼š</p>
<ul>
<li>$ \mathbf{W}_{ll} $ï¼šæœ‰æ ‡è®°æ•°æ®é—´çš„äº²å’Œåº¦ã€‚  </li>
<li>$ \mathbf{W}_{lu} $ï¼šæœ‰æ ‡è®°ä¸æœªæ ‡è®°æ•°æ®é—´çš„äº²å’Œåº¦ã€‚  </li>
<li>$ \mathbf{W}_{uu} $ï¼šæœªæ ‡è®°æ•°æ®é—´çš„äº²å’Œåº¦ã€‚  </li>
<li>$ \mathbf{D}<em>{ll}, \mathbf{D}</em>{uu} $ï¼šå¯¹åº”å­å›¾çš„åº¦çŸ©é˜µã€‚</li>
</ul>
<p><strong>2. èƒ½é‡å‡½æ•°çš„åˆ†å—å±•å¼€</strong></p>
<p>èƒ½é‡å‡½æ•° $ E(f) = \boldsymbol{f}^\top (\mathbf{D} - \mathbf{W}) \boldsymbol{f} $ å¯å±•å¼€ä¸º</p>
<p>å±•å¼€åå¾—åˆ°ï¼š</p>
<script type="math/tex; mode=display">
E(f) = \boldsymbol{f}_l^\top (\mathbf{D}_{ll} - \mathbf{W}_{ll}) \boldsymbol{f}_l - 2 \boldsymbol{f}_u^\top \mathbf{W}_{ul} \boldsymbol{f}_l + \boldsymbol{f}_u^\top (\mathbf{D}_{uu} - \mathbf{W}_{uu}) \boldsymbol{f}_u</script><p><strong>3. å¯¹æœªæ ‡è®°æ•°æ® $ \boldsymbol{f}_u $ æ±‚åå¾®åˆ†</strong></p>
<p>ç›®æ ‡æ˜¯æœ€å°åŒ– $ E(f) $ï¼Œå¯¹ $ \boldsymbol{f}_u $ æ±‚åå¯¼å¹¶ä»¤å…¶ä¸ºé›¶ï¼š</p>
<script type="math/tex; mode=display">
\frac{\partial E(f)}{\partial \boldsymbol{f}_u} = -2 \mathbf{W}_{ul} \boldsymbol{f}_l + 2 (\mathbf{D}_{uu} - \mathbf{W}_{uu}) \boldsymbol{f}_u = 0</script><p>è§£å¾—ï¼š</p>
<script type="math/tex; mode=display">
\boldsymbol{f}_u = (\mathbf{D}_{uu} - \mathbf{W}_{uu})^{-1} \mathbf{W}_{ul} \boldsymbol{f}_l</script><h4 id="ååŒè®­ç»ƒ"><a href="#ååŒè®­ç»ƒ" class="headerlink" title="ååŒè®­ç»ƒ"></a>ååŒè®­ç»ƒ</h4><p>ååŒè®­ç»ƒï¼ˆCo-trainingï¼‰æ˜¯ä¸€ç§ç»å…¸çš„<strong>åŠç›‘ç£å­¦ä¹ æ–¹æ³•</strong>ï¼Œç”±Blumå’ŒMitchelläº1998å¹´é¦–æ¬¡æå‡ºï¼Œä¸»è¦ç”¨äºå¤„ç†<strong>å¤šè§†å›¾æ•°æ®</strong>ï¼ˆMulti-view Dataï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å¤šä¸ªåˆ†ç±»å™¨çš„åä½œï¼Œåˆ©ç”¨å°‘é‡æ ‡è®°æ•°æ®å’Œå¤§é‡æœªæ ‡è®°æ•°æ®æå‡æ¨¡å‹æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š</p>
<p><strong>1. æ ¸å¿ƒæ€æƒ³ä¸å‡è®¾</strong></p>
<p><strong>ï¼ˆ1ï¼‰å¤šè§†å›¾æ•°æ®</strong></p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šæ¯ä¸ªæ ·æœ¬å¯è¢«åˆ’åˆ†ä¸ºå¤šä¸ª<strong>å……åˆ†å†—ä½™ä¸”æ¡ä»¶ç‹¬ç«‹</strong>çš„è§†å›¾ï¼ˆViewï¼‰ã€‚  <ul>
<li><strong>å……åˆ†å†—ä½™</strong>ï¼šæ¯ä¸ªè§†å›¾æœ¬èº«åŒ…å«è¶³å¤Ÿä¿¡æ¯ï¼Œå¯ç‹¬ç«‹å®Œæˆå­¦ä¹ ä»»åŠ¡ã€‚  </li>
<li><strong>æ¡ä»¶ç‹¬ç«‹æ€§</strong>ï¼šåœ¨ç»™å®šç±»åˆ«æ ‡ç­¾çš„æ¡ä»¶ä¸‹ï¼Œä¸åŒè§†å›¾çš„ç‰¹å¾ç›¸äº’ç‹¬ç«‹ã€‚<br>ä¾‹å¦‚ï¼Œç½‘é¡µæ•°æ®å¯åˆ’åˆ†ä¸ºâ€œæ–‡æœ¬å†…å®¹â€å’Œâ€œè¶…é“¾æ¥ç»“æ„â€ä¸¤ä¸ªè§†å›¾ï¼Œå®ƒä»¬å…±åŒæè¿°ç½‘é¡µå†…å®¹ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰åä½œæœºåˆ¶</strong></p>
<ul>
<li><strong>åŒåˆ†ç±»å™¨è®¾è®¡</strong>ï¼šä½¿ç”¨ä¸¤ä¸ªåˆ†ç±»å™¨ $ h_1 $ å’Œ $ h_2 $ï¼Œåˆ†åˆ«åŸºäºè§†å›¾ $ V_1 $ å’Œ $ V_2 $ è¿›è¡Œè®­ç»ƒã€‚  </li>
<li><strong>ä¼ªæ ‡ç­¾ç”Ÿæˆ</strong>ï¼šåˆ†ç±»å™¨ $ h_1 $ å¯¹æœªæ ‡è®°æ•°æ®çš„é«˜ç½®ä¿¡åº¦é¢„æµ‹ç»“æœä¼šè¢« $ h_2 $ ä½¿ç”¨ï¼Œåä¹‹äº¦ç„¶ï¼Œå½¢æˆè¿­ä»£ä¼˜åŒ–ã€‚  </li>
<li><strong>ç›®æ ‡</strong>ï¼šé€šè¿‡åˆ†ç±»å™¨é—´çš„äº’è¡¥æ€§ï¼Œé€æ­¥æ‰©å±•æ ‡è®°æ•°æ®é›†ï¼Œæå‡æ¨¡å‹æ³›åŒ–èƒ½åŠ›ã€‚</li>
</ul>
<p><strong>2. ç®—æ³•æµç¨‹</strong></p>
<ol>
<li><strong>åˆå§‹åŒ–é˜¶æ®µ</strong>ï¼š  <ul>
<li>ä½¿ç”¨å°‘é‡æ ‡è®°æ•°æ® $ D_l $ï¼Œåˆ†åˆ«è®­ç»ƒåˆ†ç±»å™¨ $ h_1 $ï¼ˆåŸºäºè§†å›¾ $ V_1 $ï¼‰å’Œ $ h_2 $ï¼ˆåŸºäºè§†å›¾ $ V_2 $ï¼‰ã€‚  </li>
</ul>
</li>
<li><strong>ä¼ªæ ‡ç­¾ç”Ÿæˆ</strong>ï¼š  <ul>
<li>å¯¹æœªæ ‡è®°æ•°æ® $ D_u $ï¼Œ$ h_1 $ é¢„æµ‹è§†å›¾ $ V_1 $ çš„ä¼ªæ ‡ç­¾ï¼Œ$ h_2 $ é¢„æµ‹è§†å›¾ $ V_2 $ çš„ä¼ªæ ‡ç­¾ã€‚  </li>
<li>é€‰æ‹©ç½®ä¿¡åº¦é«˜äºé˜ˆå€¼çš„æ ·æœ¬åŠ å…¥è®­ç»ƒé›†ï¼ˆå¦‚ $ h_1 $ çš„é¢„æµ‹ç»“æœç”¨äºæ›´æ–° $ h_2 $ çš„è®­ç»ƒæ•°æ®ï¼Œåä¹‹äº¦ç„¶ï¼‰ã€‚  </li>
</ul>
</li>
<li><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼š  <ul>
<li>é‡å¤ä¼ªæ ‡ç­¾ç”Ÿæˆå’Œæ¨¡å‹è®­ç»ƒï¼Œç›´åˆ°æœªæ ‡è®°æ•°æ®è€—å°½æˆ–æ¨¡å‹æ”¶æ•›ã€‚</li>
</ul>
</li>
</ol>
<p><strong>3. æ ¸å¿ƒä¼˜åŠ¿</strong></p>
<ul>
<li><strong>å‡å°‘å¯¹æ ‡æ³¨æ•°æ®çš„ä¾èµ–</strong>ï¼šä»…éœ€å°‘é‡æ ‡è®°æ•°æ®å³å¯è®­ç»ƒé«˜æ€§èƒ½æ¨¡å‹ï¼Œå°¤å…¶é€‚åˆæ ‡æ³¨æˆæœ¬é«˜çš„åœºæ™¯ï¼ˆå¦‚åŒ»ç–—å½±åƒåˆ†æï¼‰ã€‚  </li>
<li><strong>æå‡æ¨¡å‹é²æ£’æ€§</strong>ï¼šåˆ†ç±»å™¨é—´çš„åä½œå¯çº æ­£å½¼æ­¤çš„é”™è¯¯ï¼Œé™ä½å•ä¸€æ¨¡å‹è¿‡æ‹Ÿåˆé£é™©ã€‚  </li>
<li><strong>å¤šè§†å›¾äº’è¡¥æ€§</strong>ï¼šä¸åŒè§†å›¾çš„ä¿¡æ¯èåˆèƒ½æ•æ‰æ›´å…¨é¢çš„ç‰¹å¾ï¼ˆå¦‚å›¾åƒçš„RGBé€šé“ä¸çº¹ç†ç‰¹å¾ï¼‰ã€‚</li>
</ul>
<h4 id="ä½œä¸š-4"><a href="#ä½œä¸š-4" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h4><h5 id="1-4"><a href="#1-4" class="headerlink" title="1"></a>1</h5><p>ä»€ä¹ˆæ˜¯åŠç›‘ç£å­¦ä¹ ï¼Ÿè¯·ç®€è¦æè¿°å…¶åŸºæœ¬æ€æƒ³ã€‚åŠç›‘ç£å­¦ä¹ ç›¸æ¯”äºç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ æœ‰ä»€ä¹ˆä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ï¼Ÿ</p>
<p><strong>ï¼ˆ1ï¼‰å®šä¹‰ä¸åŸºæœ¬æ€æƒ³</strong>  </p>
<p>åŠç›‘ç£å­¦ä¹ ï¼ˆSemi-Supervised Learningï¼‰æ˜¯ç»“åˆ<strong>ç›‘ç£å­¦ä¹ </strong>ï¼ˆåˆ©ç”¨æ ‡è®°æ•°æ®ï¼‰å’Œ<strong>æ— ç›‘ç£å­¦ä¹ </strong>ï¼ˆåˆ©ç”¨æœªæ ‡è®°æ•°æ®ï¼‰çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å°‘é‡æ ‡è®°æ•°æ®ä¸å¤§é‡æœªæ ‡è®°æ•°æ®çš„è”åˆè®­ç»ƒï¼Œæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚  </p>
<ul>
<li><strong>ç›‘ç£å­¦ä¹ </strong>ï¼šä¾èµ–å¤§é‡äººå·¥æ ‡æ³¨æ•°æ®ï¼ˆå¦‚åˆ†ç±»ã€å›å½’ï¼‰ã€‚  </li>
<li><strong>æ— ç›‘ç£å­¦ä¹ </strong>ï¼šä»…åˆ©ç”¨æ•°æ®åˆ†å¸ƒè§„å¾‹ï¼ˆå¦‚èšç±»ã€é™ç»´ï¼‰ã€‚  </li>
<li><strong>åŠç›‘ç£å­¦ä¹ </strong>ï¼šåœ¨æ ‡è®°æ•°æ®ç¨€ç¼ºæ—¶ï¼Œé€šè¿‡æœªæ ‡è®°æ•°æ®æŒ–æ˜æ½œåœ¨ç»“æ„ï¼Œé™ä½æ ‡æ³¨æˆæœ¬ ã€‚</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰ä¼˜åŠ¿</strong>  </p>
<ul>
<li><strong>å‡å°‘æ ‡æ³¨ä¾èµ–</strong>ï¼šä»…éœ€å°‘é‡æ ‡è®°æ•°æ®å³å¯è®­ç»ƒé«˜æ€§èƒ½æ¨¡å‹ï¼Œé€‚ç”¨äºæ ‡æ³¨æˆæœ¬é«˜çš„åœºæ™¯ï¼ˆå¦‚åŒ»ç–—å½±åƒåˆ†æï¼‰ã€‚  </li>
<li><strong>æå‡æ¨¡å‹æ€§èƒ½</strong>ï¼šåˆ©ç”¨æœªæ ‡è®°æ•°æ®å¢å¼ºæ•°æ®å¤šæ ·æ€§ï¼Œç¼“è§£è¿‡æ‹Ÿåˆé£é™©ã€‚  </li>
<li><strong>å¹³è¡¡æ•ˆç‡ä¸ç²¾åº¦</strong>ï¼šåœ¨èµ„æºæœ‰é™æ—¶ï¼Œå…¼é¡¾ç›‘ç£å­¦ä¹ çš„å‡†ç¡®æ€§ä¸æ— ç›‘ç£å­¦ä¹ çš„é«˜æ•ˆæ€§ ã€‚</li>
</ul>
<p><strong>ï¼ˆ3ï¼‰åº”ç”¨åœºæ™¯</strong>  </p>
<ul>
<li><strong>åŒ»å­¦è¯Šæ–­</strong>ï¼šåˆ©ç”¨å°‘é‡æ ‡æ³¨çš„ç—…ç†å›¾åƒå’Œå¤§é‡æœªæ ‡æ³¨æ•°æ®è®­ç»ƒç–¾ç—…é¢„æµ‹æ¨¡å‹ã€‚  </li>
<li><strong>æ¨èç³»ç»Ÿ</strong>ï¼šç»“åˆç”¨æˆ·è¡Œä¸ºï¼ˆæœ‰æ ‡è®°ï¼‰ä¸å•†å“å±æ€§ï¼ˆæœªæ ‡è®°ï¼‰ä¼˜åŒ–æ’åºæ¨¡å‹ã€‚  </li>
<li><strong>è‡ªç„¶è¯­è¨€å¤„ç†</strong>ï¼šé€šè¿‡é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚GPTï¼‰çš„â€œé¢„è®­ç»ƒ+å¾®è°ƒâ€æ¡†æ¶ï¼Œå‡å°‘äººå·¥æ ‡æ³¨éœ€æ±‚ ã€‚</li>
</ul>
<h5 id="2-4"><a href="#2-4" class="headerlink" title="2"></a>2</h5><p>ååŒè®­ç»ƒç®—æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿè¯·ç®€è¿°ç®—æ³•ä¸»è¦æµç¨‹å’Œæ‰€éœ€æ¡ä»¶ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰ä½œç”¨ä¸æ ¸å¿ƒæ€æƒ³</strong>  </p>
<p>ååŒè®­ç»ƒæ˜¯ä¸€ç§å…¸å‹çš„åŠç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œé€‚ç”¨äº<strong>å¤šè§†å›¾æ•°æ®</strong>ï¼ˆMulti-view Dataï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å¤šä¸ªåˆ†ç±»å™¨çš„åä½œï¼Œåˆ©ç”¨æœªæ ‡è®°æ•°æ®æ‰©å±•è®­ç»ƒé›†ï¼Œæœ€ç»ˆæå‡æ¨¡å‹æ€§èƒ½ã€‚  </p>
<ul>
<li><strong>å¤šè§†å›¾æ¡ä»¶</strong>ï¼š  <ul>
<li><strong>å……åˆ†å†—ä½™</strong>ï¼šæ¯ä¸ªè§†å›¾æœ¬èº«åŒ…å«è¶³å¤Ÿä¿¡æ¯ï¼Œå¯ç‹¬ç«‹å®Œæˆä»»åŠ¡ã€‚  </li>
<li><strong>æ¡ä»¶ç‹¬ç«‹æ€§</strong>ï¼šåœ¨ç»™å®šç±»åˆ«æ ‡ç­¾çš„æ¡ä»¶ä¸‹ï¼Œä¸åŒè§†å›¾çš„ç‰¹å¾ç›¸äº’ç‹¬ç«‹ ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰ç®—æ³•æµç¨‹</strong>  </p>
<ol>
<li><strong>åˆå§‹åŒ–é˜¶æ®µ</strong>ï¼š  <ul>
<li>ä½¿ç”¨å°‘é‡æ ‡è®°æ•°æ® $ D_l $ï¼Œåˆ†åˆ«è®­ç»ƒä¸¤ä¸ªåˆ†ç±»å™¨ $ h_1 $ï¼ˆåŸºäºè§†å›¾ $ V_1 $ï¼‰å’Œ $ h_2 $ï¼ˆåŸºäºè§†å›¾ $ V_2 $ï¼‰ã€‚  </li>
</ul>
</li>
<li><strong>ä¼ªæ ‡ç­¾ç”Ÿæˆ</strong>ï¼š  <ul>
<li>å¯¹æœªæ ‡è®°æ•°æ® $ D_u $ï¼Œ$ h_1 $ é¢„æµ‹ $ V_2 $ çš„ä¼ªæ ‡ç­¾ï¼Œ$ h_2 $ é¢„æµ‹ $ V_1 $ çš„ä¼ªæ ‡ç­¾ã€‚  </li>
<li>é€‰æ‹©ç½®ä¿¡åº¦é«˜äºé˜ˆå€¼çš„æ ·æœ¬åŠ å…¥è®­ç»ƒé›†ï¼ˆå¦‚ $ h_1 $ çš„é¢„æµ‹ç»“æœç”¨äºæ›´æ–° $ h_2 $ çš„è®­ç»ƒæ•°æ®ï¼Œåä¹‹äº¦ç„¶ï¼‰ã€‚  </li>
</ul>
</li>
<li><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼š  <ul>
<li>é‡å¤ä¼ªæ ‡ç­¾ç”Ÿæˆå’Œæ¨¡å‹è®­ç»ƒï¼Œç›´åˆ°æœªæ ‡è®°æ•°æ®è€—å°½æˆ–æ¨¡å‹æ”¶æ•› ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ï¼ˆ3ï¼‰æ‰€éœ€æ¡ä»¶</strong>  </p>
<ul>
<li><strong>å¤šè§†å›¾åˆ’åˆ†</strong>ï¼šæ•°æ®éœ€æ»¡è¶³â€œå……åˆ†å†—ä½™â€å’Œâ€œæ¡ä»¶ç‹¬ç«‹æ€§â€ï¼ˆå¦‚å›¾åƒçš„RGBé€šé“ä¸çº¹ç†ç‰¹å¾ï¼‰ã€‚  </li>
<li><strong>åˆ†ç±»å™¨å¤šæ ·æ€§</strong>ï¼šé€‰æ‹©å·®å¼‚è¾ƒå¤§çš„åˆ†ç±»å™¨ï¼ˆå¦‚SVM + å†³ç­–æ ‘ï¼‰ï¼Œå¢å¼ºäº’è¡¥æ€§ã€‚  </li>
<li><strong>ä¼ªæ ‡ç­¾å¯é æ€§</strong>ï¼šåˆå§‹æ¨¡å‹éœ€æœ‰ä¸€å®šæ€§èƒ½ï¼Œé¿å…é”™è¯¯ä¼ªæ ‡ç­¾æ±¡æŸ“è®­ç»ƒé›† ã€‚</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/01/%E5%AD%A6%E4%B9%A0/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/06/01/%E5%AD%A6%E4%B9%A0/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" class="post-title-link" itemprop="url">weatherwebå¼€å‘å­¦ä¹ è®°å½•</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-01 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-01T00:00:00+08:00">2025-06-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-06-12 18:48:30" itemprop="dateModified" datetime="2025-06-12T18:48:30+08:00">2025-06-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" itemprop="url" rel="index"><span itemprop="name">weatherwebå¼€å‘æ—¥å¿—</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="é¡¹ç›®è¦æ±‚"><a href="#é¡¹ç›®è¦æ±‚" class="headerlink" title="é¡¹ç›®è¦æ±‚"></a>é¡¹ç›®è¦æ±‚</h3><p>æ™ºèƒ½å¤©æ°”æé†’åŠ©æ‰‹</p>
<p>æè¿°ï¼šå¼€å‘ä¸€æ¬¾webåº”ç”¨ï¼Œå®æ—¶è·å–å¤©æ°”æ•°æ®å¹¶æ”¯æŒä¸ªæ€§åŒ–æé†’ï¼ˆå¦‚é›¨å¤©å¸¦ä¼ï¼‰ã€‚</p>
<p>è¦æ±‚ï¼š</p>
<p>è°ƒç”¨å¤©æ°”APIè·å–å®æ—¶æ•°æ®ï¼ˆå¦‚OpenWeatherMapï¼Œæ¯å¤©1000æ¬¡å…è´¹è°ƒç”¨ï¼‰</p>
<p>ä½¿ç”¨å‰ç«¯ä¸‰ä»¶å¥—è®¾è®¡äº¤äº’ç•Œé¢ï¼Œå±•ç¤ºå½“å‰åŠæœªæ¥å¤©æ°”ä¿¡æ¯ï¼Œç©ºæ°”è´¨é‡ã€ä½“æ„Ÿæ¸©åº¦ã€æ—¥å‡ºæ—¥è½ã€æœˆç›¸ç­‰ä¿¡æ¯ï¼›</p>
<p>ä½¿ç”¨fastapiåšåç«¯</p>
<p>æ”¯æŒåœ°ç‚¹è®¾ç½®å’Œå¤©æ°”æé†’æ¡ä»¶é…ç½®ï¼Œåœ¨é¢„è®¾çš„æé†’æ¡ä»¶ä¸‹æé†’ç”¨æˆ·ï¼Œå¹¶ä¸”å°†ç”¨æˆ·åå¥½ä¿å­˜è‡³æœ¬åœ°æ–‡ä»¶ã€‚</p>
<p>å¤šåŸå¸‚åˆ‡æ¢ã€å†å²å¤©æ°”æŸ¥è¯¢ã€å…¨çƒåœ°å›¾å±•ç¤ºç­‰é¢å¤–åŠŸèƒ½ï¼ˆå¯é€‰*ï¼‰ã€‚</p>
<h3 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h3><p>fastapiï¼Œå‰ç«¯ä¸‰ä»¶å¥—(fetchapi)ï¼Œapifox</p>
<h3 id="fetchapi"><a href="#fetchapi" class="headerlink" title="fetchapi"></a>fetchapi</h3><p><strong>Fetch API</strong> æ˜¯ç°ä»£æµè§ˆå™¨æä¾›çš„æ ‡å‡†ç½‘ç»œè¯·æ±‚æ¥å£ï¼Œå…è®¸å¼€å‘è€…é€šè¿‡ JavaScript å‘èµ·å¼‚æ­¥ HTTP è¯·æ±‚ï¼ˆå¦‚ GETã€POSTã€PUTã€DELETE ç­‰ï¼‰ï¼Œå¹¶å¤„ç†å“åº”æ•°æ®ï¼ˆå¦‚ JSONã€æ–‡æœ¬ã€å›¾ç‰‡ç­‰ï¼‰ã€‚å®ƒæ˜¯ä¼ ç»Ÿ <code>XMLHttpRequest</code>ï¼ˆAJAXï¼‰çš„æ›¿ä»£æ–¹æ¡ˆï¼Œè¯­æ³•æ›´ç®€æ´ï¼Œä¸”æ”¯æŒ Promise å¼‚æ­¥ç¼–ç¨‹ã€‚</p>
<p><strong>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨ä½œç»™åç«¯å‘é€è¯·æ±‚ï¼Œå®ç°å‰åç«¯åˆ†ç¦»</strong></p>
<p><img src="/2025/06/01/%E5%AD%A6%E4%B9%A0/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/image-20250609163335375.png" alt="image-20250609163335375"></p>
<h4 id="ç”¨æ³•å­¦ä¹ "><a href="#ç”¨æ³•å­¦ä¹ " class="headerlink" title="ç”¨æ³•å­¦ä¹ "></a>ç”¨æ³•å­¦ä¹ </h4><p>åœ¨ä½¿ç”¨ <code>fetch</code> å‘èµ· HTTP è¯·æ±‚æ—¶ï¼Œ<code>method</code>ã€<code>headers</code> å’Œ <code>body</code> æ˜¯é…ç½®è¯·æ±‚çš„æ ¸å¿ƒå‚æ•°ï¼Œå®ƒä»¬å…±åŒå†³å®šäº†è¯·æ±‚çš„è¡Œä¸ºå’Œæ•°æ®æ ¼å¼ã€‚ä»¥ä¸‹æ˜¯æ¯ä¸ªå‚æ•°çš„å…·ä½“ä½œç”¨åŠç¤ºä¾‹ï¼š</p>
<h5 id="1-method-39-POST-39"><a href="#1-method-39-POST-39" class="headerlink" title="1. method: &#39;POST&#39;"></a><strong>1. <code>method: &#39;POST&#39;</code></strong></h5><p><strong>ä½œç”¨</strong></p>
<p>æŒ‡å®š HTTP è¯·æ±‚çš„æ–¹æ³•ï¼ˆåŠ¨è¯ï¼‰ï¼Œ<code>POST</code> è¡¨ç¤ºå‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼ˆå¦‚åˆ›å»ºèµ„æºï¼‰ã€‚</p>
<ul>
<li><strong>å¸¸è§æ–¹æ³•</strong>ï¼š<ul>
<li><code>GET</code>ï¼šè·å–æ•°æ®ï¼ˆé»˜è®¤æ–¹æ³•ï¼Œæ— éœ€æ˜¾å¼å£°æ˜ï¼‰ã€‚</li>
<li><code>POST</code>ï¼šæäº¤æ•°æ®ï¼ˆå¦‚æ–°å¢è®°å½•ï¼‰ã€‚</li>
<li><code>PUT</code>ï¼šæ›´æ–°æ•°æ®ã€‚</li>
<li><code>DELETE</code>ï¼šåˆ é™¤æ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>ä¸åç«¯äº¤äº’</strong>ï¼šFastAPI çš„è·¯ç”±é€šè¿‡ <code>@app.post()</code>ã€<code>@app.get()</code> ç­‰è£…é¥°å™¨åŒ¹é…è¯·æ±‚æ–¹æ³•ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://api.example.com/submit&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>, <span class="comment">// å‘Šè¯‰æœåŠ¡å™¨è¿™æ˜¯ä¸€ä¸ªæäº¤è¯·æ±‚</span></span><br><span class="line">  <span class="comment">// ...å…¶ä»–é…ç½®</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="2-headers-è¯·æ±‚å¤´"><a href="#2-headers-è¯·æ±‚å¤´" class="headerlink" title="2. headers è¯·æ±‚å¤´"></a><strong>2. <code>headers</code> è¯·æ±‚å¤´</strong></h5><p><strong>ä½œç”¨</strong></p>
<p>å®šä¹‰è¯·æ±‚çš„å…ƒä¿¡æ¯ï¼Œç”¨äºå‘ŠçŸ¥æœåŠ¡å™¨å¦‚ä½•å¤„ç†è¯·æ±‚å’Œæ•°æ®æ ¼å¼ã€‚</p>
<ul>
<li><strong>å…³é”®å­—æ®µ</strong>ï¼š<ul>
<li><strong><code>Content-Type</code></strong>ï¼šæŒ‡å®šè¯·æ±‚ä½“ï¼ˆ<code>body</code>ï¼‰çš„æ•°æ®æ ¼å¼ã€‚<ul>
<li><code>application/json</code>ï¼šè¡¨ç¤ºå‘é€ JSON æ•°æ®ã€‚</li>
<li><code>application/x-www-form-urlencoded</code>ï¼šè¡¨ç¤ºè¡¨å•æ•°æ®ï¼ˆé”®å€¼å¯¹ï¼‰ã€‚</li>
<li><code>multipart/form-data</code>ï¼šç”¨äºä¸Šä¼ æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li><strong><code>Authorization</code></strong>ï¼šæºå¸¦èº«ä»½å‡­è¯ï¼ˆå¦‚ Tokenï¼‰ã€‚</li>
<li><strong><code>Accept</code></strong>ï¼šå£°æ˜å®¢æˆ·ç«¯æœŸæœ›çš„å“åº”æ ¼å¼ï¼ˆå¦‚ JSONã€XMLï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">headers</span>: &#123;</span><br><span class="line">  <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>, <span class="comment">// å‘Šè¯‰æœåŠ¡å™¨è¯·æ±‚ä½“æ˜¯ JSON</span></span><br><span class="line">  <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;Bearer your_token_here&#x27;</span> <span class="comment">// èº«ä»½éªŒè¯ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="3-body-JSON-stringify-item"><a href="#3-body-JSON-stringify-item" class="headerlink" title="3. body: JSON.stringify(item)"></a><strong>3. <code>body: JSON.stringify(item)</code></strong></h5><p><strong>ä½œç”¨</strong></p>
<p>å®šä¹‰è¯·æ±‚ä½“ï¼ˆå³å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ï¼‰ï¼Œéœ€æ ¹æ® <code>Content-Type</code> çš„ç±»å‹è¿›è¡Œæ ¼å¼åŒ–ã€‚</p>
<ul>
<li><strong><code>JSON.stringify(item)</code></strong>ï¼šå°† JavaScript å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ã€‚<ul>
<li>å› ä¸º HTTP åè®®åªèƒ½ä¼ è¾“æ–‡æœ¬ï¼Œä¸èƒ½ç›´æ¥ä¼ è¾“å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š<ul>
<li>è‹¥æœªè®¾ç½® <code>Content-Type: application/json</code>ï¼ŒæœåŠ¡å™¨å¯èƒ½æ— æ³•æ­£ç¡®è§£ææ•°æ®ã€‚</li>
<li>è‹¥ä½¿ç”¨ <code>FormData</code> ä¸Šä¼ æ–‡ä»¶ï¼Œéœ€ä½¿ç”¨ <code>multipart/form-data</code> æ ¼å¼ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> item = &#123; <span class="attr">name</span>: <span class="string">&quot;Apple&quot;</span>, <span class="attr">price</span>: <span class="number">1.99</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(item) <span class="comment">// è½¬æ¢ä¸º &#x27;&#123;&quot;name&quot;:&quot;Apple&quot;,&quot;price&quot;:1.99&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<h5 id="å®Œæ•´ç¤ºä¾‹ï¼šå‘-FastAPI-æäº¤æ•°æ®"><a href="#å®Œæ•´ç¤ºä¾‹ï¼šå‘-FastAPI-æäº¤æ•°æ®" class="headerlink" title="å®Œæ•´ç¤ºä¾‹ï¼šå‘ FastAPI æäº¤æ•°æ®"></a><strong>å®Œæ•´ç¤ºä¾‹ï¼šå‘ FastAPI æäº¤æ•°æ®</strong></h5><p><strong>FastAPI åç«¯å®šä¹‰</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Item</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    name: <span class="built_in">str</span></span><br><span class="line">    price: <span class="built_in">float</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/items/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">create_item</span>(<span class="params">item: Item</span>):</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Item created&quot;</span>, <span class="string">&quot;item&quot;</span>: item&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å‰ç«¯è°ƒç”¨</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> item = &#123; <span class="attr">name</span>: <span class="string">&quot;Banana&quot;</span>, <span class="attr">price</span>: <span class="number">0.99</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;http://localhost:8000/items/&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span> <span class="comment">// å¿…é¡»ä¸æ•°æ®æ ¼å¼åŒ¹é…</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(item) <span class="comment">// å°†å¯¹è±¡è½¬ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">&#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(data))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error:&#x27;</span>, error));</span><br></pre></td></tr></table></figure>
<h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h5><div class="table-container">
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>ä½œç”¨</th>
<th>å¿…å¡«æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>method</code></td>
<td>å®šä¹‰è¯·æ±‚ç±»å‹ï¼ˆå¦‚ <code>POST</code>ï¼‰</td>
<td>å¿…å¡«ï¼ˆé <code>GET</code> æ—¶ï¼‰</td>
</tr>
<tr>
<td><code>headers</code></td>
<td>å£°æ˜æ•°æ®æ ¼å¼ã€èº«ä»½å‡­è¯ç­‰</td>
<td>å¿…å¡«ï¼ˆå°¤å…¶ <code>Content-Type</code>ï¼‰</td>
</tr>
<tr>
<td><code>body</code></td>
<td>å‘é€çš„æ•°æ®ï¼ˆéœ€æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼‰</td>
<td>å¿…å¡«ï¼ˆ<code>POST</code>/<code>PUT</code> æ—¶ï¼‰</td>
</tr>
</tbody>
</table>
</div>
<p><strong>å…³é”®ç‚¹</strong>ï¼š  </p>
<ul>
<li><code>POST</code> è¯·æ±‚å¿…é¡»è®¾ç½® <code>headers[&#39;Content-Type&#39;]</code> å’Œ <code>body</code>ã€‚</li>
<li><code>JSON.stringify()</code> æ˜¯å‘é€ JSON æ•°æ®çš„å…³é”®æ­¥éª¤ã€‚</li>
<li>FastAPI ä¼šæ ¹æ® <code>Content-Type</code> è‡ªåŠ¨è§£æè¯·æ±‚ä½“å¹¶è¿›è¡Œæ•°æ®æ ¡éªŒï¼ˆé€šè¿‡ Pydantic æ¨¡å‹ï¼‰ã€‚</li>
</ul>
<h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><h4 id="CORS-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#CORS-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="CORS æ˜¯ä»€ä¹ˆï¼Ÿ"></a><strong>CORS æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h4><p><strong>CORSï¼ˆCross-Origin Resource Sharingï¼‰</strong> æ˜¯ä¸€ç§æµè§ˆå™¨å®‰å…¨æœºåˆ¶ï¼Œç”¨äºè§£å†³ <strong>è·¨åŸŸè¯·æ±‚</strong> çš„é—®é¢˜ã€‚å®ƒå…è®¸æœåŠ¡å™¨æ˜ç¡®æˆæƒæŸäº›è·¨åŸŸè¯·æ±‚ï¼Œä»è€Œåœ¨ä¿éšœå®‰å…¨çš„å‰æä¸‹ï¼Œå®ç°å‰åç«¯åˆ†ç¦»æ¶æ„ä¸­çš„è·¨åŸŸé€šä¿¡ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆéœ€è¦-CORSï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦-CORSï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ CORSï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆéœ€è¦ CORSï¼Ÿ</strong></h4><p><strong>1. åŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰</strong></p>
<p>æµè§ˆå™¨é»˜è®¤éµå¾ª <strong>åŒæºç­–ç•¥</strong>ï¼Œå³ç½‘é¡µåªèƒ½è¯·æ±‚ä¸è‡ªèº« <strong>åŒæºï¼ˆç›¸åŒåŸŸåã€åè®®ã€ç«¯å£ï¼‰</strong> çš„èµ„æºã€‚<br><strong>ä¾‹å¦‚</strong>ï¼š</p>
<ul>
<li>å‰ç«¯åœ°å€ï¼š<code>http://localhost:3000</code></li>
<li>åç«¯åœ°å€ï¼š<code>http://localhost:8000</code><br>æ­¤æ—¶ï¼Œå‰ç«¯å‘åç«¯å‘èµ·çš„è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ <strong>æ‹¦æˆª</strong>ï¼Œå› ä¸ºç«¯å£ä¸åŒï¼ˆ3000 vs 8000ï¼‰ã€‚</li>
</ul>
<p><strong>2. è·¨åŸŸåœºæ™¯</strong></p>
<p>è·¨åŸŸæ˜¯å‰åç«¯åˆ†ç¦»æ¶æ„ä¸­çš„å¸¸è§é—®é¢˜ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å‰ç«¯éƒ¨ç½²åœ¨ <code>https://example.com</code>ï¼Œåç«¯ API åœ¨ <code>https://api.example.com</code>ã€‚</li>
<li>å‰ç«¯æœ¬åœ°å¼€å‘ï¼ˆ<code>localhost:3000</code>ï¼‰è°ƒç”¨åç«¯æœåŠ¡ï¼ˆ<code>localhost:8000</code>ï¼‰ã€‚</li>
</ul>
<p><strong>3. CORS çš„ä½œç”¨</strong></p>
<p>CORS é€šè¿‡ <strong>æœåŠ¡å™¨å“åº”å¤´</strong> å‘Šè¯‰æµè§ˆå™¨ï¼šâ€œè¿™ä¸ªè·¨åŸŸè¯·æ±‚æ˜¯å®‰å…¨çš„ï¼Œå…è®¸å®ƒé€šè¿‡â€ã€‚<br>æµè§ˆå™¨æ ¹æ®è¿™äº›å“åº”å¤´å†³å®šæ˜¯å¦æ”¾è¡Œè¯·æ±‚ã€‚</p>
<h4 id="å¦‚ä½•é…ç½®-CORSï¼Ÿ"><a href="#å¦‚ä½•é…ç½®-CORSï¼Ÿ" class="headerlink" title="å¦‚ä½•é…ç½® CORSï¼Ÿ"></a><strong>å¦‚ä½•é…ç½® CORSï¼Ÿ</strong></h4><p>ä»¥ <strong>FastAPI</strong> ä¸ºä¾‹ï¼Œé…ç½®å…è®¸è·¨åŸŸè¯·æ±‚çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p><strong>å¯ç”¨ CORS ä¸­é—´ä»¶</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> fastapi.middleware.cors <span class="keyword">import</span> CORSMiddleware</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® CORS</span></span><br><span class="line">app.add_middleware(</span><br><span class="line">    CORSMiddleware,</span><br><span class="line">    allow_origins=[<span class="string">&quot;http://localhost:3000&quot;</span>],  <span class="comment"># å…è®¸çš„æº</span></span><br><span class="line">    allow_credentials=<span class="literal">True</span>,                    <span class="comment"># å…è®¸æºå¸¦å‡­è¯</span></span><br><span class="line">    allow_methods=[<span class="string">&quot;*&quot;</span>],                       <span class="comment"># å…è®¸æ‰€æœ‰æ–¹æ³•ï¼ˆGETã€POST ç­‰ï¼‰</span></span><br><span class="line">    allow_headers=[<span class="string">&quot;*&quot;</span>],                       <span class="comment"># å…è®¸æ‰€æœ‰å¤´ä¿¡æ¯</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="CORS-çš„å®é™…åº”ç”¨åœºæ™¯"><a href="#CORS-çš„å®é™…åº”ç”¨åœºæ™¯" class="headerlink" title="CORS çš„å®é™…åº”ç”¨åœºæ™¯"></a><strong>CORS çš„å®é™…åº”ç”¨åœºæ™¯</strong></h4><p><strong>1. å‰åç«¯åˆ†ç¦»å¼€å‘</strong></p>
<ul>
<li>å‰ç«¯ï¼ˆReact/Vueï¼‰è¿è¡Œåœ¨ <code>localhost:3000</code>ï¼Œåç«¯ï¼ˆFastAPIï¼‰è¿è¡Œåœ¨ <code>localhost:8000</code>ã€‚</li>
<li>é…ç½® <code>allow_origins=[&quot;http://localhost:3000&quot;]</code> å…è®¸è·¨åŸŸé€šä¿¡ã€‚</li>
</ul>
<p><strong>2. ç¬¬ä¸‰æ–¹ API è°ƒç”¨</strong></p>
<ul>
<li>å‰ç«¯ç›´æ¥è°ƒç”¨ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚å¤©æ°” APIï¼‰ï¼Œéœ€æœåŠ¡å™¨å¯ç”¨ CORSã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>Access-Control-Allow-Origin: *</code> è¡¨ç¤ºå…è®¸æ‰€æœ‰æ¥æºã€‚</li>
</ul>
<p><strong>3. éœ€è¦å‡­è¯çš„åœºæ™¯</strong></p>
<ul>
<li>å‰ç«¯éœ€æºå¸¦ Cookie æˆ– Token è®¿é—®åç«¯æ¥å£ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">app.add_middleware(</span><br><span class="line">    CORSMiddleware,</span><br><span class="line">    allow_origins=[<span class="string">&quot;http://localhost:3000&quot;</span>],</span><br><span class="line">    allow_credentials=<span class="literal">True</span>,  <span class="comment"># å…è®¸æºå¸¦å‡­è¯</span></span><br><span class="line">    allow_methods=[<span class="string">&quot;*&quot;</span>],</span><br><span class="line">    allow_headers=[<span class="string">&quot;*&quot;</span>],</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h4><div class="table-container">
<table>
<thead>
<tr>
<th>æ¦‚å¿µ</th>
<th>ä½œç”¨</th>
<th>é…ç½®ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>åŒæºç­–ç•¥</strong></td>
<td>æµè§ˆå™¨å®‰å…¨æœºåˆ¶ï¼Œé˜»æ­¢è·¨åŸŸè¯·æ±‚</td>
<td>é»˜è®¤å¯ç”¨</td>
</tr>
<tr>
<td><strong>CORS</strong></td>
<td>æœåŠ¡å™¨é€šè¿‡å“åº”å¤´æˆæƒè·¨åŸŸè¯·æ±‚</td>
<td><code>Access-Control-Allow-Origin</code></td>
</tr>
<tr>
<td><strong>é¢„æ£€è¯·æ±‚</strong></td>
<td>OPTIONS è¯·æ±‚ï¼ŒéªŒè¯å¤æ‚è·¨åŸŸè¯·æ±‚çš„åˆæ³•æ€§</td>
<td>è‡ªåŠ¨è§¦å‘</td>
</tr>
<tr>
<td><strong>FastAPI é…ç½®</strong></td>
<td>ä½¿ç”¨ <code>CORSMiddleware</code> ä¸­é—´ä»¶</td>
<td><code>app.add_middleware(...)</code></td>
</tr>
</tbody>
</table>
</div>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li><strong>å¼€å‘é˜¶æ®µ</strong>ï¼šå…è®¸æ‰€æœ‰æ¥æºï¼ˆ<code>allow_origins=[&quot;*&quot;]</code>ï¼‰ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šä¸¥æ ¼é™åˆ¶å…è®¸çš„æºã€æ–¹æ³•ã€å¤´ä¿¡æ¯ï¼Œé¿å…å®‰å…¨é£é™©ã€‚</li>
<li><strong>æºå¸¦å‡­è¯</strong>ï¼šå¯ç”¨ <code>allow_credentials=True</code> å¹¶æ˜ç¡®æŒ‡å®šå…è®¸çš„æºï¼ˆé¿å…ä½¿ç”¨ <code>*</code>ï¼‰ã€‚</li>
</ol>
<h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><h4 id="Nginx-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Nginx-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Nginx æ˜¯ä»€ä¹ˆï¼Ÿ"></a><strong>Nginx æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h4><p><strong>Nginx</strong>ï¼ˆå‘éŸ³ä¸º â€œengine-xâ€ï¼‰æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„å¼€æº <strong>Web æœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨ã€è´Ÿè½½å‡è¡¡å™¨å’Œ HTTP ç¼“å­˜</strong>ï¼Œå¹¿æ³›ç”¨äºç°ä»£ Web æ¶æ„ä¸­ã€‚å®ƒä»¥è½»é‡çº§ã€ä½èµ„æºæ¶ˆè€—å’Œé«˜å¹¶å‘å¤„ç†èƒ½åŠ›è‘—ç§°ï¼Œå¸¸ç”¨äºä¼˜åŒ–ç½‘ç«™æ€§èƒ½ã€ç®¡ç†æµé‡å’Œæå‡å®‰å…¨æ€§ã€‚</p>
<h4 id="Nginx-çš„æ ¸å¿ƒåŠŸèƒ½"><a href="#Nginx-çš„æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="Nginx çš„æ ¸å¿ƒåŠŸèƒ½"></a><strong>Nginx çš„æ ¸å¿ƒåŠŸèƒ½</strong></h4><p><strong>1. Web æœåŠ¡å™¨</strong></p>
<ul>
<li><strong>é™æ€èµ„æºæ‰˜ç®¡</strong>ï¼šç›´æ¥æä¾› HTMLã€CSSã€JSã€å›¾ç‰‡ç­‰é™æ€æ–‡ä»¶æœåŠ¡ã€‚</li>
<li><strong>åŠ¨æ€è¯·æ±‚è½¬å‘</strong>ï¼šå°†åŠ¨æ€è¯·æ±‚ï¼ˆå¦‚ APIï¼‰è½¬å‘ç»™åç«¯åº”ç”¨ï¼ˆå¦‚ FastAPIã€Djangoã€Node.jsï¼‰ã€‚</li>
</ul>
<p><strong>2. åå‘ä»£ç†</strong></p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè½¬å‘ç»™åç«¯æœåŠ¡å™¨ï¼ˆå¦‚ FastAPIï¼‰ï¼Œéšè—çœŸå®æœåŠ¡å™¨åœ°å€ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæé«˜å®‰å…¨æ€§ã€æ”¯æŒè´Ÿè½½å‡è¡¡ã€ç¼“å­˜å’Œ SSL ç»ˆç«¯ã€‚</li>
</ul>
<p><strong>3. è´Ÿè½½å‡è¡¡</strong></p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå°†è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªåç«¯æœåŠ¡å™¨ï¼ˆå¦‚å¤šä¸ª FastAPI å®ä¾‹ï¼‰ï¼Œé¿å…å•ç‚¹æ•…éšœã€‚</li>
<li><strong>ç®—æ³•</strong>ï¼šè½®è¯¢ï¼ˆRound Robinï¼‰ã€æœ€å°‘è¿æ¥ï¼ˆLeast Connectionsï¼‰ã€IP å“ˆå¸Œï¼ˆIP Hashï¼‰ç­‰ã€‚</li>
</ul>
<p><strong>4. SSL/TLS ç»ˆç«¯</strong></p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå¤„ç† HTTPS åŠ å¯†å’Œè§£å¯†ï¼Œå‡è½»åç«¯æœåŠ¡å™¨çš„å‹åŠ›ã€‚</li>
<li><strong>é…ç½®</strong>ï¼šç»‘å®šè¯ä¹¦å’Œç§é’¥ï¼Œå¼ºåˆ¶ HTTPSã€‚</li>
</ul>
<p><strong>5. ç¼“å­˜</strong></p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šç¼“å­˜é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€CSSï¼‰æˆ–åŠ¨æ€å†…å®¹ï¼ˆå¦‚ API å“åº”ï¼‰ï¼Œå‡å°‘åç«¯è´Ÿè½½ã€‚</li>
</ul>
<p><strong>6. é«˜å¯ç”¨æ€§å’Œå®¹é”™</strong></p>
<ul>
<li><strong>å¥åº·æ£€æŸ¥</strong>ï¼šè‡ªåŠ¨æ£€æµ‹åç«¯æœåŠ¡å™¨çŠ¶æ€ï¼Œæ•…éšœæ—¶åˆ‡æ¢å¤‡ç”¨èŠ‚ç‚¹ã€‚</li>
</ul>
<h4 id="Nginx-çš„å…¸å‹åº”ç”¨åœºæ™¯"><a href="#Nginx-çš„å…¸å‹åº”ç”¨åœºæ™¯" class="headerlink" title="Nginx çš„å…¸å‹åº”ç”¨åœºæ™¯"></a><strong>Nginx çš„å…¸å‹åº”ç”¨åœºæ™¯</strong></h4><p><strong>1. åå‘ä»£ç† FastAPI æœåŠ¡</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/nginx/sites-available/fastapi.conf</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://127.0.0.1:8000;  <span class="comment"># FastAPI æœåŠ¡åœ°å€</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå°† <code>example.com</code> çš„è¯·æ±‚è½¬å‘ç»™è¿è¡Œåœ¨ <code>127.0.0.1:8000</code> çš„ FastAPI æœåŠ¡ã€‚</li>
</ul>
<p><strong>2. é™æ€æ–‡ä»¶æ‰˜ç®¡</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> /static/ &#123;</span><br><span class="line">    <span class="attribute">alias</span> /var/www/static/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šç›´æ¥æä¾› <code>/var/www/static/</code> ç›®å½•ä¸‹çš„é™æ€æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€CSSï¼‰ã€‚</li>
</ul>
<h4 id="Nginx-ä¸-FastAPI-çš„åä½œæµç¨‹"><a href="#Nginx-ä¸-FastAPI-çš„åä½œæµç¨‹" class="headerlink" title="Nginx ä¸ FastAPI çš„åä½œæµç¨‹"></a><strong>Nginx ä¸ FastAPI çš„åä½œæµç¨‹</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ -&gt; Nginxï¼ˆåå‘ä»£ç†ï¼‰ -&gt; FastAPIï¼ˆå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼‰ -&gt; æ•°æ®åº“/å…¶ä»–æœåŠ¡</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>é™æ€èµ„æº</strong>ï¼šç”± Nginx ç›´æ¥è¿”å›ï¼ˆå¦‚ HTMLã€CSSã€JSï¼‰ã€‚</li>
<li><strong>API è¯·æ±‚</strong>ï¼šNginx è½¬å‘ç»™ FastAPIï¼ŒFastAPI å¤„ç†åè¿”å› JSON æ•°æ®ã€‚</li>
<li><strong>HTTPS</strong>ï¼šNginx å¤„ç†åŠ å¯†å’Œè§£å¯†ï¼ŒFastAPI æ— éœ€å…³å¿ƒ SSLã€‚</li>
</ol>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li><strong>å¼€å‘é˜¶æ®µ</strong>ï¼šç›´æ¥è¿è¡Œ FastAPIï¼ˆ<code>uvicorn main:app --reload</code>ï¼‰ã€‚</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šNginx + FastAPIï¼ˆGunicorn/Uvicornï¼‰ + æ•°æ®åº“ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¯ç”¨ Gzip å‹ç¼©ã€HTTP/2ã€ç¼“å­˜é™æ€èµ„æºã€‚</li>
</ol>
<p>é€šè¿‡ Nginx çš„åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥æ˜¾è‘—æå‡ FastAPI åº”ç”¨çš„æ€§èƒ½ã€å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h3 id="åå‘ä»£ç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#åå‘ä»£ç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="åå‘ä»£ç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>åå‘ä»£ç†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰</strong> æ˜¯ä¸€ç§æœåŠ¡å™¨è§’è‰²ï¼Œå®ƒä½äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ï¼Œæ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚åï¼Œå°†è¯·æ±‚è½¬å‘ç»™åç«¯æœåŠ¡å™¨ï¼ˆå¦‚ FastAPIã€Djangoã€Node.js ç­‰ï¼‰ï¼Œå¹¶å°†åç«¯æœåŠ¡å™¨çš„å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚<strong>å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯éšè—åç«¯æœåŠ¡å™¨çš„çœŸå®åœ°å€ï¼Œä¼˜åŒ–è¯·æ±‚å¤„ç†æµç¨‹ï¼Œå¹¶å¢å¼ºå®‰å…¨æ€§</strong>ã€‚</p>
<p>åå‘ä»£ç†æ˜¯ç°ä»£ Web æ¶æ„ä¸­ä¸å¯æˆ–ç¼ºçš„ç»„ä»¶ï¼Œå°¤å…¶åœ¨å‰åç«¯åˆ†ç¦»ã€å¾®æœåŠ¡ã€é«˜å¹¶å‘åœºæ™¯ä¸‹ä½œç”¨æ˜¾è‘—ã€‚é€šè¿‡ Nginx ç­‰å·¥å…·å®ç°åå‘ä»£ç†ï¼Œå¯ä»¥ï¼š</p>
<ul>
<li>æå‡å®‰å…¨æ€§ï¼ˆéšè—åç«¯ã€è¿‡æ»¤æ”»å‡»ï¼‰ã€‚</li>
<li>ä¼˜åŒ–æ€§èƒ½ï¼ˆè´Ÿè½½å‡è¡¡ã€ç¼“å­˜é™æ€èµ„æºï¼‰ã€‚</li>
<li>ç®€åŒ–è¿ç»´ï¼ˆé›†ä¸­ç®¡ç† SSLã€æ—¥å¿—ï¼‰ã€‚</li>
</ul>
<p>å¯¹äº FastAPI é¡¹ç›®ï¼Œæ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ Nginx ä½œä¸ºåå‘ä»£ç†ï¼Œä»¥å……åˆ†å‘æŒ¥å…¶é«˜æ€§èƒ½å’Œçµæ´»æ€§ä¼˜åŠ¿ã€‚</p>
<h3 id="äºŒçº§åŸŸåæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#äºŒçº§åŸŸåæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="äºŒçº§åŸŸåæ˜¯ä»€ä¹ˆï¼Ÿ"></a>äºŒçº§åŸŸåæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>äºŒçº§åŸŸåï¼ˆSecond-Level Domain, SLDï¼‰</strong> æ˜¯åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰ä¸­çš„ä¸€ä¸ªå±‚çº§ï¼Œé€šå¸¸ä½äºé¡¶çº§åŸŸåï¼ˆTLDï¼‰ä¹‹ä¸‹ï¼Œä¸»åŸŸåï¼ˆä¸€çº§åŸŸåï¼‰ä¹‹ä¸Šã€‚å®ƒæ˜¯åŸŸåç»“æ„ä¸­çš„å…³é”®éƒ¨åˆ†ï¼Œç”¨äºæ ‡è¯†ç½‘ç«™æˆ–æœåŠ¡çš„ä¸»ä½“ã€‚</p>
<p><strong>åŸŸåå±‚çº§ç»“æ„</strong></p>
<p>åŸŸåç”±å¤šä¸ªå±‚çº§ç»„æˆï¼Œä»å³å‘å·¦å±‚çº§é€’å¢ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mail.example.com</span><br><span class="line">|     |        |</span><br><span class="line">|     |        â””â”€â”€ é¡¶çº§åŸŸåï¼ˆTLDï¼‰ï¼šcom/net/org</span><br><span class="line">|     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ äºŒçº§åŸŸåï¼ˆSLDï¼‰ï¼šexample</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å­åŸŸåï¼ˆSubdomainï¼‰ï¼šmail</span><br></pre></td></tr></table></figure>
<p><strong>1. é¡¶çº§åŸŸåï¼ˆTLDï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šåŸŸåçš„æœ€åä¸€éƒ¨åˆ†ï¼Œè¡¨ç¤ºåŸŸåçš„ç±»åˆ«æˆ–å›½å®¶/åœ°åŒºã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>.com</code>ï¼ˆå•†ä¸šï¼‰ã€<code>.org</code>ï¼ˆéè¥åˆ©ç»„ç»‡ï¼‰ã€<code>.net</code>ï¼ˆç½‘ç»œæœåŠ¡ï¼‰ã€<code>.cn</code>ï¼ˆä¸­å›½ï¼‰ã€<code>.jp</code>ï¼ˆæ—¥æœ¬ï¼‰ã€‚</li>
</ul>
<p><strong>2. äºŒçº§åŸŸåï¼ˆSLDï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šä½äº TLD ä¹‹ä¸‹çš„åŸŸåéƒ¨åˆ†ï¼Œæ˜¯åŸŸåçš„ä¸»ä½“ï¼Œé€šå¸¸ç”±ç”¨æˆ·æ³¨å†Œå¹¶æ‹¥æœ‰ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šåœ¨ <code>example.com</code> ä¸­ï¼Œ<code>example</code> æ˜¯äºŒçº§åŸŸåã€‚</li>
</ul>
<p><strong>3. å­åŸŸåï¼ˆSubdomainï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šåœ¨äºŒçº§åŸŸåå‰æ·»åŠ çš„å‰ç¼€ï¼Œç”¨äºè¿›ä¸€æ­¥ç»†åˆ†ç½‘ç«™æˆ–æœåŠ¡ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šåœ¨ <code>mail.example.com</code> ä¸­ï¼Œ<code>mail</code> æ˜¯å­åŸŸåã€‚</li>
</ul>
<p><strong>äºŒçº§åŸŸåçš„å¸¸è§ç”¨é€”</strong></p>
<ol>
<li><strong>å“ç‰Œæ ‡è¯†</strong>ï¼š<br>äºŒçº§åŸŸåæ˜¯å“ç‰Œçš„æ ¸å¿ƒæ ‡è¯†ï¼Œå¦‚ <code>google.com</code>ã€<code>apple.com</code>ã€‚</li>
<li><strong>æœåŠ¡åˆ’åˆ†</strong>ï¼š<br>é€šè¿‡å­åŸŸååŒºåˆ†ä¸åŒæœåŠ¡ï¼Œä¾‹å¦‚ï¼š<ul>
<li><code>mail.google.com</code>ï¼šé‚®ä»¶æœåŠ¡</li>
<li><code>drive.google.com</code>ï¼šäº‘å­˜å‚¨æœåŠ¡</li>
<li><code>maps.google.com</code>ï¼šåœ°å›¾æœåŠ¡</li>
</ul>
</li>
<li><strong>å¤šè¯­è¨€æˆ–åœ°åŒºæ”¯æŒ</strong>ï¼š<br>é€šè¿‡äºŒçº§åŸŸåæä¾›æœ¬åœ°åŒ–å†…å®¹ï¼Œä¾‹å¦‚ï¼š<ul>
<li><code>fr.wikipedia.org</code>ï¼ˆæ³•è¯­ç‰ˆï¼‰</li>
<li><code>zh.wikipedia.org</code>ï¼ˆä¸­æ–‡ç‰ˆï¼‰</li>
</ul>
</li>
</ol>
<h3 id="DOMå…ƒç´ "><a href="#DOMå…ƒç´ " class="headerlink" title="DOMå…ƒç´ "></a>DOMå…ƒç´ </h3><p><strong>DOMï¼ˆDocument Object Modelï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰</strong> æ˜¯æµè§ˆå™¨å°† HTML æˆ– XML æ–‡æ¡£è§£æä¸ºæ ‘çŠ¶ç»“æ„çš„ç¼–ç¨‹æ¥å£ã€‚<strong>DOM å…ƒç´ </strong> æ˜¯æ„æˆè¿™æ£µæ ‘çš„èŠ‚ç‚¹ï¼ˆå¦‚ <code>&lt;div&gt;</code>ã€<code>&lt;p&gt;</code>ã€<code>&lt;button&gt;</code> ç­‰ï¼‰ï¼Œå®ƒä»¬ä¸ä»…æ˜¯é¡µé¢å†…å®¹çš„è½½ä½“ï¼Œæ›´æ˜¯å®ç°åŠ¨æ€äº¤äº’çš„æ ¸å¿ƒå·¥å…·ã€‚</p>
<h3 id="å¼€å‘æ—¥å¿—"><a href="#å¼€å‘æ—¥å¿—" class="headerlink" title="å¼€å‘æ—¥å¿—"></a>å¼€å‘æ—¥å¿—</h3><h4 id="api"><a href="#api" class="headerlink" title="api"></a>api</h4><p>è·å–api<a target="_blank" rel="noopener" href="https://home.openweathermap.org/api_keys">https://home.openweathermap.org/api_keys</a></p>
<p>apiæ–‡æ¡£<a target="_blank" rel="noopener" href="https://openweathermap.org/api">Weather API - OpenWeatherMap</a></p>
<h4 id="ç‰ˆæœ¬1-0"><a href="#ç‰ˆæœ¬1-0" class="headerlink" title="ç‰ˆæœ¬1.0"></a>ç‰ˆæœ¬1.0</h4><p><img src="/2025/06/01/%E5%AD%A6%E4%B9%A0/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/image-20250602191448931.png" alt="image-20250602191448931"></p>
<p>å®ŒæˆåŸºæœ¬å¤©æ°”åŠŸèƒ½çš„å¼€å‘</p>
<h4 id="ç‰ˆæœ¬2-0"><a href="#ç‰ˆæœ¬2-0" class="headerlink" title="ç‰ˆæœ¬2.0"></a>ç‰ˆæœ¬2.0</h4><p><img src="/2025/06/01/%E5%AD%A6%E4%B9%A0/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/weatherweb%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/image-20250604095743649.png" alt="image-20250604095743649"></p>
<p>å®Œæˆaiå»ºè®®åŠŸèƒ½</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/21/diary/%E8%84%9A%E8%B8%8F%E5%AE%9E%E5%9C%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/21/diary/%E8%84%9A%E8%B8%8F%E5%AE%9E%E5%9C%B0/" class="post-title-link" itemprop="url">è„šè¸å®åœ°</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-21 00:00:00 / ä¿®æ”¹æ—¶é—´ï¼š20:23:38" itemprop="dateCreated datePublished" datetime="2025-05-21T00:00:00+08:00">2025-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">éšç¬”</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="è„šè¸å®åœ°"><a href="#è„šè¸å®åœ°" class="headerlink" title="è„šè¸å®åœ°"></a>è„šè¸å®åœ°</h3><p>æ²¡æœ‰ä¸€å¤œæš´å¯Œçš„ç¾æ¢¦ï¼Œå¤©ä¸‹æ‰é¦…é¥¼çš„äº‹æƒ…åªæœ‰å¯èƒ½æ˜¯è¯±æƒ‘ï¼Œåœ¨å¾—åˆ°æŸäº›å¥½å¤„å‰å…ˆæƒ³ä¸€æƒ³ä½ é…ä¸é…ã€‚</p>
<p>æœç»å¿ƒæµ®æ°”èºï¼Œç”¨åŒæ‰‹åˆ¶é€ è´¢å¯Œã€‚.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/14/%E5%AD%A6%E4%B9%A0/kaggle/titanic/%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E7%AC%AC%E4%B8%80%E8%8A%82%E6%95%B0%E6%8D%AE%E8%BD%BD%E5%85%A5%E5%8F%8A%E5%88%9D%E6%AD%A5%E8%A7%82%E5%AF%9F-%E8%AF%BE%E7%A8%8B-checkpoint/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/14/%E5%AD%A6%E4%B9%A0/kaggle/titanic/%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E7%AC%AC%E4%B8%80%E8%8A%82%E6%95%B0%E6%8D%AE%E8%BD%BD%E5%85%A5%E5%8F%8A%E5%88%9D%E6%AD%A5%E8%A7%82%E5%AF%9F-%E8%AF%BE%E7%A8%8B-checkpoint/" class="post-title-link" itemprop="url">æ•°æ®åˆ†æâ€”â€”ç¬¬ä¸€ç« ï¼šç¬¬ä¸€èŠ‚æ•°æ®è½½å…¥åŠåˆæ­¥è§‚å¯Ÿ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-14 00:00:00 / ä¿®æ”¹æ—¶é—´ï¼š16:56:27" itemprop="dateCreated datePublished" datetime="2025-05-14T00:00:00+08:00">2025-05-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/kaggle/" itemprop="url" rel="index"><span itemprop="name">kaggle</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/kaggle/titanic/" itemprop="url" rel="index"><span itemprop="name">titanic</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>å¤ä¹ </strong>:è¿™é—¨è¯¾ç¨‹å¾—ä¸»è¦ç›®çš„æ˜¯é€šè¿‡çœŸå®çš„æ•°æ®ï¼Œä»¥å®æˆ˜çš„æ–¹å¼äº†è§£æ•°æ®åˆ†æçš„æµç¨‹å’Œç†Ÿæ‚‰æ•°æ®åˆ†æpythonçš„åŸºæœ¬æ“ä½œã€‚çŸ¥é“äº†è¯¾ç¨‹çš„ç›®çš„ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥æˆ‘ä»¬è¦æ­£å¼çš„å¼€å§‹æ•°æ®åˆ†æçš„å®æˆ˜æ•™å­¦ï¼Œå®Œæˆkaggleä¸Š<a target="_blank" rel="noopener" href="https://www.kaggle.com/c/titanic/overview">æ³°å¦å°¼å…‹çš„ä»»åŠ¡</a>ï¼Œå®æˆ˜æ•°æ®åˆ†æå…¨æµç¨‹ã€‚<br>è¿™é‡Œæœ‰ä¸¤ä»½èµ„æ–™ï¼š<br>æ•™æã€ŠPython for Data Analysisã€‹å’Œ baidu.com &amp;<br>google.comï¼ˆå–„ç”¨æœç´¢å¼•æ“ï¼‰</p>
<h2 id="1-ç¬¬ä¸€ç« ï¼šæ•°æ®è½½å…¥åŠåˆæ­¥è§‚å¯Ÿ"><a href="#1-ç¬¬ä¸€ç« ï¼šæ•°æ®è½½å…¥åŠåˆæ­¥è§‚å¯Ÿ" class="headerlink" title="1 ç¬¬ä¸€ç« ï¼šæ•°æ®è½½å…¥åŠåˆæ­¥è§‚å¯Ÿ"></a>1 ç¬¬ä¸€ç« ï¼šæ•°æ®è½½å…¥åŠåˆæ­¥è§‚å¯Ÿ</h2><h3 id="1-1-è½½å…¥æ•°æ®"><a href="#1-1-è½½å…¥æ•°æ®" class="headerlink" title="1.1 è½½å…¥æ•°æ®"></a>1.1 è½½å…¥æ•°æ®</h3><p>æ•°æ®é›†ä¸‹è½½ <a target="_blank" rel="noopener" href="https://www.kaggle.com/c/titanic/overview">https://www.kaggle.com/c/titanic/overview</a></p>
<h4 id="1-1-1-ä»»åŠ¡ä¸€ï¼šå¯¼å…¥numpyå’Œpandas"><a href="#1-1-1-ä»»åŠ¡ä¸€ï¼šå¯¼å…¥numpyå’Œpandas" class="headerlink" title="1.1.1 ä»»åŠ¡ä¸€ï¼šå¯¼å…¥numpyå’Œpandas"></a>1.1.1 ä»»åŠ¡ä¸€ï¼šå¯¼å…¥numpyå’Œpandas</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ã€æç¤ºã€‘å¦‚æœåŠ è½½å¤±è´¥ï¼Œå­¦ä¼šå¦‚ä½•åœ¨ä½ çš„pythonç¯å¢ƒä¸‹å®‰è£…numpyå’Œpandasè¿™ä¸¤ä¸ªåº“</p>
<h4 id="1-1-2-ä»»åŠ¡äºŒï¼šè½½å…¥æ•°æ®"><a href="#1-1-2-ä»»åŠ¡äºŒï¼šè½½å…¥æ•°æ®" class="headerlink" title="1.1.2 ä»»åŠ¡äºŒï¼šè½½å…¥æ•°æ®"></a>1.1.2 ä»»åŠ¡äºŒï¼šè½½å…¥æ•°æ®</h4><p>(1) ä½¿ç”¨ç›¸å¯¹è·¯å¾„è½½å…¥æ•°æ®<br>(2) ä½¿ç”¨ç»å¯¹è·¯å¾„è½½å…¥æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.getcwd()</span><br><span class="line">test=pd.read_csv(<span class="string">&#x27;./titanic/test.csv&#x27;</span>)</span><br><span class="line">train=pd.read_csv(<span class="string">&#x27;./titanic/train.csv&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line">abs_path_test=os.path.abspath(<span class="string">&#x27;./titanic/test.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(abs_path_test)</span><br><span class="line">test=pd.read_csv(abs_path_test)</span><br><span class="line">abs_path_train=os.path.abspath(<span class="string">&#x27;./titanic/train.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(abs_path_train)</span><br><span class="line">train=pd.read_csv(abs_path_train)</span><br><span class="line">train.head()</span><br></pre></td></tr></table></figure>
<pre><code>/workspace/WuTeachingAI/hands-on-data-analysis/myself/titanic/test.csv
/workspace/WuTeachingAI/hands-on-data-analysis/myself/titanic/train.csv
</code></pre><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>


<p>ã€æç¤ºã€‘ç›¸å¯¹è·¯å¾„è½½å…¥æŠ¥é”™æ—¶ï¼Œå°è¯•ä½¿ç”¨os.getcwd()æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•ã€‚<br>ã€æ€è€ƒã€‘çŸ¥é“æ•°æ®åŠ è½½çš„æ–¹æ³•åï¼Œè¯•è¯•pd.read_csv()å’Œpd.read_table()çš„ä¸åŒï¼Œå¦‚æœæƒ³è®©ä»–ä»¬æ•ˆæœä¸€æ ·ï¼Œéœ€è¦æ€ä¹ˆåšï¼Ÿäº†è§£ä¸€ä¸‹â€™.tsvâ€™å’Œâ€™.csvâ€™çš„ä¸åŒï¼Œå¦‚ä½•åŠ è½½è¿™ä¸¤ä¸ªæ•°æ®é›†ï¼Ÿ<br>ã€æ€»ç»“ã€‘åŠ è½½çš„æ•°æ®æ˜¯æ‰€æœ‰å·¥ä½œçš„ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬çš„å·¥ä½œä¼šæ¥è§¦åˆ°ä¸åŒçš„æ•°æ®æ ¼å¼ï¼ˆeg:.csv;.tsv;.xlsxï¼‰,ä½†æ˜¯åŠ è½½çš„æ–¹æ³•å’Œæ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåœ¨ä»¥åå·¥ä½œå’Œåšé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¹‹å‰æ²¡æœ‰ç¢°åˆ°çš„é—®é¢˜ï¼Œè¦å¤šå¤šæŸ¥èµ„æ–™å—ï¼Œä½¿ç”¨googelï¼Œäº†è§£ä¸šåŠ¡é€»è¾‘ï¼Œæ˜ç™½è¾“å…¥å’Œè¾“å‡ºæ˜¯ä»€ä¹ˆã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pd.read_csv() å’Œ pd.read_table() æœ¬è´¨ä¸Šéå¸¸ç›¸ä¼¼ï¼Œä¸»è¦åŒºåˆ«åœ¨äºé»˜è®¤çš„åˆ†éš”ç¬¦å‚æ•°ã€‚</span></span><br><span class="line"><span class="comment"># é€šè¿‡æ˜¾å¼è®¾ç½® `sep` å‚æ•°ï¼Œå¯ä»¥è®©å®ƒä»¬å¤„ç†å„ç§ä»¥ä¸åŒå­—ç¬¦åˆ†éš”çš„æ–‡æœ¬æ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="comment"># &#x27;.csv&#x27; æ–‡ä»¶ç”¨é€—å·åˆ†éš”ï¼Œ&#x27;.tsv&#x27; æ–‡ä»¶ç”¨åˆ¶è¡¨ç¬¦åˆ†éš”ã€‚é€‰æ‹©åˆé€‚çš„pandasè¯»å–å‡½æ•°æˆ–æ­£ç¡®è®¾ç½®`sep`å‚æ•°å³å¯åŠ è½½ã€‚</span></span><br></pre></td></tr></table></figure>
<h4 id="1-1-3-ä»»åŠ¡ä¸‰ï¼šæ¯1000è¡Œä¸ºä¸€ä¸ªæ•°æ®æ¨¡å—ï¼Œé€å—è¯»å–"><a href="#1-1-3-ä»»åŠ¡ä¸‰ï¼šæ¯1000è¡Œä¸ºä¸€ä¸ªæ•°æ®æ¨¡å—ï¼Œé€å—è¯»å–" class="headerlink" title="1.1.3 ä»»åŠ¡ä¸‰ï¼šæ¯1000è¡Œä¸ºä¸€ä¸ªæ•°æ®æ¨¡å—ï¼Œé€å—è¯»å–"></a>1.1.3 ä»»åŠ¡ä¸‰ï¼šæ¯1000è¡Œä¸ºä¸€ä¸ªæ•°æ®æ¨¡å—ï¼Œé€å—è¯»å–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line">chunker=pd.read_csv(<span class="string">&#x27;./titanic/train.csv&#x27;</span>,chunksize=<span class="number">1000</span>)</span><br><span class="line"><span class="keyword">for</span> chunk <span class="keyword">in</span> chunker:</span><br><span class="line">    <span class="built_in">print</span>(chunk)</span><br></pre></td></tr></table></figure>
<pre><code>     PassengerId  Survived  Pclass  \
0              1         0       3   
1              2         1       1   
2              3         1       3   
3              4         1       1   
4              5         0       3   
..           ...       ...     ...   
886          887         0       2   
887          888         1       1   
888          889         0       3   
889          890         1       1   
890          891         0       3   

                                                  Name     Sex   Age  SibSp  \
0                              Braund, Mr. Owen Harris    male  22.0      1   
1    Cumings, Mrs. John Bradley (Florence Briggs Th...  female  38.0      1   
2                               Heikkinen, Miss. Laina  female  26.0      0   
3         Futrelle, Mrs. Jacques Heath (Lily May Peel)  female  35.0      1   
4                             Allen, Mr. William Henry    male  35.0      0   
..                                                 ...     ...   ...    ...   
886                              Montvila, Rev. Juozas    male  27.0      0   
887                       Graham, Miss. Margaret Edith  female  19.0      0   
888           Johnston, Miss. Catherine Helen &quot;Carrie&quot;  female   NaN      1   
889                              Behr, Mr. Karl Howell    male  26.0      0   
890                                Dooley, Mr. Patrick    male  32.0      0   

     Parch            Ticket     Fare Cabin Embarked  
0        0         A/5 21171   7.2500   NaN        S  
1        0          PC 17599  71.2833   C85        C  
2        0  STON/O2. 3101282   7.9250   NaN        S  
3        0            113803  53.1000  C123        S  
4        0            373450   8.0500   NaN        S  
..     ...               ...      ...   ...      ...  
886      0            211536  13.0000   NaN        S  
887      0            112053  30.0000   B42        S  
888      2        W./C. 6607  23.4500   NaN        S  
889      0            111369  30.0000  C148        C  
890      0            370376   7.7500   NaN        Q  

[891 rows x 12 columns]
</code></pre><p>ã€æ€è€ƒã€‘ä»€ä¹ˆæ˜¯é€å—è¯»å–ï¼Ÿä¸ºä»€ä¹ˆè¦é€å—è¯»å–å‘¢ï¼Ÿ</p>
<p>ã€æç¤ºã€‘å¤§å®¶å¯ä»¥chunker(æ•°æ®å—)æ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿç”¨<code>for</code>å¾ªç¯æ‰“å°å‡ºæ¥å‡ºå¤„å…·ä½“çš„æ ·å­æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **ä»€ä¹ˆæ˜¯é€å—è¯»å–ï¼Ÿ**</span></span><br><span class="line"><span class="comment"># é€å—è¯»å–ï¼ˆChunkingï¼‰æ˜¯æŒ‡åœ¨è¯»å–å¤§å‹æ•°æ®é›†æ—¶ï¼Œä¸ä¸€æ¬¡æ€§å°†æ•´ä¸ªæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè€Œæ˜¯å°†æ–‡ä»¶åˆ†æˆè‹¥å¹²ä¸ªå°çš„æ•°æ®å—ï¼ˆchunksï¼‰ï¼Œæ¯æ¬¡åªåŠ è½½å’Œå¤„ç†ä¸€ä¸ªæ•°æ®å—ã€‚</span></span><br><span class="line"><span class="comment"># åœ¨pandasä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨ `pd.read_csv()` æˆ–ç±»ä¼¼çš„è¯»å–å‡½æ•°ä¸­è®¾ç½® `chunksize` å‚æ•°æ¥å®ç°é€å—è¯»å–ã€‚`chunksize` å®šä¹‰äº†æ¯ä¸ªæ•°æ®å—åŒ…å«çš„è¡Œæ•°ã€‚</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># **ä¸ºä»€ä¹ˆè¦é€å—è¯»å–å‘¢ï¼Ÿ**</span></span><br><span class="line"><span class="comment"># 1.  **å¤„ç†å†…å­˜ä¸è¶³çš„å¤§æ–‡ä»¶**ï¼š</span></span><br><span class="line"><span class="comment">#     *   å½“æ•°æ®é›†éå¸¸å¤§ï¼Œå…¶å¤§å°è¶…è¿‡äº†è®¡ç®—æœºå¯ç”¨å†…å­˜æ—¶ï¼Œä¸€æ¬¡æ€§åŠ è½½æ•´ä¸ªæ–‡ä»¶ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºé”™è¯¯ï¼ˆMemoryErrorï¼‰ã€‚é€å—è¯»å–å…è®¸æˆ‘ä»¬åˆ†æ‰¹å¤„ç†æ•°æ®ï¼Œæ¯æ¬¡åªåœ¨å†…å­˜ä¸­ä¿ç•™ä¸€å°éƒ¨åˆ†æ•°æ®ï¼Œä»è€Œæœ‰æ•ˆé¿å…å†…å­˜é—®é¢˜ã€‚</span></span><br><span class="line"><span class="comment"># 2.  **æé«˜å¤„ç†æ•ˆç‡ï¼ˆç‰¹å®šåœºæ™¯ä¸‹ï¼‰**ï¼š</span></span><br><span class="line"><span class="comment">#     *   å¯¹äºæŸäº›ç±»å‹çš„æ“ä½œï¼Œä¾‹å¦‚å¯¹æ•°æ®è¿›è¡Œè¿­ä»£å¤„ç†ã€è¿‡æ»¤æˆ–èšåˆï¼Œå¦‚æœä¸éœ€è¦åŒæ—¶è®¿é—®æ‰€æœ‰æ•°æ®ï¼Œé€å—å¤„ç†å¯ä»¥ä½¿å¾—ç¨‹åºæ›´å¿«åœ°å¼€å§‹å¤„ç†æ•°æ®ï¼Œè€Œä¸æ˜¯ç­‰å¾…æ•´ä¸ªå¤§æ–‡ä»¶åŠ è½½å®Œæ¯•ã€‚</span></span><br><span class="line"><span class="comment">#     *   å¯ä»¥è¾¹è¯»å–è¾¹å¤„ç†ï¼Œå®ç°æµå¼æ•°æ®å¤„ç†çš„æ•ˆæœã€‚</span></span><br><span class="line"><span class="comment"># 3.  **æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†**ï¼š</span></span><br><span class="line"><span class="comment">#     *   åœ¨å¯¹å¤§å‹åŸå§‹æ•°æ®è¿›è¡Œåˆæ­¥çš„æ¸…æ´—ã€è½¬æ¢æˆ–ç‰¹å¾å·¥ç¨‹æ—¶ï¼Œå¯ä»¥é€å—è¿›è¡Œï¼Œå°†å¤„ç†åçš„æ•°æ®å—è¿½åŠ åˆ°æ–°çš„å­˜å‚¨ä¸­ï¼Œæˆ–è€…åœ¨æ¯ä¸ªå—ä¸Šè®¡ç®—ç»Ÿè®¡é‡å¹¶é€æ­¥ç´¯ç§¯ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="1-1-4-ä»»åŠ¡å››ï¼šå°†è¡¨å¤´æ”¹æˆä¸­æ–‡ï¼Œç´¢å¼•æ”¹ä¸ºä¹˜å®¢ID-å¯¹äºæŸäº›è‹±æ–‡èµ„æ–™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¿»è¯‘æ¥æ›´ç›´è§‚çš„ç†Ÿæ‚‰æˆ‘ä»¬çš„æ•°æ®"><a href="#1-1-4-ä»»åŠ¡å››ï¼šå°†è¡¨å¤´æ”¹æˆä¸­æ–‡ï¼Œç´¢å¼•æ”¹ä¸ºä¹˜å®¢ID-å¯¹äºæŸäº›è‹±æ–‡èµ„æ–™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¿»è¯‘æ¥æ›´ç›´è§‚çš„ç†Ÿæ‚‰æˆ‘ä»¬çš„æ•°æ®" class="headerlink" title="1.1.4 ä»»åŠ¡å››ï¼šå°†è¡¨å¤´æ”¹æˆä¸­æ–‡ï¼Œç´¢å¼•æ”¹ä¸ºä¹˜å®¢ID [å¯¹äºæŸäº›è‹±æ–‡èµ„æ–™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¿»è¯‘æ¥æ›´ç›´è§‚çš„ç†Ÿæ‚‰æˆ‘ä»¬çš„æ•°æ®]"></a>1.1.4 ä»»åŠ¡å››ï¼šå°†è¡¨å¤´æ”¹æˆä¸­æ–‡ï¼Œç´¢å¼•æ”¹ä¸ºä¹˜å®¢ID [å¯¹äºæŸäº›è‹±æ–‡èµ„æ–™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¿»è¯‘æ¥æ›´ç›´è§‚çš„ç†Ÿæ‚‰æˆ‘ä»¬çš„æ•°æ®]</h4><p>PassengerId =&gt; ä¹˜å®¢ID<br>Survived    =&gt; æ˜¯å¦å¹¸å­˜<br>Pclass      =&gt; ä¹˜å®¢ç­‰çº§(1/2/3ç­‰èˆ±ä½)<br>Name        =&gt; ä¹˜å®¢å§“å<br>Sex         =&gt; æ€§åˆ«<br>Age         =&gt; å¹´é¾„<br>SibSp       =&gt; å ‚å…„å¼Ÿ/å¦¹ä¸ªæ•°<br>Parch       =&gt; çˆ¶æ¯ä¸å°å­©ä¸ªæ•°<br>Ticket      =&gt; èˆ¹ç¥¨ä¿¡æ¯<br>Fare        =&gt; ç¥¨ä»·<br>Cabin       =&gt; å®¢èˆ±<br>Embarked    =&gt; ç™»èˆ¹æ¸¯å£             </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line"><span class="comment">#å°†&quot;ä¹˜å®¢ID&quot;åˆ—ä½œä¸ºè¡Œç´¢å¼•</span></span><br><span class="line">df=pd.read_csv(<span class="string">&#x27;./titanic/train.csv&#x27;</span>,names=[<span class="string">&#x27;ä¹˜å®¢ID&#x27;</span>,<span class="string">&#x27;æ˜¯å¦å¹¸å­˜&#x27;</span>,<span class="string">&#x27;ä»“ä½ç­‰çº§&#x27;</span>,<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æ€§åˆ«&#x27;</span>,<span class="string">&#x27;å¹´é¾„&#x27;</span>,<span class="string">&#x27;å…„å¼Ÿå§å¦¹ä¸ªæ•°&#x27;</span>,<span class="string">&#x27;çˆ¶æ¯å­å¥³ä¸ªæ•°&#x27;</span>,<span class="string">&#x27;èˆ¹ç¥¨ä¿¡æ¯&#x27;</span>,<span class="string">&#x27;ç¥¨ä»·&#x27;</span>,<span class="string">&#x27;å®¢èˆ±&#x27;</span>,<span class="string">&#x27;ç™»èˆ¹æ¸¯å£&#x27;</span>],index_col=<span class="string">&#x27;ä¹˜å®¢ID&#x27;</span>,header=<span class="number">0</span>)</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>æ˜¯å¦å¹¸å­˜</th>
      <th>ä»“ä½ç­‰çº§</th>
      <th>å§“å</th>
      <th>æ€§åˆ«</th>
      <th>å¹´é¾„</th>
      <th>å…„å¼Ÿå§å¦¹ä¸ªæ•°</th>
      <th>çˆ¶æ¯å­å¥³ä¸ªæ•°</th>
      <th>èˆ¹ç¥¨ä¿¡æ¯</th>
      <th>ç¥¨ä»·</th>
      <th>å®¢èˆ±</th>
      <th>ç™»èˆ¹æ¸¯å£</th>
    </tr>
    <tr>
      <th>ä¹˜å®¢ID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
ã€æ€è€ƒã€‘æ‰€è°“å°†è¡¨å¤´æ”¹ä¸ºä¸­æ–‡å…¶ä¸­ä¸€ä¸ªæ€è·¯æ˜¯ï¼šå°†è‹±æ–‡åˆ—åè¡¨å¤´æ›¿æ¢æˆä¸­æ–‡ã€‚è¿˜æœ‰å…¶ä»–çš„æ–¹æ³•å—ï¼Ÿ

### 1.2 åˆæ­¥è§‚å¯Ÿ
å¯¼å…¥æ•°æ®åï¼Œä½ å¯èƒ½è¦å¯¹æ•°æ®çš„æ•´ä½“ç»“æ„å’Œæ ·ä¾‹è¿›è¡Œæ¦‚è§ˆï¼Œæ¯”å¦‚è¯´ï¼Œæ•°æ®å¤§å°ã€æœ‰å¤šå°‘åˆ—ï¼Œå„åˆ—éƒ½æ˜¯ä»€ä¹ˆæ ¼å¼çš„ï¼Œæ˜¯å¦åŒ…å«nullç­‰

#### 1.2.1 ä»»åŠ¡ä¸€ï¼šæŸ¥çœ‹æ•°æ®çš„åŸºæœ¬ä¿¡æ¯


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line">df.info()</span><br><span class="line">df.describe()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    <class 'pandas.core.frame.dataframe'>
    Index: 891 entries, 1 to 891
    Data columns (total 11 columns):
     #   Column  Non-Null Count  Dtype  
    ---  ------  --------------  -----  
     0   æ˜¯å¦å¹¸å­˜    891 non-null    int64  
     1   ä»“ä½ç­‰çº§    891 non-null    int64  
     2   å§“å      891 non-null    object 
     3   æ€§åˆ«      891 non-null    object 
     4   å¹´é¾„      714 non-null    float64
     5   å…„å¼Ÿå§å¦¹ä¸ªæ•°  891 non-null    int64  
     6   çˆ¶æ¯å­å¥³ä¸ªæ•°  891 non-null    int64  
     7   èˆ¹ç¥¨ä¿¡æ¯    891 non-null    object 
     8   ç¥¨ä»·      891 non-null    float64
     9   å®¢èˆ±      204 non-null    object 
     10  ç™»èˆ¹æ¸¯å£    889 non-null    object 
    dtypes: float64(2), int64(4), object(5)
    memory usage: 83.5+ KB



<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>æ˜¯å¦å¹¸å­˜</th>
      <th>ä»“ä½ç­‰çº§</th>
      <th>å¹´é¾„</th>
      <th>å…„å¼Ÿå§å¦¹ä¸ªæ•°</th>
      <th>çˆ¶æ¯å­å¥³ä¸ªæ•°</th>
      <th>ç¥¨ä»·</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>891.000000</td>
      <td>891.000000</td>
      <td>714.000000</td>
      <td>891.000000</td>
      <td>891.000000</td>
      <td>891.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.383838</td>
      <td>2.308642</td>
      <td>29.699118</td>
      <td>0.523008</td>
      <td>0.381594</td>
      <td>32.204208</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.486592</td>
      <td>0.836071</td>
      <td>14.526497</td>
      <td>1.102743</td>
      <td>0.806057</td>
      <td>49.693429</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.420000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>20.125000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>7.910400</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.000000</td>
      <td>3.000000</td>
      <td>28.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>14.454200</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000</td>
      <td>3.000000</td>
      <td>38.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>31.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.000000</td>
      <td>3.000000</td>
      <td>80.000000</td>
      <td>8.000000</td>
      <td>6.000000</td>
      <td>512.329200</td>
    </tr>
  </tbody>
</table>


<p>ã€æç¤ºã€‘æœ‰å¤šä¸ªå‡½æ•°å¯ä»¥è¿™æ ·åšï¼Œä½ å¯ä»¥åšä¸€ä¸‹æ€»ç»“</p>
<h4 id="1-2-2-ä»»åŠ¡äºŒï¼šè§‚å¯Ÿè¡¨æ ¼å‰10è¡Œçš„æ•°æ®å’Œå15è¡Œçš„æ•°æ®"><a href="#1-2-2-ä»»åŠ¡äºŒï¼šè§‚å¯Ÿè¡¨æ ¼å‰10è¡Œçš„æ•°æ®å’Œå15è¡Œçš„æ•°æ®" class="headerlink" title="1.2.2 ä»»åŠ¡äºŒï¼šè§‚å¯Ÿè¡¨æ ¼å‰10è¡Œçš„æ•°æ®å’Œå15è¡Œçš„æ•°æ®"></a>1.2.2 ä»»åŠ¡äºŒï¼šè§‚å¯Ÿè¡¨æ ¼å‰10è¡Œçš„æ•°æ®å’Œå15è¡Œçš„æ•°æ®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line">df.head(<span class="number">15</span>)</span><br></pre></td></tr></table></figure>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>æ˜¯å¦å¹¸å­˜</th>
      <th>ä»“ä½ç­‰çº§</th>
      <th>å§“å</th>
      <th>æ€§åˆ«</th>
      <th>å¹´é¾„</th>
      <th>å…„å¼Ÿå§å¦¹ä¸ªæ•°</th>
      <th>çˆ¶æ¯å­å¥³ä¸ªæ•°</th>
      <th>èˆ¹ç¥¨ä¿¡æ¯</th>
      <th>ç¥¨ä»·</th>
      <th>å®¢èˆ±</th>
      <th>ç™»èˆ¹æ¸¯å£</th>
    </tr>
    <tr>
      <th>ä¹˜å®¢ID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>3</td>
      <td>Moran, Mr. James</td>
      <td>male</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>330877</td>
      <td>8.4583</td>
      <td>NaN</td>
      <td>Q</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>1</td>
      <td>McCarthy, Mr. Timothy J</td>
      <td>male</td>
      <td>54.0</td>
      <td>0</td>
      <td>0</td>
      <td>17463</td>
      <td>51.8625</td>
      <td>E46</td>
      <td>S</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>3</td>
      <td>Palsson, Master. Gosta Leonard</td>
      <td>male</td>
      <td>2.0</td>
      <td>3</td>
      <td>1</td>
      <td>349909</td>
      <td>21.0750</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1</td>
      <td>3</td>
      <td>Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)</td>
      <td>female</td>
      <td>27.0</td>
      <td>0</td>
      <td>2</td>
      <td>347742</td>
      <td>11.1333</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1</td>
      <td>2</td>
      <td>Nasser, Mrs. Nicholas (Adele Achem)</td>
      <td>female</td>
      <td>14.0</td>
      <td>1</td>
      <td>0</td>
      <td>237736</td>
      <td>30.0708</td>
      <td>NaN</td>
      <td>C</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1</td>
      <td>3</td>
      <td>Sandstrom, Miss. Marguerite Rut</td>
      <td>female</td>
      <td>4.0</td>
      <td>1</td>
      <td>1</td>
      <td>PP 9549</td>
      <td>16.7000</td>
      <td>G6</td>
      <td>S</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1</td>
      <td>1</td>
      <td>Bonnell, Miss. Elizabeth</td>
      <td>female</td>
      <td>58.0</td>
      <td>0</td>
      <td>0</td>
      <td>113783</td>
      <td>26.5500</td>
      <td>C103</td>
      <td>S</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>3</td>
      <td>Saundercock, Mr. William Henry</td>
      <td>male</td>
      <td>20.0</td>
      <td>0</td>
      <td>0</td>
      <td>A/5. 2151</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0</td>
      <td>3</td>
      <td>Andersson, Mr. Anders Johan</td>
      <td>male</td>
      <td>39.0</td>
      <td>1</td>
      <td>5</td>
      <td>347082</td>
      <td>31.2750</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0</td>
      <td>3</td>
      <td>Vestrom, Miss. Hulda Amanda Adolfina</td>
      <td>female</td>
      <td>14.0</td>
      <td>0</td>
      <td>0</td>
      <td>350406</td>
      <td>7.8542</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line">df.tail()</span><br></pre></td></tr></table></figure>
<h4 id="1-2-4-ä»»åŠ¡ä¸‰ï¼šåˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºçš„åœ°æ–¹è¿”å›Trueï¼Œå…¶ä½™åœ°æ–¹è¿”å›False"><a href="#1-2-4-ä»»åŠ¡ä¸‰ï¼šåˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºçš„åœ°æ–¹è¿”å›Trueï¼Œå…¶ä½™åœ°æ–¹è¿”å›False" class="headerlink" title="1.2.4 ä»»åŠ¡ä¸‰ï¼šåˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºçš„åœ°æ–¹è¿”å›Trueï¼Œå…¶ä½™åœ°æ–¹è¿”å›False"></a>1.2.4 ä»»åŠ¡ä¸‰ï¼šåˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºçš„åœ°æ–¹è¿”å›Trueï¼Œå…¶ä½™åœ°æ–¹è¿”å›False</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line">df.isnull().head()</span><br></pre></td></tr></table></figure>
<p><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>æ˜¯å¦å¹¸å­˜</th>
      <th>ä»“ä½ç­‰çº§</th>
      <th>å§“å</th>
      <th>æ€§åˆ«</th>
      <th>å¹´é¾„</th>
      <th>å…„å¼Ÿå§å¦¹ä¸ªæ•°</th>
      <th>çˆ¶æ¯å­å¥³ä¸ªæ•°</th>
      <th>èˆ¹ç¥¨ä¿¡æ¯</th>
      <th>ç¥¨ä»·</th>
      <th>å®¢èˆ±</th>
      <th>ç™»èˆ¹æ¸¯å£</th>
    </tr>
    <tr>
      <th>ä¹˜å®¢ID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table><br>ã€æ€»ç»“ã€‘ä¸Šé¢çš„æ“ä½œéƒ½æ˜¯æ•°æ®åˆ†æä¸­å¯¹äºæ•°æ®æœ¬èº«çš„è§‚å¯Ÿ</p>
<p>ã€æ€è€ƒã€‘å¯¹äºä¸€ä¸ªæ•°æ®ï¼Œè¿˜å¯ä»¥ä»å“ªäº›æ–¹é¢æ¥è§‚å¯Ÿï¼Ÿæ‰¾æ‰¾ç­”æ¡ˆï¼Œè¿™ä¸ªå°†å¯¹ä¸‹é¢çš„æ•°æ®åˆ†ææœ‰å¾ˆå¤§çš„å¸®åŠ©</p>
<h3 id="1-3-ä¿å­˜æ•°æ®"><a href="#1-3-ä¿å­˜æ•°æ®" class="headerlink" title="1.3 ä¿å­˜æ•°æ®"></a>1.3 ä¿å­˜æ•°æ®</h3><h4 id="1-3-1-ä»»åŠ¡ä¸€ï¼šå°†ä½ åŠ è½½å¹¶åšå‡ºæ”¹å˜çš„æ•°æ®ï¼Œåœ¨å·¥ä½œç›®å½•ä¸‹ä¿å­˜ä¸ºä¸€ä¸ªæ–°æ–‡ä»¶train-chinese-csv"><a href="#1-3-1-ä»»åŠ¡ä¸€ï¼šå°†ä½ åŠ è½½å¹¶åšå‡ºæ”¹å˜çš„æ•°æ®ï¼Œåœ¨å·¥ä½œç›®å½•ä¸‹ä¿å­˜ä¸ºä¸€ä¸ªæ–°æ–‡ä»¶train-chinese-csv" class="headerlink" title="1.3.1 ä»»åŠ¡ä¸€ï¼šå°†ä½ åŠ è½½å¹¶åšå‡ºæ”¹å˜çš„æ•°æ®ï¼Œåœ¨å·¥ä½œç›®å½•ä¸‹ä¿å­˜ä¸ºä¸€ä¸ªæ–°æ–‡ä»¶train_chinese.csv"></a>1.3.1 ä»»åŠ¡ä¸€ï¼šå°†ä½ åŠ è½½å¹¶åšå‡ºæ”¹å˜çš„æ•°æ®ï¼Œåœ¨å·¥ä½œç›®å½•ä¸‹ä¿å­˜ä¸ºä¸€ä¸ªæ–°æ–‡ä»¶train_chinese.csv</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å†™å…¥ä»£ç </span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šä¸åŒçš„æ“ä½œç³»ç»Ÿä¿å­˜ä¸‹æ¥å¯èƒ½ä¼šæœ‰ä¹±ç ã€‚å¤§å®¶å¯ä»¥åŠ å…¥`encoding=&#x27;GBK&#x27; æˆ–è€… â€™encoding = â€™utf-8â€˜â€˜`</span></span><br><span class="line">df.to_csv(<span class="string">&#x27;./titanic/train_chinese.csv&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>ã€æ€»ç»“ã€‘æ•°æ®çš„åŠ è½½ä»¥åŠå…¥é—¨ï¼Œæ¥ä¸‹æ¥å°±è¦æ¥è§¦æ•°æ®æœ¬èº«çš„è¿ç®—ï¼Œæˆ‘ä»¬å°†ä¸»è¦æŒæ¡numpyå’Œpandasåœ¨å·¥ä½œå’Œé¡¹ç›®åœºæ™¯çš„è¿ç”¨ã€‚</p>
</class>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="å¼ ç†™æµš">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/" class="post-title-link" itemprop="url">python webâ€”â€”fastapi</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-14 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-14T00:00:00+08:00">2025-05-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-07-14 09:12:41" itemprop="dateModified" datetime="2025-07-14T09:12:41+08:00">2025-07-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python-web/" itemprop="url" rel="index"><span itemprop="name">python-web</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python-web/fastapi/" itemprop="url" rel="index"><span itemprop="name">fastapi</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>FastAPI æ˜¯ä¸€ä¸ªç”¨äºæ„å»º API çš„ç°ä»£ã€å¿«é€Ÿï¼ˆé«˜æ€§èƒ½ï¼‰çš„ web æ¡†æ¶ï¼Œä½¿ç”¨ Python å¹¶åŸºäºæ ‡å‡†çš„ Python ç±»å‹æç¤ºã€‚</p>
<p>å…³é”®ç‰¹æ€§:</p>
<ul>
<li><strong>å¿«é€Ÿ</strong>ï¼šå¯ä¸ <strong>NodeJS</strong> å’Œ <strong>Go</strong> å¹¶è‚©çš„æé«˜æ€§èƒ½ï¼ˆå½’åŠŸäº Starlette å’Œ Pydanticï¼‰ã€‚<a target="_blank" rel="noopener" href="https://fastapi.tiangolo.com/zh/#_11">æœ€å¿«çš„ Python web æ¡†æ¶ä¹‹ä¸€</a>ã€‚</li>
<li><strong>é«˜æ•ˆç¼–ç </strong>ï¼šæé«˜åŠŸèƒ½å¼€å‘é€Ÿåº¦çº¦ 200ï¼… è‡³ 300ï¼…ã€‚*</li>
<li><strong>æ›´å°‘ bug</strong>ï¼šå‡å°‘çº¦ 40ï¼… çš„äººä¸ºï¼ˆå¼€å‘è€…ï¼‰å¯¼è‡´é”™è¯¯ã€‚*</li>
<li><strong>æ™ºèƒ½</strong>ï¼šæä½³çš„ç¼–è¾‘å™¨æ”¯æŒã€‚å¤„å¤„çš†å¯è‡ªåŠ¨è¡¥å…¨ï¼Œå‡å°‘è°ƒè¯•æ—¶é—´ã€‚</li>
<li><strong>ç®€å•</strong>ï¼šè®¾è®¡çš„æ˜“äºä½¿ç”¨å’Œå­¦ä¹ ï¼Œé˜…è¯»æ–‡æ¡£çš„æ—¶é—´æ›´çŸ­ã€‚</li>
<li><strong>ç®€çŸ­</strong>ï¼šä½¿ä»£ç é‡å¤æœ€å°åŒ–ã€‚é€šè¿‡ä¸åŒçš„å‚æ•°å£°æ˜å®ç°ä¸°å¯ŒåŠŸèƒ½ã€‚bug æ›´å°‘ã€‚</li>
<li><strong>å¥å£®</strong>ï¼šç”Ÿäº§å¯ç”¨çº§åˆ«çš„ä»£ç ã€‚è¿˜æœ‰è‡ªåŠ¨ç”Ÿæˆçš„äº¤äº’å¼æ–‡æ¡£ã€‚</li>
<li><strong>æ ‡å‡†åŒ–</strong>ï¼šåŸºäºï¼ˆå¹¶å®Œå…¨å…¼å®¹ï¼‰API çš„ç›¸å…³å¼€æ”¾æ ‡å‡†ï¼š<a target="_blank" rel="noopener" href="https://github.com/OAI/OpenAPI-Specification">OpenAPI</a> (ä»¥å‰è¢«ç§°ä¸º Swagger) å’Œ <a target="_blank" rel="noopener" href="https://json-schema.org/">JSON Schema</a>ã€‚</li>
</ul>
<h3 id="ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šStarlette-å’Œ-Pydantic"><a href="#ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šStarlette-å’Œ-Pydantic" class="headerlink" title="ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šStarlette å’Œ Pydantic"></a>ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šStarlette å’Œ Pydantic</h3><p>Starlette è´Ÿè´£webéƒ¨åˆ†</p>
<p>Starlette æ˜¯ FastAPI çš„åº•å±‚ ASGIï¼ˆå¼‚æ­¥æœåŠ¡å™¨ç½‘å…³æ¥å£ï¼‰æ¡†æ¶ï¼Œä¸º FastAPI æä¾›äº†å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ›å’Œé«˜æ€§èƒ½çš„ç½‘ç»œé€šä¿¡æ”¯æŒã€‚</p>
<p>ASGIï¼ˆ<strong>Asynchronous Server Gateway Interface</strong> ï¼‰æ˜¯ä¸€ç§ç”¨äºè¿æ¥ Python Web æœåŠ¡å™¨å’Œåº”ç”¨ç¨‹åºæ¡†æ¶çš„<strong>å¼‚æ­¥æ¥å£æ ‡å‡†</strong> ï¼Œæ—¨åœ¨æ”¯æŒç°ä»£ Web åè®®ï¼ˆå¦‚ WebSocketã€HTTP/2ï¼‰å’Œå¼‚æ­¥ç¼–ç¨‹æ¨¡å‹</p>
<p>Pydanticè´Ÿè´£</p>
<p>Pydantic è´Ÿè´£ FastAPI çš„æ•°æ®éªŒè¯ã€åºåˆ—åŒ–å’Œè‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆ</p>
<h3 id="httpåè®®"><a href="#httpåè®®" class="headerlink" title="httpåè®®"></a>httpåè®®</h3><h4 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h4><p><strong>HTTPåè®®</strong> æ˜¯Hyper Text Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç¼©å†™ï¼Œæ˜¯ç”¨äºä¸‡ç»´ç½‘ï¼ˆWWW: World Wide Webï¼‰æœåŠ¡å™¨ä¸æœ¬åœ°æµè§ˆå™¨ä¹‹é—´ä¼ è¾“è¶…æ–‡æœ¬çš„ä¼ é€åè®®ã€‚HTTPæ˜¯ä¸€ä¸ªå±äºåº”ç”¨å±‚çš„é¢å‘å¯¹è±¡çš„åè®®ï¼Œç”±äºå…¶ç®€æ·ã€å¿«é€Ÿçš„æ–¹å¼ï¼Œé€‚ç”¨äºåˆ†å¸ƒå¼è¶…åª’ä½“ä¿¡æ¯ç³»ç»Ÿã€‚å®ƒäº1990å¹´æå‡ºï¼Œç»è¿‡å‡ å¹´çš„ä½¿ç”¨ä¸å‘å±•ï¼Œå¾—åˆ°ä¸æ–­åœ°å®Œå–„å’Œæ‰©å±•ã€‚HTTPåè®®å·¥ä½œäºå®¢æˆ·ç«¯-æœåŠ¡ç«¯æ¶æ„ä¸ºä¸Šã€‚æµè§ˆå™¨ä½œä¸ºHTTPå®¢æˆ·ç«¯é€šè¿‡URLå‘HTTPæœåŠ¡ç«¯å³WEBæœåŠ¡å™¨å‘é€æ‰€æœ‰è¯·æ±‚ã€‚WebæœåŠ¡å™¨æ ¹æ®æ¥æ”¶åˆ°çš„è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯å‘é€å“åº”ä¿¡æ¯ã€‚</p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/1.png" alt="1"></p>
<h4 id="äºŒã€httpåè®®ç‰¹æ€§"><a href="#äºŒã€httpåè®®ç‰¹æ€§" class="headerlink" title="äºŒã€httpåè®®ç‰¹æ€§"></a>äºŒã€httpåè®®ç‰¹æ€§</h4><p>ï¼ˆ1ï¼‰åŸºäº TCP/IP åè®®</p>
<p>http åè®®æ˜¯åŸºäº <strong>TCP/IP åè®®</strong>ä¹‹ä¸Šçš„åº”ç”¨å±‚åè®®ã€‚</p>
<p>ï¼ˆ2ï¼‰åŸºäºè¯·æ±‚ - å“åº”æ¨¡å¼</p>
<p>HTTP åè®®è§„å®šï¼Œè¯·æ±‚ä»å®¢æˆ·ç«¯å‘å‡ºï¼Œæœ€åæœåŠ¡å™¨ç«¯å“åº”åº”è¯¥è¯·æ±‚å¹¶è¿”å›ã€‚æ¢å¥è¯è¯´ï¼Œè‚¯å®šæ˜¯å…ˆ<strong>ä»å®¢æˆ·ç«¯å¼€å§‹å»ºç«‹é€šä¿¡çš„ï¼ŒæœåŠ¡å™¨ç«¯åœ¨æ²¡æœ‰æ¥æ”¶åˆ°è¯·æ±‚ä¹‹å‰ä¸ä¼šå‘é€å“åº”</strong>ã€‚</p>
<p>ï¼ˆ3ï¼‰æ— çŠ¶æ€ä¿å­˜</p>
<p>HTTP æ˜¯ä¸€ç§ä¸ä¿å­˜çŠ¶æ€ï¼Œå³æ— çŠ¶æ€ï¼ˆstatelessï¼‰åè®®ã€‚HTTP åè®®è‡ªèº«ä¸å¯¹è¯·æ±‚å’Œå“åº”ä¹‹é—´çš„é€šä¿¡çŠ¶æ€è¿›è¡Œä¿å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ HTTP è¿™ä¸ªçº§åˆ«ï¼Œåè®®å¯¹äºå‘é€è¿‡çš„è¯·æ±‚æˆ–å“åº”éƒ½ä¸åšæŒä¹…åŒ–å¤„ç†ã€‚</p>
<p>ä½¿ç”¨ HTTP åè®®ï¼Œæ¯å½“æœ‰æ–°çš„è¯·æ±‚å‘é€æ—¶ï¼Œå°±ä¼šæœ‰å¯¹åº”çš„æ–°å“åº”äº§ç”Ÿã€‚åè®®æœ¬èº«å¹¶<strong>ä¸ä¿ç•™ä¹‹å‰ä¸€åˆ‡çš„è¯·æ±‚æˆ–å“åº”æŠ¥æ–‡çš„ä¿¡æ¯</strong>ã€‚è¿™æ˜¯ä¸ºäº†æ›´å¿«åœ°å¤„ç†å¤§é‡äº‹åŠ¡ï¼Œç¡®ä¿åè®®çš„å¯ä¼¸ç¼©æ€§ï¼Œè€Œç‰¹æ„æŠŠ HTTP åè®®è®¾è®¡æˆå¦‚æ­¤ç®€å•çš„ã€‚</p>
<p>ï¼ˆ4ï¼‰çŸ­è¿æ¥</p>
<p>HTTP 1.0 é»˜è®¤ä½¿ç”¨çš„æ˜¯çŸ­è¿æ¥ã€‚æµè§ˆå™¨å’ŒæœåŠ¡å™¨æ¯è¿›è¡Œä¸€æ¬¡ HTTP æ“ä½œï¼Œå°±å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œä»»åŠ¡ç»“æŸå°±ä¸­æ–­è¿æ¥ã€‚ </p>
<p>HTTP 1.1 èµ·ï¼Œé»˜è®¤ä½¿ç”¨é•¿è¿æ¥ã€‚è¦ä½¿ç”¨é•¿è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ HTTP é¦–éƒ¨çš„ Connection éƒ½è¦è®¾ç½®ä¸º keep - aliveï¼Œæ‰èƒ½æ”¯æŒé•¿è¿æ¥ã€‚ </p>
<p>HTTP é•¿è¿æ¥ï¼ŒæŒ‡çš„æ˜¯å¤ç”¨ TCP è¿æ¥ã€‚å¤šä¸ª HTTP è¯·æ±‚å¯ä»¥å¤ç”¨åŒä¸€ä¸ª TCP è¿æ¥ï¼Œè¿™å°±èŠ‚çœäº† TCP è¿æ¥å»ºç«‹å’Œæ–­å¼€çš„æ¶ˆè€—ã€‚</p>
<h4 id="ä¸‰ã€httpè¯·æ±‚åè®®ä¸å“åº”åè®®"><a href="#ä¸‰ã€httpè¯·æ±‚åè®®ä¸å“åº”åè®®" class="headerlink" title="ä¸‰ã€httpè¯·æ±‚åè®®ä¸å“åº”åè®®"></a>ä¸‰ã€httpè¯·æ±‚åè®®ä¸å“åº”åè®®</h4><p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/2.png" alt="2"></p>
<blockquote>
<p>Socketï¼ˆå¥—æ¥å­—ï¼‰æ˜¯è®¡ç®—æœºç½‘ç»œä¸­ç”¨äºå®ç°è¿›ç¨‹é—´åŒå‘é€šä¿¡çš„ç«¯ç‚¹æŠ½è±¡ï¼Œå®ƒä¸ºåº”ç”¨å±‚è¿›ç¨‹é€šè¿‡ç½‘ç»œåè®®äº¤æ¢æ•°æ®æä¾›äº†ç»Ÿä¸€çš„æ¥å£ã€‚å…·ä½“æ¥è¯´ï¼ŒSocket æ˜¯åº”ç”¨å±‚ä¸ TCP/IP åè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç»„å°è£…äº†å¤æ‚ç½‘ç»œåè®®çš„æ¥å£ï¼Œç®€åŒ–äº†å¼€å‘è€…å¯¹åº•å±‚é€šä¿¡ç»†èŠ‚çš„æ“ä½œã€‚</p>
<p>ä»åŠŸèƒ½ä¸Šçœ‹ï¼ŒSocket å¯ä»¥çœ‹ä½œæ˜¯ç½‘ç»œé€šä¿¡çš„â€œç”µè¯æ’åº§â€ï¼šä¸¤ä¸ªè®¾å¤‡ï¼ˆå¦‚å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ï¼‰é€šè¿‡ Socket å»ºç«‹è¿æ¥åï¼Œå³å¯åƒç”µè¯é€šè¯ä¸€æ ·è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œè€Œç«¯å£å·åˆ™ç±»ä¼¼äºæ’åº§ä¸Šçš„æ’å­”ï¼Œç”¨äºæ ‡è¯†å…·ä½“çš„é€šä¿¡è¿›ç¨‹ï¼Œä¸”ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹å ç”¨ã€‚æ­¤å¤–ï¼ŒSocket åŒ…å«ç½‘ç»œé€šä¿¡å¿…éœ€çš„äº”ç§æ ¸å¿ƒä¿¡æ¯ï¼Œä¾‹å¦‚ä½¿ç”¨çš„åè®®ï¼ˆTCP/UDPï¼‰ã€æœ¬åœ°ä¸è¿œç¨‹åœ°å€ã€ç«¯å£ç­‰ï¼Œæ„æˆäº†ç½‘ç»œé€šä¿¡çš„åŸºæœ¬æ“ä½œå•å…ƒã€‚</p>
<p>æ€»ç»“è€Œè¨€ï¼ŒSocket æ—¢æ˜¯é€šä¿¡ç«¯ç‚¹çš„é€»è¾‘æ¦‚å¿µï¼Œä¹Ÿæ˜¯å®ç°ç½‘ç»œåº”ç”¨å±‚äº¤äº’çš„å…³é”®å·¥å…·ï¼Œå…¶è®¾è®¡ç›®æ ‡æ˜¯å±è”½åº•å±‚åè®®çš„å¤æ‚æ€§ï¼Œæä¾›ç»Ÿä¸€çš„ç¼–ç¨‹æ¥å£ã€‚</p>
</blockquote>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/3.png" alt="3"></p>
<blockquote>
<p>GET ï¼šè¯·æ±‚å‚æ•°é€šè¿‡ URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆQuery Stringï¼‰ä¼ é€’ï¼Œæ•°æ®æš´éœ²åœ¨åœ°å€æ ä¸­ï¼Œä¾‹å¦‚ï¼š<a href="https://example.com">https://example.com</a> ?name=value</p>
<p>POST ï¼šè¯·æ±‚å‚æ•°å­˜å‚¨åœ¨è¯·æ±‚ä½“ï¼ˆBodyï¼‰ä¸­ä¼ è¾“ï¼Œç›¸å¯¹æ›´å®‰å…¨ï¼Œä¸”æ”¯æŒä¼ è¾“éå­—ç¬¦ä¸²æ•°æ®ï¼ˆå¦‚æ–‡ä»¶ã€äºŒè¿›åˆ¶ç­‰ï¼‰</p>
<p>ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ï¼šåè®®ã€ipã€ç«¯å£ã€è·¯å¾„ã€å‚æ•°</p>
<p>ä¾‹å¦‚ï¼š<a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=yuan">https://www.baidu.com/s?wd=yuan</a> å…¶ä¸­httpsæ˜¯åè®®ï¼Œwww.baidu.com æ˜¯IPï¼Œç«¯å£é»˜è®¤80ï¼Œ/sæ˜¯è·¯å¾„ï¼Œå‚æ•°æ˜¯wd=yuan</p>
<p>è¯·æ±‚æ–¹å¼ï¼šgetä¸postè¯·æ±‚</p>
<ul>
<li>GETæäº¤çš„æ•°æ®ä¼šæ”¾åœ¨URLä¹‹åï¼Œä»¥?åˆ†å‰²URLå’Œä¼ è¾“æ•°æ®ï¼Œå‚æ•°ä¹‹é—´ä»¥&amp;ç›¸è¿ï¼Œå¦‚EditBook?name=test1&amp;id=123456ã€‚POSTæ–¹æ³•æ˜¯æŠŠæäº¤çš„æ•°æ®æ”¾åœ¨HTTPåŒ…çš„è¯·æ±‚ä½“ä¸­ã€‚</li>
<li>GETæäº¤çš„æ•°æ®å¤§å°æœ‰é™åˆ¶ï¼ˆå› ä¸ºæµè§ˆå™¨å¯¹URLçš„é•¿åº¦æœ‰é™åˆ¶ï¼‰ï¼Œè€ŒPOSTæ–¹æ³•æäº¤çš„æ•°æ®æ²¡æœ‰é™åˆ¶</li>
</ul>
<p>å“åº”çŠ¶æ€ç ï¼šçŠ¶æ€ç çš„èŒè´£æ˜¯å½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œè¿”å›çš„è¯·æ±‚ç»“æœã€‚å€ŸåŠ©çŠ¶æ€ç ï¼Œç”¨æˆ·å¯ä»¥çŸ¥é“æœåŠ¡å™¨ç«¯æ˜¯æ­£å¸¸å¤„ç†äº†è¯·æ±‚ï¼Œè¿˜æ˜¯å‡ºç°äº†é—®é¢˜ã€‚çŠ¶æ€ç å¦‚200 OKï¼Œä»¥3ä½æ•°å­—å’ŒåŸå› ç»„æˆã€‚</p>
</blockquote>
<p>æµ‹è¯•httpåè®®æ ¼å¼ï¼šè¯·æ±‚ä¸å“åº”</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#webåº”ç”¨ç¨‹åºï¼šéµå¾ªhttpåè®®</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line">sock=socket.socket()</span><br><span class="line">sock.bind((<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8080</span>))</span><br><span class="line">sock.listen(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    conn è¡¨ç¤ºæ–°å»ºç«‹çš„å¥—æ¥å­—å¯¹è±¡ï¼Œç”¨äºåœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚</span></span><br><span class="line"><span class="string">    addr æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå®ƒåŒ…å«äº†è¿æ¥è¿›æ¥çš„å®¢æˆ·ç«¯çš„ IP åœ°å€å’Œç«¯å£å·ã€‚</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    conn, addr = sock.accept()<span class="comment">#é˜»å¡ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥</span></span><br><span class="line">    data=conn.recv(<span class="number">1024</span>)<span class="comment">#è¯·æ±‚æŠ¥æ–‡</span></span><br><span class="line">    <span class="comment"># data æ˜¯ä¸€ä¸ªå­—èŠ‚ä¸²ï¼ŒåŒ…å«äº†å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä¿¡æ¯ã€‚</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä¿¡æ¯ï¼š\n&quot;</span>,data)</span><br><span class="line">    conn.send(<span class="string">b&quot;HTTP/1.1 200 ok\r\nserver:zxj\r\n\r\nhello world&quot;</span>)<span class="comment">#å“åº”é¦–è¡Œ+å“åº”å¤´+å“åº”ä½“</span></span><br><span class="line">    conn.close()</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•postè¯·æ±‚ï¼šurlencodedæ ¼å¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º socket è¿æ¥</span></span><br><span class="line">client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">client.connect((<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8080</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„é€  POST è¯·æ±‚æŠ¥æ–‡</span></span><br><span class="line">path = <span class="string">&quot;/&quot;</span>  <span class="comment"># ç›®æ ‡è·¯å¾„</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;Host&quot;</span>: <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>,  <span class="comment"># æ•°æ®æ ¼å¼</span></span><br><span class="line">    <span class="string">&quot;Content-Length&quot;</span>: <span class="built_in">len</span>(<span class="string">&quot;username=admin&amp;password=123456&quot;</span>)  <span class="comment"># æ•°æ®é•¿åº¦</span></span><br><span class="line">&#125;</span><br><span class="line">body = <span class="string">&quot;username=admin&amp;password=123456&quot;</span>  <span class="comment"># è¯·æ±‚ä½“ï¼ˆè¡¨å•æ•°æ®ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹¼æ¥è¯·æ±‚æŠ¥æ–‡</span></span><br><span class="line">request = <span class="string">f&quot;POST <span class="subst">&#123;path&#125;</span> HTTP/1.1\r\n&quot;</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> headers.items():</span><br><span class="line">    request += <span class="string">f&quot;<span class="subst">&#123;k&#125;</span>: <span class="subst">&#123;v&#125;</span>\r\n&quot;</span></span><br><span class="line">request += <span class="string">&quot;\r\n&quot;</span>  <span class="comment"># ç©ºè¡Œåˆ†éš”å¤´éƒ¨ä¸ä¸»ä½“</span></span><br><span class="line">request += body</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€è¯·æ±‚</span></span><br><span class="line">client.send(request.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¥æ”¶å“åº”</span></span><br><span class="line">response = client.recv(<span class="number">4096</span>)</span><br><span class="line"><span class="built_in">print</span>(response.decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">client.close()</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•postè¯·æ±‚ï¼šjsonæ ¼å¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰è¯·æ±‚åœ°å€</span></span><br><span class="line">url = <span class="string">&quot;http://127.0.0.1:8080&quot;</span></span><br><span class="line"><span class="comment"># å®šä¹‰ JSON æ•°æ®ï¼ˆå­—å…¸æ ¼å¼ï¼‰</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>: <span class="string">&quot;123456&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€ POST è¯·æ±‚</span></span><br><span class="line">response = requests.post(</span><br><span class="line">    url, </span><br><span class="line">    json=data  <span class="comment"># ä½¿ç”¨ json å‚æ•°è‡ªåŠ¨åºåˆ—åŒ–å­—å…¸å¹¶è®¾ç½® Content-Type: application/json</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºå“åº”ç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çŠ¶æ€ç :&quot;</span>, response.status_code)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å“åº”å†…å®¹:&quot;</span>, response.text)  <span class="comment"># ä½¿ç”¨ text è·å–åŸå§‹å“åº”æ–‡æœ¬</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä¿¡æ¯ï¼š</span></span><br><span class="line"><span class="string"> b&#x27;POST / HTTP/1.1\r\nHost: 127.0.0.1:8080\r\nUser-Agent: python-requests/2.32.2\r\nAccept-Encoding: gzip, deflate\r\nAccept: */*\r\nConnection: keep-alive\r\nContent-Length: 43\r\nContent-Type: application/json\r\n\r\n&#123;&quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;123456&quot;&#125;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>é€šè¿‡ <code>json=data</code> å‚æ•°ï¼Œ<code>requests</code> ä¼šè‡ªåŠ¨å°†å­—å…¸è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¹¶è®¾ç½®è¯·æ±‚å¤´ <code>Content-Type: application/json</code>ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ <code>json.dumps()</code> æˆ–é…ç½® headers </p>
<p>SSL éªŒè¯æ˜¯æŒ‡é€šè¿‡ SSL è¯ä¹¦éªŒè¯ç½‘ç«™èº«ä»½å¹¶ç¡®ä¿é€šä¿¡å®‰å…¨çš„è¿‡ç¨‹ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯ç¡®è®¤æœåŠ¡å™¨çš„çœŸå®æ€§ã€é˜²æ­¢èº«ä»½ä¼ªé€ ï¼Œå¹¶å»ºç«‹åŠ å¯†è¿æ¥ä»¥ä¿æŠ¤æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§</p>
<p>HTTPSï¼ˆHyperText Transfer Protocol Secureï¼‰æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„ HTTP é€šé“ï¼Œé€šè¿‡åœ¨ HTTP åŸºç¡€ä¸ŠåŠ å…¥åŠ å¯†å’Œèº«ä»½è®¤è¯æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„éšç§æ€§ã€å®Œæ•´æ€§å’ŒæœåŠ¡å™¨èº«ä»½çš„çœŸå®æ€§</p>
<p>https=http+ssl</p>
<p>é€šè¿‡ <code>Content-Type</code>ï¼ŒæœåŠ¡å™¨å¯è¯†åˆ«è¯·æ±‚ä½“ï¼ˆBodyï¼‰çš„æ ¼å¼ï¼ˆå¦‚ JSONã€è¡¨å•æ•°æ®ï¼‰ï¼Œå®¢æˆ·ç«¯å¯è§£æå“åº”æ•°æ®çš„ç±»å‹ï¼ˆå¦‚ HTMLã€å›¾ç‰‡ï¼‰</p>
<p>ä¾‹å¦‚ï¼šconn.send(bâ€HTTP/1.1 200 ok\r\nserver:zxj\r\n<strong>content-type:text/html</strong>\r\n\r\n</p><h1>hello world&lt;\h1&gt;â€)<p></p>
<p>å†ä¾‹å¦‚ï¼šâ€˜HTTP/1.1 200 ok\r\nserver:zxj\r\n<strong>content-type:application/json</strong>\r\n\r\n{â€œuser_idâ€:zxj}â€™</p>
</h1></blockquote>
<h5 id="apiæ¥å£"><a href="#apiæ¥å£" class="headerlink" title="apiæ¥å£"></a>apiæ¥å£</h5><p>åœ¨å¼€å‘webåº”ç”¨ä¸­ï¼Œæœ‰ä¸¤ç§åº”ç”¨æ¨¡å¼ï¼š</p>
<p>1.å‰åç«¯ä¸åˆ†ç¦»ï¼šå®¢æˆ·ç«¯çœ‹åˆ°çš„å†…å®¹å’Œæ‰€æœ‰é¡µé¢æ•ˆæœéƒ½æ˜¯æœ‰æœåŠ¡ç«¯æä¾›å‡ºæ¥çš„</p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/4.png" alt="4"></p>
<p>2.å‰åç«¯åˆ†ç¦»ï¼šæŠŠå‰ç«¯çš„é¡µé¢æ•ˆæœï¼ˆhtmlï¼Œcssï¼Œjsåˆ†ç¦»åˆ°å¦ä¸€ä¸ªæœåŠ¡ç«¯ï¼ŒpythonæœåŠ¡ç«¯åªéœ€è¦è¿”å›æ•°æ®å³å¯ï¼‰</p>
<p>å‰ç«¯å½¢æˆä¸€ä¸ªç‹¬ç«‹çš„ç½‘ç«™ï¼ŒæœåŠ¡ç«¯æ„æˆä¸€ä¸ªç‹¬ç«‹çš„ç½‘ç«™</p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/5.png" alt="5"></p>
<p><strong>åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆApplication Programming Interfaceï¼ŒAPIæ¥å£ï¼‰</strong>ï¼Œå°±æ˜¯åº”ç”¨ç¨‹åºå¯¹å¤–æä¾›äº†ä¸€ä¸ªæ“ä½œæ•°æ®çš„å…¥å£ï¼Œè¿™ä¸ªå…¥å£å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–ç±»æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªurlåœ°å€æˆ–è€…ä¸€ä¸ªç½‘ç»œåœ°å€ã€‚å½“å®¢æˆ·ç«¯è°ƒç”¨è¿™ä¸ªå…¥å£ï¼Œåº”ç”¨ç¨‹åºåˆ™ä¼šæ‰§è¡Œå¯¹åº”ä»£ç æ“ä½œï¼Œç»™å®¢æˆ·ç«¯å®Œæˆç›¸å¯¹åº”çš„åŠŸèƒ½ã€‚</p>
<p>å½“ç„¶ï¼Œapiæ¥å£åœ¨å·¥ä½œä¸­æ˜¯æ¯”è¾ƒå¸¸è§çš„å¼€å‘å†…å®¹ï¼Œæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨å…¶ä»–äººç¼–å†™çš„apiæ¥å£ï¼Œæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æä¾›apiæ¥å£ç»™å…¶ä»–äººæ“ä½œã€‚ç”±æ­¤å°±ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œapiæ¥å£å¾€å¾€éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ã€ç±»æ–¹æ³•ã€æˆ–è€…urlæˆ–å…¶ä»–ç½‘ç»œåœ°å€ï¼Œä¸æ–­æ˜¯å“ªä¸€ç§ï¼Œå½“apiæ¥å£ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éƒ½è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜å°±æ˜¯è¿™ä¸ªæ¥å£åº”è¯¥æ€ä¹ˆç¼–å†™ï¼Ÿæ¥å£æ€ä¹ˆå†™çš„æ›´åŠ å®¹æ˜“ç»´æŠ¤å’Œæ¸…æ™°ï¼Œè¿™å°±éœ€è¦å¤§å®¶åœ¨è°ƒç”¨æˆ–è€…ç¼–å†™apiæ¥å£çš„æ—¶å€™è¦æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç¼–å†™è§„èŒƒï¼ï¼ï¼</p>
<p>ä¸ºäº†åœ¨å›¢é˜Ÿå†…éƒ¨å½¢æˆå…±è¯†ï¼Œé˜²æ­¢ä¸ªäººä¹ æƒ¯å·®å¼‚å¼•èµ·çš„æ··ä¹±ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ‰¾åˆ°ä¸€ç§å¤§å®¶éƒ½è§‰å¾—å¾ˆå¥½çš„æ¥å£å®ç°è§„èŒƒï¼Œè€Œä¸”è¿™ç§è§„èŒƒèƒ½å¤Ÿè®©åç«¯å†™çš„æ¥å£ï¼Œç”¨é€”ä¸€ç›®äº†ç„¶ï¼Œå‡å°‘å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒæ–¹ä¹‹é—´çš„åˆä½œæˆæœ¬ã€‚</p>
<p>ç›®å‰å¸‚é¢ä¸Šå¤§éƒ¨åˆ†å…¬å¸å¼€å‘äººå‘˜ä½¿ç”¨çš„æ¥å£å®ç°è§„èŒƒä¸»è¦æœ‰ï¼šrestfulã€RPCã€‚</p>
<p>RESTå…¨ç§°æ˜¯Representational State Transferï¼Œä¸­æ–‡æ„æ€æ˜¯è¡¨è¿°ï¼ˆç¼–è€…æ³¨ï¼šé€šå¸¸è¯‘ä¸ºè¡¨å¾ï¼‰æ€§çŠ¶æ€è½¬ç§»ã€‚å®ƒé¦–æ¬¡å‡ºç°åœ¨2000å¹´Roy Fieldingçš„åšå£«è®ºæ–‡ä¸­ã€‚</p>
<p>RESTfulæ˜¯ä¸€ç§ä¸“é—¨ä¸ºWebå¼€å‘è€Œå®šä¹‰APIæ¥å£çš„è®¾è®¡é£æ ¼ï¼Œå°¤å…¶é€‚ç”¨äºå‰åç«¯åˆ†ç¦»çš„åº”ç”¨æ¨¡å¼ä¸­ã€‚</p>
<p><strong>å…³é”®ï¼šé¢å‘èµ„æºå¼€å‘</strong></p>
<p>è¿™ç§é£æ ¼çš„ç†å¿µè®¤ä¸ºåç«¯å¼€å‘ä»»åŠ¡å°±æ˜¯æä¾›æ•°æ®çš„ï¼Œå¯¹å¤–æä¾›çš„æ˜¯æ•°æ®èµ„æºçš„è®¿é—®æ¥å£ï¼Œæ‰€ä»¥åœ¨å®šä¹‰æ¥å£æ—¶ï¼Œå®¢æˆ·ç«¯è®¿é—®çš„URLè·¯å¾„å°±è¡¨ç¤ºè¿™ç§è¦æ“ä½œçš„æ•°æ®èµ„æºã€‚</p>
<p>è€Œ<strong>å¯¹äºæ•°æ®èµ„æºåˆ†åˆ«ä½¿ç”¨POSTã€DELETEã€GETã€UPDATEç­‰è¯·æ±‚åŠ¨ä½œæ¥è¡¨è¾¾å¯¹æ•°æ®çš„å¢åˆ æŸ¥æ”¹</strong>ã€‚</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>è¯·æ±‚æ–¹æ³•</th>
<th>è¯·æ±‚åœ°å€</th>
<th>åç«¯æ“ä½œ</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/student/</td>
<td>å¢åŠ å­¦ç”Ÿ</td>
</tr>
<tr>
<td>GET</td>
<td>/student/</td>
<td>è·å–æ‰€æœ‰å­¦ç”Ÿ</td>
</tr>
<tr>
<td>GET</td>
<td>/student/1</td>
<td>è·å–idä¸º1çš„å­¦ç”Ÿ</td>
</tr>
<tr>
<td>PUT</td>
<td>/student/1</td>
<td>ä¿®æ”¹idä¸º1çš„å­¦ç”Ÿ</td>
</tr>
<tr>
<td>DELETE</td>
<td>/student/1</td>
<td>åˆ é™¤idä¸º1çš„å­¦ç”Ÿ</td>
</tr>
</tbody>
</table>
</div>
<p>restfulè§„èŒƒæ˜¯ä¸€ç§é€šç”¨çš„è§„èŒƒï¼Œä¸é™åˆ¶è¯­è¨€å’Œå¼€å‘æ¡†æ¶çš„ä½¿ç”¨ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€é—¨è¯­è¨€ï¼Œä»»ä½•ä¸€ä¸ªæ¡†æ¶éƒ½å¯ä»¥å®ç°ç¬¦åˆrestfulè§„èŒƒçš„APIæ¥å£ã€‚</p>
<h3 id="fastapiå¿«é€Ÿå¼€å§‹"><a href="#fastapiå¿«é€Ÿå¼€å§‹" class="headerlink" title="fastapiå¿«é€Ÿå¼€å§‹"></a>fastapiå¿«é€Ÿå¼€å§‹</h3><h4 id="ç®€å•æ¡ˆä¾‹"><a href="#ç®€å•æ¡ˆä¾‹" class="headerlink" title="ç®€å•æ¡ˆä¾‹"></a>ç®€å•æ¡ˆä¾‹</h4><p>å®‰è£…ï¼š<code>pip install fastapi</code></p>
<p>è¿˜éœ€è¦ä¸€ä¸ªASGIæœåŠ¡å™¨ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨Uvicornï¼š<code>pip install uvicorn</code></p>
<blockquote>
<p>ASGIï¼ˆ<strong>Asynchronous Server Gateway Interface</strong> ï¼‰æ˜¯ä¸€ç§<strong>å¼‚æ­¥æœåŠ¡å™¨ç½‘å…³æ¥å£</strong> ï¼Œä¸º Python Web åº”ç”¨æä¾›äº†æ ‡å‡†æ¥å£ï¼Œä½¿å…¶èƒ½å¤Ÿå¤„ç†ç°ä»£ç½‘ç»œåè®®ï¼ˆå¦‚ WebSocketã€HTTP/2 ç­‰ï¼‰çš„å¼‚æ­¥è¯·æ±‚ã€‚ä¸ä¼ ç»Ÿçš„ WSGI ä¸åŒï¼ŒASGI æ”¯æŒå¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼Œå…è®¸å•ä¸ªè¯·æ±‚å¤„ç†å¤šä¸ªäº‹ä»¶ï¼ˆå¦‚é•¿è¿æ¥ã€åŒå‘é€šä¿¡ï¼‰ï¼Œä»è€Œæå‡é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½</p>
<p>Uvicorn æ˜¯ä¸€ä¸ªåŸºäº ASGI çš„é«˜æ€§èƒ½å¼‚æ­¥ Web æœåŠ¡å™¨ï¼Œä¸“ä¸º Python å¼‚æ­¥æ¡†æ¶è®¾è®¡ã€‚</p>
<p>webåº”ç”¨ç¨‹åº=webæ¡†æ¶+è‡ªå·±å†™çš„ä¸šåŠ¡é€»è¾‘ä»£ç </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI<span class="comment">#fastapiç±»</span></span><br><span class="line"></span><br><span class="line">app= FastAPI()<span class="comment">#åˆ›å»ºä¸€ä¸ªfastapiå®ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">home</span>():</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;user_id&quot;</span>:<span class="number">1001</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/shop&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">shop</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;shop_id&quot;</span>:<span class="number">1002</span>&#125;</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨ï¼š<code>uvicorn &quot;04 fastapi_begin:app&quot; --reload</code></p>
<p>ä¹Ÿå¯ä»¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> uvicorn</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    uvicorn.run(app=<span class="string">&quot;04 fastapi_begin:app&quot;</span>,port=<span class="number">8080</span>,reload=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>æ¥å£æ–‡æ¡£</p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/6.png" alt="6"></p>
<blockquote>
<p>ä¿®é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ Python ä¸­ä¸€ç§åŠ¨æ€ä¿®æ”¹å‡½æ•°æˆ–ç±»è¡Œä¸ºçš„é«˜çº§åŠŸèƒ½ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°æˆ–ç±»ï¼Œå®ƒ<strong>æ¥å—ç›®æ ‡å‡½æ•°æˆ–ç±»ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›åŒ…è£…åçš„æ–°å‡½æ•°æˆ–ç±»å¯¹è±¡</strong>ï¼Œä»è€Œåœ¨<strong>ä¸ä¿®æ”¹åŸå§‹ä»£ç </strong> çš„å‰æä¸‹ä¸ºå¯¹è±¡æ·»åŠ é¢å¤–åŠŸèƒ½</p>
</blockquote>
<h3 id="è·¯å¾„æ“ä½œ"><a href="#è·¯å¾„æ“ä½œ" class="headerlink" title="è·¯å¾„æ“ä½œ"></a>è·¯å¾„æ“ä½œ</h3><h4 id="è·¯å¾„æ“ä½œä¿®é¥°å™¨"><a href="#è·¯å¾„æ“ä½œä¿®é¥°å™¨" class="headerlink" title="è·¯å¾„æ“ä½œä¿®é¥°å™¨"></a>è·¯å¾„æ“ä½œä¿®é¥°å™¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.get()</span></span><br><span class="line"><span class="meta">@app.post()</span></span><br><span class="line"><span class="meta">@app.put()</span></span><br><span class="line"><span class="meta">@app.patch()</span></span><br><span class="line"><span class="meta">@app.delete()</span></span><br><span class="line"><span class="meta">@app.options()</span></span><br><span class="line"><span class="meta">@app.head()</span></span><br><span class="line"><span class="meta">@app.trace()</span></span><br></pre></td></tr></table></figure>
<p>è·¯å¾„æ“ä½œä¿®é¥°å™¨å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tagsä¸ºæ¥å£æ·»åŠ æ ‡ç­¾ï¼Œç”¨äºåœ¨è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£</span></span><br><span class="line"><span class="string">summaryä¸ºæ¥å£æ·»åŠ æè¿°</span></span><br><span class="line"><span class="string">descriptionä¸ºæ¥å£æ·»åŠ è¯¦ç»†æè¿°</span></span><br><span class="line"><span class="string">response_descriptionä¸ºæ¥å£è¿”å›å€¼æè¿°</span></span><br><span class="line"><span class="string">deprecatedä¸ºè¿‡æ—¶çš„æ¥å£</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/post&quot;</span>, </span></span></span><br><span class="line"><span class="params"><span class="meta">        tags=[<span class="string">&quot;è¿™æ˜¯postæ–¹æ³•&quot;</span>],</span></span></span><br><span class="line"><span class="params"><span class="meta">        summary=<span class="string">&quot;è¿™æ˜¯postæ–¹æ³•çš„æè¿°&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">        description=<span class="string">&quot;è¿™æ˜¯postæ–¹æ³•çš„è¯¦ç»†æè¿°&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">        response_description=<span class="string">&quot;è¿™æ˜¯postæ–¹æ³•çš„è¿”å›å€¼æè¿°&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">        deprecated=<span class="literal">True</span>, <span class="comment"># è¿‡æ—¶çš„æ¥å£</span></span></span></span><br><span class="line"><span class="params"><span class="meta">        </span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>():</span><br></pre></td></tr></table></figure>
<h4 id="include-router"><a href="#include-router" class="headerlink" title="include_router"></a>include_router</h4><p>æ–‡ä»¶è·¯å¾„å¦‚ä¸‹</p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/7.png" alt="7"></p>
<p>main.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">import</span> uvicorn</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> apps.app01.shop <span class="keyword">import</span> shop</span><br><span class="line"><span class="keyword">from</span> apps.app02.user <span class="keyword">import</span> user</span><br><span class="line"></span><br><span class="line">app= FastAPI()</span><br><span class="line"></span><br><span class="line">app.include_router(shop,</span><br><span class="line">                 prefix=<span class="string">&quot;/shop&quot;</span>, <span class="comment"># è·¯ç”±å‰ç¼€</span></span><br><span class="line">                 tags=[<span class="string">&quot;è´­ç‰©ä¸­å¿ƒæ¥å£&quot;</span>], <span class="comment"># æ ‡ç­¾</span></span><br><span class="line">                 responses=&#123;<span class="number">200</span>: &#123;<span class="string">&quot;description&quot;</span>: <span class="string">&quot;æˆåŠŸ&quot;</span>&#125;&#125; <span class="comment"># å“åº”æè¿°</span></span><br><span class="line">                 )</span><br><span class="line">app.include_router(user,</span><br><span class="line">                 prefix=<span class="string">&quot;/user&quot;</span>, <span class="comment"># è·¯ç”±å‰ç¼€</span></span><br><span class="line">                 tags=[<span class="string">&quot;ç”¨æˆ·æ¥å£&quot;</span>], <span class="comment"># æ ‡ç­¾</span></span><br><span class="line">                 responses=&#123;<span class="number">200</span>: &#123;<span class="string">&quot;description&quot;</span>: <span class="string">&quot;æˆåŠŸ&quot;</span>&#125;&#125; <span class="comment"># å“åº”æè¿°</span></span><br><span class="line">                 )</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    uvicorn.run(<span class="string">&quot;main:app&quot;</span>, port=<span class="number">8080</span>,  reload=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>shop.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> APIRouter</span><br><span class="line"></span><br><span class="line">shop=APIRouter()</span><br><span class="line"></span><br><span class="line"><span class="meta">@shop.get(<span class="params"><span class="string">&quot;/food&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shop_food</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;food&quot;</span>:<span class="string">&quot;shop food&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@shop.get(<span class="params"><span class="string">&quot;/drink&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shop_drink</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;drink&quot;</span>:<span class="string">&quot;shop drink&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>user.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> APIRouter</span><br><span class="line"></span><br><span class="line">user=APIRouter()</span><br><span class="line"></span><br><span class="line"><span class="meta">@user.post(<span class="params"><span class="string">&quot;/login&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_login</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;user&quot;</span>:<span class="string">&quot;user login&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@user.post(<span class="params"><span class="string">&quot;/register&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_register</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;user&quot;</span>:<span class="string">&quot;user register&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>include_router</code> æ˜¯ FastAPI æ¡†æ¶ä¸­ç”¨äºæ•´åˆè·¯ç”±çš„æ ¸å¿ƒæ–¹æ³•ï¼Œå…¶ä½œç”¨æ˜¯å°†é€šè¿‡ <code>APIRouter</code> å®šä¹‰çš„è·¯ç”±æ¨¡å—æ·»åŠ åˆ°ä¸»åº”ç”¨ç¨‹åºå®ä¾‹ä¸­ï¼Œä½¿è¿™äº›è·¯ç”±åœ¨åº”ç”¨ä¸­ç”Ÿæ•ˆã€‚</p>
</blockquote>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/8.png" alt="8"></p>
<h3 id="è¯·æ±‚ä¸å“åº”"><a href="#è¯·æ±‚ä¸å“åº”" class="headerlink" title="è¯·æ±‚ä¸å“åº”"></a>è¯·æ±‚ä¸å“åº”</h3><h4 id="4-1-è·¯å¾„å‚æ•°"><a href="#4-1-è·¯å¾„å‚æ•°" class="headerlink" title="4.1 è·¯å¾„å‚æ•°"></a>4.1 è·¯å¾„å‚æ•°</h4><h5 id="ï¼ˆ1ï¼‰åŸºæœ¬ç”¨æ³•"><a href="#ï¼ˆ1ï¼‰åŸºæœ¬ç”¨æ³•" class="headerlink" title="ï¼ˆ1ï¼‰åŸºæœ¬ç”¨æ³•"></a>ï¼ˆ1ï¼‰åŸºæœ¬ç”¨æ³•</h5><p>ä»¥ä½¿ç”¨ä¸ Python æ ¼å¼åŒ–å­—ç¬¦ä¸²ç›¸åŒçš„è¯­æ³•æ¥å£°æ˜è·¯å¾„â€å‚æ•°â€æˆ–â€å˜é‡â€ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/user/&#123;user_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_user</span>(<span class="params">user_id</span>):</span><br><span class="line">    <span class="built_in">print</span>(user_id, <span class="built_in">type</span>(user_id))</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;user_id&quot;</span>: user_id&#125;</span><br></pre></td></tr></table></figure>
<p>è·¯å¾„å‚æ•° <code>user_id</code> çš„å€¼å°†ä½œä¸ºå‚æ•° <code>user_id</code> ä¼ é€’ç»™ä½ çš„å‡½æ•°ã€‚</p>
<h5 id="ï¼ˆ2ï¼‰æœ‰ç±»å‹çš„è·¯å¾„å‚æ•°"><a href="#ï¼ˆ2ï¼‰æœ‰ç±»å‹çš„è·¯å¾„å‚æ•°" class="headerlink" title="ï¼ˆ2ï¼‰æœ‰ç±»å‹çš„è·¯å¾„å‚æ•°"></a>ï¼ˆ2ï¼‰æœ‰ç±»å‹çš„è·¯å¾„å‚æ•°</h5><p>ä½ å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ Python ç±»å‹æ ‡æ³¨ä¸ºå‡½æ•°ä¸­çš„è·¯å¾„å‚æ•°å£°æ˜ç±»å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/user/&#123;user_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_user</span>(<span class="params">user_id: <span class="built_in">int</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(user_id, <span class="built_in">type</span>(user_id))</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;user_id&quot;</span>: user_id&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>user_id</code> è¢«å£°æ˜ä¸º int ç±»å‹ã€‚</p>
<blockquote>
<p>è¿™å°†ä¸ºä½ çš„å‡½æ•°æä¾›ç¼–è¾‘å™¨æ”¯æŒï¼ŒåŒ…æ‹¬é”™è¯¯æ£€æŸ¥ã€ä»£ç è¡¥å…¨ç­‰ç­‰ã€‚</p>
</blockquote>
<h5 id="ï¼ˆ3ï¼‰æ³¨æ„é¡ºåº"><a href="#ï¼ˆ3ï¼‰æ³¨æ„é¡ºåº" class="headerlink" title="ï¼ˆ3ï¼‰æ³¨æ„é¡ºåº"></a>ï¼ˆ3ï¼‰æ³¨æ„é¡ºåº</h5><p>åœ¨åˆ›å»ºè·¯å¾„æ“ä½œæ—¶ï¼Œä½ ä¼šå‘ç°æœ‰äº›æƒ…å†µä¸‹è·¯å¾„æ˜¯å›ºå®šçš„ã€‚</p>
<p>æ¯”å¦‚ <code>/users/me</code>ï¼Œæˆ‘ä»¬å‡è®¾å®ƒç”¨æ¥è·å–å…³äºå½“å‰ç”¨æˆ·çš„æ•°æ®ã€‚</p>
<p>ç„¶åï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨è·¯å¾„ <code>/user/&#123;username&#125;</code> æ¥é€šè¿‡ç”¨æˆ·åè·å–å…³äºç‰¹å®šç”¨æˆ·çš„æ•°æ®ã€‚</p>
<p>ç”±äºè·¯å¾„æ“ä½œæ˜¯<strong>æŒ‰é¡ºåºä¾æ¬¡è¿è¡Œ</strong>çš„ï¼Œä½ éœ€è¦ç¡®ä¿è·¯å¾„ /<code>user/me</code> å£°æ˜åœ¨è·¯å¾„ <code>/user/&#123;username&#125;</code> ä¹‹å‰ã€‚</p>
<p>å¦‚ä¸‹</p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/image-20250516193934740.png" alt="image-20250516193934740"></p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/image-20250516201128482.png" alt="image-20250516201128482"></p>
<blockquote>
<p>è·¯ç”±ï¼ˆRoutingï¼‰æ˜¯æŒ‡åœ¨ç½‘ç»œä¸­<strong>é€‰æ‹©æ•°æ®ä¼ è¾“è·¯å¾„</strong>çš„è¿‡ç¨‹ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å°†æ•°æ®ä»æºç‚¹é«˜æ•ˆã€å¯é åœ°ä¼ è¾“åˆ°ç›®çš„åœ°</p>
<p>cURL æ˜¯ä¸€ä¸ªå¼€æºçš„å‘½ä»¤è¡Œå·¥å…·å’Œè·¨å¹³å°çš„åº“ï¼ˆlibcurlï¼‰ï¼Œç”¨äºåŸºäº URL è¯­æ³•åœ¨ç½‘ç»œåè®®ä¸‹è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚å®ƒæ”¯æŒå¤šç§åè®®ï¼ˆå¦‚ HTTPã€HTTPSã€FTPã€SMTP ç­‰ï¼‰ï¼Œèƒ½å¤Ÿå®ç°æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ä»¥åŠä¸ Web æœåŠ¡å™¨çš„äº¤äº’ï¼Œå¸¸è¢«å¼€å‘è€…ç”¨äº API æµ‹è¯•ã€æ•°æ®ä¼ è¾“ç­‰åœºæ™¯</p>
</blockquote>
<h4 id="4-2-æŸ¥è¯¢å‚æ•°ï¼ˆè¯·æ±‚å‚æ•°ï¼‰"><a href="#4-2-æŸ¥è¯¢å‚æ•°ï¼ˆè¯·æ±‚å‚æ•°ï¼‰" class="headerlink" title="4.2 æŸ¥è¯¢å‚æ•°ï¼ˆè¯·æ±‚å‚æ•°ï¼‰"></a>4.2 æŸ¥è¯¢å‚æ•°ï¼ˆè¯·æ±‚å‚æ•°ï¼‰</h4><p>è·¯å¾„å‡½æ•°ä¸­å£°æ˜<strong>ä¸å±äºè·¯å¾„å‚æ•°çš„å…¶ä»–å‡½æ•°å‚æ•°</strong>æ—¶ï¼Œå®ƒä»¬å°†è¢«<strong>è‡ªåŠ¨è§£é‡Šä¸ºæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°</strong>ï¼Œå°±æ˜¯ <code>urlï¼Ÿ</code>ä¹‹åç”¨ <code>&amp;</code> åˆ†å‰²çš„ <code>key-value é”®å€¼å¯¹</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app02.get(<span class="params"><span class="string">&quot;/jobs&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_jobs</span>(<span class="params">kind1: <span class="built_in">str</span>, kind2: <span class="built_in">str</span>, kind3: <span class="built_in">str</span></span>):</span><br><span class="line">    <span class="comment">#åŸºäºæŸ¥è¯¢å‚æ•°çš„å€¼æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œ</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;kind1&quot;</span>: kind1,</span><br><span class="line">        <span class="string">&quot;kind2&quot;</span>: kind2,</span><br><span class="line">        <span class="string">&quot;kind3&quot;</span>: kind3</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/image-20250516201707589.png" alt="image-20250516201707589"></p>
<p>å¢åŠ è·¯å¾„å‚æ•°ï¼škind1ä¸ºè·¯å¾„å‚æ•°</p>
<p>å¢åŠ é»˜è®¤å‚æ•°å€¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app02.get(<span class="params"><span class="string">&quot;/jobs/&#123;kind1&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_jobs</span>(<span class="params">kind1: <span class="built_in">str</span>, kind2: <span class="built_in">str</span>=<span class="string">&quot;None&quot;</span>, kind3: <span class="built_in">str</span>=<span class="string">&quot;None&quot;</span></span>):<span class="comment">#å¢åŠ é»˜è®¤å€¼ï¼Œå¯é€‰å¡«</span></span><br><span class="line">    <span class="comment">#åŸºäºæŸ¥è¯¢å‚æ•°çš„å€¼æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œ</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;kind1&quot;</span>: kind1,</span><br><span class="line">        <span class="string">&quot;kind2&quot;</span>: kind2,</span><br><span class="line">        <span class="string">&quot;kind3&quot;</span>: kind3</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>Request URLï¼š</p>
<p><code>http://127.0.0.1:8080/app02/jobs/11?kind2=22&amp;kind3=33</code></p>
<p>è‡ªpython3.5å¼€å§‹ï¼ŒPEP484ä¸ºpythonå¼•å…¥äº†ç±»å‹æ³¨è§£(type hints)ï¼Œtypingçš„ä¸»è¦ä½œç”¨æœ‰ï¼š</p>
<blockquote>
<p>1.ç±»å‹æ£€æŸ¥ï¼Œé˜²æ­¢è¿è¡Œæ—¶å‡ºç°å‚æ•°ã€è¿”å›å€¼ç±»å‹ä¸ç¬¦ã€‚</p>
<p>2.ä½œä¸ºå¼€å‘æ–‡æ¡£é™„åŠ è¯´æ˜ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è°ƒç”¨æ—¶ä¼ å…¥å’Œè¿”å›å‚æ•°ç±»å‹ã€‚</p>
<p>3.æ¨¡å—åŠ å…¥ä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œä¸ä¼šæŠ¥æ­£å¼çš„é”™è¯¯ï¼Œpycharmæ”¯æŒtypingæ£€æŸ¥é”™è¯¯æ—¶ä¼šå‡ºç°é»„è‰²è­¦å‘Šã€‚</p>
</blockquote>
<p><code>type hints</code>ä¸»è¦æ˜¯è¦æŒ‡ç¤ºå‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºçš„æ•°æ®ç±»å‹ï¼Œæ•°æ®ç±»å‹åœ¨typingåŒ…ä¸­ï¼ŒåŸºæœ¬ç±»å‹æœ‰<code>str list dict</code>ç­‰ç­‰ï¼Œ</p>
<blockquote>
<p>Type Hints æ˜¯ Python 3.5 å¼•å…¥çš„åŠŸèƒ½ï¼Œé€šè¿‡ç±»å‹æ³¨è§£å¢å¼ºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å®ƒå…è®¸å¼€å‘è€…ä¸ºå˜é‡ã€å‡½æ•°å‚æ•°ã€è¿”å›å€¼ç­‰æŒ‡å®šé¢„æœŸçš„æ•°æ®ç±»å‹ï¼Œä»è€Œå¸®åŠ©é™æ€ç±»å‹æ£€æŸ¥å·¥å…·ï¼ˆå¦‚ <code>mypy</code>ï¼‰æ•è·æ½œåœ¨é”™è¯¯ï¼Œå¹¶æå‡ IDE çš„æ™ºèƒ½æç¤ºèƒ½åŠ›ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">greet</span>(<span class="params">name: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;Hello, <span class="subst">&#123;name&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„ <code>name: str</code> è¡¨ç¤ºå‚æ•°éœ€ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œ<code>-&gt; str</code> è¡¨ç¤ºè¿”å›å€¼ç±»å‹ä¸ºå­—ç¬¦ä¸² ã€‚</p>
</blockquote>
<p><code>Union</code>æ˜¯å½“æœ‰å¤šç§å¯èƒ½çš„æ•°æ®ç±»å‹æ—¶ä½¿ç”¨ï¼Œæ¯”å¦‚å‡½æ•°æœ‰å¯èƒ½æ ¹æ®ä¸åŒæƒ…å†µæœ‰æ—¶è¿”å›stræˆ–è¿”å›listï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™æˆ<code>Union[list, str]</code></p>
<blockquote>
<p>ä» Python 3.10 èµ·ï¼Œ<code>Union[X, Y]</code> å¯ç®€å†™ä¸º <code>X | Y</code>ã€‚ä¾‹å¦‚ <code>int | str</code> ç­‰ä»·äº <code>Union[int, str]</code> ã€‚</p>
<p>å†ä¾‹å¦‚ï¼š<code>kind2:str|None=None</code></p>
</blockquote>
<p><code>Optional</code>æ˜¯Unionçš„ä¸€ä¸ªç®€åŒ–ï¼Œå½“æ•°æ®ç±»å‹ä¸­æœ‰å¯èƒ½æ˜¯Noneæ—¶ï¼Œæ¯”å¦‚æœ‰å¯èƒ½æ˜¯strä¹Ÿæœ‰å¯èƒ½æ˜¯Noneï¼Œåˆ™Optional[str]ï¼Œç›¸å½“äºUnion[str, None]</p>
<h4 id="4-3-è¯·æ±‚ä½“æ•°æ®"><a href="#4-3-è¯·æ±‚ä½“æ•°æ®" class="headerlink" title="4.3 è¯·æ±‚ä½“æ•°æ®"></a>4.3 è¯·æ±‚ä½“æ•°æ®</h4><p>å½“ä½ éœ€è¦å°†æ•°æ®ä»å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰å‘é€ç»™ API æ—¶ï¼Œä½ å°†å…¶ä½œä¸ºã€Œè¯·æ±‚ä½“ã€å‘é€ã€‚è¯·æ±‚ä½“æ˜¯å®¢æˆ·ç«¯å‘é€ç»™ API çš„æ•°æ®ã€‚å“åº”ä½“æ˜¯ API å‘é€ç»™å®¢æˆ·ç«¯çš„æ•°æ®ã€‚</p>
<p>FastAPI åŸºäº <code>Pydantic</code> ï¼Œ<code>Pydantic</code> ä¸»è¦ç”¨æ¥åšç±»å‹å¼ºåˆ¶æ£€æŸ¥ï¼ˆæ ¡éªŒæ•°æ®ï¼‰ã€‚ä¸ç¬¦åˆç±»å‹è¦æ±‚å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>å¯¹äº API æœåŠ¡ï¼Œæ”¯æŒç±»å‹æ£€æŸ¥éå¸¸æœ‰ç”¨ï¼Œä¼šè®©æœåŠ¡æ›´åŠ å¥å£®ï¼Œä¹Ÿä¼šåŠ å¿«å¼€å‘é€Ÿåº¦ï¼Œå› ä¸ºå¼€å‘è€…å†ä¹Ÿä¸ç”¨è‡ªå·±å†™ä¸€è¡Œä¸€è¡Œçš„åšç±»å‹æ£€æŸ¥ã€‚</p>
<p>å®‰è£…ä¸Šæ‰‹ <code>pip install pydantic</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> APIRouter</span><br><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel,Field,field_validator</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> date</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Union</span>,<span class="type">Optional</span></span><br><span class="line"></span><br><span class="line">app03 = APIRouter()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Address</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    province: <span class="built_in">str</span></span><br><span class="line">    city: <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    <span class="comment">#æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="comment">#username:str=Field(pattern=&quot;^[a-zA-Z0-9]&#123;3,10&#125;$&quot;,title=&quot;ç”¨æˆ·å&quot;,description=&quot;ç”¨æˆ·åé•¿åº¦åœ¨3-10ä¹‹é—´ï¼Œä¸”åªèƒ½åŒ…å«å­—æ¯å’Œæ•°å­—&quot;)</span></span><br><span class="line">    <span class="comment">#name: str|None = None</span></span><br><span class="line">    name:<span class="built_in">str</span></span><br><span class="line">    age: <span class="built_in">int</span>=Field(default=<span class="number">0</span>,gt=<span class="number">0</span>,lt=<span class="number">100</span>)</span><br><span class="line">    birth:<span class="type">Union</span>[date,<span class="literal">None</span>] = <span class="literal">None</span></span><br><span class="line">    friends:<span class="built_in">list</span>[<span class="built_in">int</span>]=[]</span><br><span class="line">    description:<span class="type">Optional</span>[<span class="built_in">str</span>]=<span class="literal">None</span></span><br><span class="line">    <span class="comment">#åµŒå¥—</span></span><br><span class="line">    addr:Address|<span class="literal">None</span> = <span class="literal">None</span></span><br><span class="line">    </span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    field_validator çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ clsï¼Œå› ä¸ºå®ƒæ˜¯ç±»æ–¹æ³• ï¼ˆclassmethodï¼‰ï¼Œç”¨äºåœ¨éªŒè¯å­—æ®µæ—¶è®¿é—®æ¨¡å‹ç±»çš„ä¸Šä¸‹æ–‡ã€‚</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="meta">    @field_validator(<span class="params"><span class="string">&quot;name&quot;</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name_must_alpha</span>(<span class="params">cls,value</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        value.isalpha() ä¼šæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åªç”±å­—æ¯ç»„æˆï¼Œå¦‚æœæ˜¯åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚</span></span><br><span class="line"><span class="string">        å¦‚æœè¿”å› Falseï¼Œassert è§¦å‘ï¼Œä¼šæŠ›å‡º AssertionErrorï¼Œå¹¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ &quot;name must be alpha&quot;ã€‚</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> value.isalpha(), <span class="string">&quot;name must be alpha&quot;</span></span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line"><span class="comment">#åµŒå¥—</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Data</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    data:<span class="built_in">list</span>[User]</span><br><span class="line"></span><br><span class="line"><span class="meta">@app03.post(<span class="params"><span class="string">&quot;/user&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">user</span>(<span class="params">user:User</span>):</span><br><span class="line">    <span class="built_in">print</span>(user,<span class="built_in">type</span>(user))</span><br><span class="line">    <span class="keyword">return</span> user</span><br><span class="line"></span><br><span class="line"><span class="meta">@app03.post(<span class="params"><span class="string">&quot;/data&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">data</span>(<span class="params">data:Data</span>):</span><br><span class="line">    <span class="built_in">print</span>(data,<span class="built_in">type</span>(data))</span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>BaseModel</code>ä¸“é—¨ç”¨äºæ•°æ®éªŒè¯ã€æ•°æ®è½¬æ¢å’Œåºåˆ—åŒ–ã€‚åœ¨å®šä¹‰æ•°æ®ç»“æ„æ—¶ç»§æ‰¿è‡ª BaseModelï¼Œå¯ä»¥ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨æ ¡éªŒæ•°æ®ç±»å‹</strong>ï¼šæ ¹æ®ç±»ä¸­å­—æ®µçš„ç±»å‹æ³¨è§£ï¼Œè‡ªåŠ¨æ ¡éªŒè¾“å…¥æ•°æ®æ˜¯å¦ç¬¦åˆé¢„æœŸç±»å‹ã€‚</li>
<li><strong>æ•°æ®è½¬æ¢</strong>ï¼šå¯ä»¥è‡ªåŠ¨å°†è¾“å…¥æ•°æ®ï¼ˆä¾‹å¦‚ JSON å­—ç¬¦ä¸²ï¼‰è½¬æ¢æˆç›¸åº”çš„ Python æ•°æ®ç±»å‹ã€‚</li>
<li><strong>åºåˆ—åŒ–è¾“å‡º</strong>ï¼šæ”¯æŒå°†æ¨¡å‹å®ä¾‹è½¬æ¢æˆ JSONã€å­—å…¸ç­‰æ ¼å¼ï¼Œä¾¿äºå“åº”è¾“å‡ºã€‚</li>
</ul>
<p>åœ¨ Pydantic ä¸­ï¼Œ<code>Field</code> ç”¨äºä¸ºæ¨¡å‹å­—æ®µæä¾›é¢å¤–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è®¾ç½®é»˜è®¤å€¼ã€æè¿°ä¿¡æ¯ã€çº¦æŸæ¡ä»¶ï¼ˆä¾‹å¦‚é•¿åº¦ã€èŒƒå›´ç­‰ï¼‰æˆ–åˆ«åã€‚è¿™å¯ä»¥å¸®åŠ©è‡ªåŠ¨ç”Ÿæˆ OpenAPI æ–‡æ¡£ã€å¢å¼ºéªŒè¯æˆ–å¯¹å­—æ®µè¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚</p>
<p><code>field_validator</code> æ˜¯ Pydantic v2 ä¸­ç”¨äºæ›¿ä»£æ—§ç‰ˆ <code>@validator</code> çš„æ–°è£…é¥°å™¨ï¼Œä¸“é—¨ç”¨äºä¸ºæ¨¡å‹å­—æ®µæ·»åŠ è‡ªå®šä¹‰éªŒè¯é€»è¾‘ã€‚å®ƒé€šè¿‡æ›´æ¸…æ™°çš„å‘½åå’Œæ›´çµæ´»çš„æ¨¡å¼ï¼ˆå¦‚ <code>mode=&quot;before&quot;</code> æˆ– <code>mode=&quot;after&quot;</code>ï¼‰æå‡ä»£ç å¯è¯»æ€§å’ŒéªŒè¯é€»è¾‘çš„æ§åˆ¶èƒ½åŠ›</p>
<p><code>field_validator</code>å’Œ<code>model_validator</code>åŒºåˆ«</p>
<p><strong><code>field_validator</code></strong>ä¸“é—¨é’ˆå¯¹<strong>å•ä¸ªå­—æ®µ</strong> è¿›è¡ŒéªŒè¯ï¼Œé€‚ç”¨äºéœ€è¦æ ¡éªŒç‰¹å®šå­—æ®µçš„è§„åˆ™ï¼ˆå¦‚é•¿åº¦ã€æ ¼å¼ã€ç±»å‹çº¦æŸï¼‰ã€‚ä¾‹å¦‚éªŒè¯ç”¨æˆ·åé•¿åº¦</p>
<p><strong><code>model_validator</code></strong>ä½œç”¨äº<strong>æ•´ä¸ªæ¨¡å‹å®ä¾‹</strong> ï¼Œé€‚ç”¨äºéœ€è¦è·¨å­—æ®µéªŒè¯æˆ–å…¨å±€é€»è¾‘çš„åœºæ™¯ã€‚ä¾‹å¦‚æ£€æŸ¥ä¸¤æ¬¡å¯†ç æ˜¯å¦ä¸€è‡´</p>
</blockquote>
<h4 id="4-4-formè¡¨å•æ•°æ®"><a href="#4-4-formè¡¨å•æ•°æ®" class="headerlink" title="4.4 formè¡¨å•æ•°æ®"></a>4.4 formè¡¨å•æ•°æ®</h4><p>åœ¨ <code>OAuth2</code> è§„èŒƒçš„ä¸€ç§ä½¿ç”¨æ–¹å¼ï¼ˆå¯†ç æµï¼‰ä¸­ï¼Œéœ€è¦å°†ç”¨æˆ·åã€å¯†ç ä½œä¸ºè¡¨å•å­—æ®µå‘é€ï¼Œè€Œä¸æ˜¯ JSONã€‚</p>
<p>FastAPI å¯ä»¥ä½¿ç”¨ <strong>Form ç»„ä»¶</strong>æ¥æ¥æ”¶è¡¨å•æ•°æ®ï¼Œéœ€è¦å…ˆä½¿ç”¨ <code>pip install python-multipart</code> å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app04.post(<span class="params"><span class="string">&quot;/register&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">data</span>(<span class="params">username:<span class="built_in">str</span>=Form(<span class="params"></span>),password:<span class="built_in">str</span>=Form(<span class="params"></span>)</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;username: <span class="subst">&#123;username&#125;</span>, password: <span class="subst">&#123;password&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;username&quot;</span>: username,</span><br><span class="line">        <span class="string">&quot;password&quot;</span>: password</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>å‘é€postè¯·æ±‚ï¼šformè¡¨å•æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›®æ ‡ URL</span></span><br><span class="line">url = <span class="string">&quot;http://127.0.0.1:8080/app04/register&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¡¨å•æ•°æ®ï¼ˆé”®å€¼å¯¹ï¼‰</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;test_user&quot;</span>,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>: <span class="string">&quot;secure_password_123&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€ POST è¯·æ±‚</span></span><br><span class="line">response = requests.post(</span><br><span class="line">    url, </span><br><span class="line">    data=data</span><br><span class="line">    )</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>é€šè¿‡ requests.post() çš„ data å‚æ•°ä¼ é€’è¡¨å•æ•°æ®ï¼Œè¯¥å‚æ•°æ¥å—å­—å…¸æˆ–å­—ç¬¦ä¸²æ ¼å¼çš„æ•°æ®ã€‚requests ä¼šè‡ªåŠ¨å°†å…¶ç¼–ç ä¸º application/x-www-form-urlencoded æ ¼å¼</p>
</blockquote>
<h4 id="4-5-æ–‡ä»¶ä¸Šä¼ "><a href="#4-5-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="4.5 æ–‡ä»¶ä¸Šä¼ "></a>4.5 æ–‡ä»¶ä¸Šä¼ </h4><p>å¯¼å…¥å¿…è¦åº“</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> File,UploadFile</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">app05 = APIRouter()</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡å­—èŠ‚ä¸Šä¼ </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app05.post(<span class="params"><span class="string">&quot;/file&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">file</span>(<span class="params">file: <span class="built_in">bytes</span> = File(<span class="params">...</span>)</span>):</span><br><span class="line">    <span class="comment">#é€‚åˆå°æ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;filename&quot;</span>: <span class="string">&quot;file&quot;</span>,</span><br><span class="line">        <span class="string">&quot;size&quot;</span>: <span class="built_in">len</span>(file)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>å¤šæ–‡ä»¶ä¸Šä¼ </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app05.post(<span class="params"><span class="string">&quot;/files&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">files</span>(<span class="params">files: <span class="built_in">list</span>[<span class="built_in">bytes</span>] = File(<span class="params">...</span>)</span>):</span><br><span class="line">    <span class="comment">#å¤šæ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">len</span>(file))</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;filename&quot;</span>: <span class="string">&quot;files&quot;</span>,</span><br><span class="line">        <span class="string">&quot;size&quot;</span>: <span class="built_in">len</span>(files)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>UploadFileä¸Šä¼ ï¼Œç»å¯¹è·¯å¾„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app05.post(<span class="params"><span class="string">&quot;/uploadfile&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">upload_file</span>(<span class="params">file: UploadFile= File(<span class="params">...</span>)</span>):</span><br><span class="line">    <span class="comment">#é€‚åˆå¤§æ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line">    <span class="comment"># è·å–å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    base_dir = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">    <span class="built_in">print</span>(base_dir)</span><br><span class="line">    img_dir = os.path.join(base_dir, <span class="string">&quot;../imgs&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(img_dir)</span><br><span class="line">    <span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line">    path = os.path.join(img_dir, file.filename)</span><br><span class="line">    <span class="comment">#path=os.path.join(&quot;../imgs&quot;,file.filename)</span></span><br><span class="line">    <span class="built_in">print</span>(path)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ–‡ä»¶å:&quot;</span>, file.filename)</span><br><span class="line">        <span class="keyword">for</span> chunk <span class="keyword">in</span> file.file:</span><br><span class="line">            f.write(chunk)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;filename&quot;</span>: file.filename</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>UploadFileæ˜¯ FastAPI æä¾›çš„ä¸€ä¸ªç±»ï¼Œç”¨äºå¤„ç†æ–‡ä»¶ä¸Šä¼ ã€‚ä¸ç›´æ¥å°†æ–‡ä»¶å†…å®¹è¯»å–ä¸ºå­—èŠ‚æµï¼ˆä¾‹å¦‚ bytesç›¸æ¯”ï¼ŒUploadFileæœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼šå®ƒé‡‡ç”¨äº†æ–‡ä»¶å¯¹è±¡çš„æ–¹å¼å¤„ç†ä¸Šä¼ æ–‡ä»¶ï¼Œä¸å¿…å°†æ•´ä¸ªæ–‡ä»¶å†…å®¹ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œé€‚åˆå¤„ç†å¤§æ–‡ä»¶ã€‚</li>
<li><strong>å¼‚æ­¥æ”¯æŒ</strong>ï¼šæ”¯æŒå¼‚æ­¥æ“ä½œï¼Œå¯ä»¥ç”¨å¼‚æ­¥æ–¹å¼è¯»å–æ–‡ä»¶å†…å®¹ï¼Œæé«˜æ€§èƒ½ã€‚</li>
<li><strong>æ–‡ä»¶å…ƒæ•°æ®</strong>ï¼šæä¾›æ–‡ä»¶åã€å†…å®¹ç±»å‹ç­‰å…ƒæ•°æ®ä¿¡æ¯ï¼Œé€šè¿‡å±æ€§ <code>filename</code>ã€<code>content_type</code> è·å–ã€‚</li>
<li><strong>æ–‡ä»¶æ¥å£</strong>ï¼šé€šè¿‡ file å±æ€§è·å–ä¸€ä¸ªç±»æ–‡ä»¶å¯¹è±¡ï¼Œå¯ä»¥åƒæ“ä½œæ™®é€šæ–‡ä»¶ä¸€æ ·è¯»å–æˆ–ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶ã€‚</li>
</ul>
</blockquote>
<h4 id="4-6-Requestå¯¹è±¡"><a href="#4-6-Requestå¯¹è±¡" class="headerlink" title="4.6 Requestå¯¹è±¡"></a>4.6 Requestå¯¹è±¡</h4><p>æœ‰äº›æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›èƒ½ç›´æ¥è®¿é—® Request å¯¹è±¡ã€‚ä¾‹å¦‚æˆ‘ä»¬åœ¨è·¯å¾„æ“ä½œå‡½æ•°ä¸­æƒ³è·å–å®¢æˆ·ç«¯çš„ IP åœ°å€ï¼Œéœ€è¦åœ¨å‡½æ•°ä¸­å£°æ˜ Request ç±»å‹çš„å‚æ•°ï¼ŒFastAPI å°±ä¼šè‡ªåŠ¨ä¼ é€’ Request å¯¹è±¡ç»™è¿™ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–åˆ° Request å¯¹è±¡åŠå…¶å±æ€§ä¿¡æ¯ï¼Œä¾‹å¦‚ headerã€urlã€cookieã€session ç­‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app06.post(<span class="params"><span class="string">&quot;/items&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">items</span>(<span class="params">request: Request</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;url:&quot;</span>, request.url)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å®¢æˆ·ç«¯ip:&quot;</span>, request.client.host)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è¯·æ±‚å¤´:&quot;</span>, request.headers)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å®¢æˆ·ç«¯å®¿ä¸»&quot;</span>,request.headers.get(<span class="string">&quot;user-agent&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;cookie:&quot;</span>, request.cookies)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: request.url,</span><br><span class="line">        <span class="string">&quot;client_ip&quot;</span>: request.client.host,</span><br><span class="line">        <span class="string">&quot;headers&quot;</span>: request.headers,</span><br><span class="line">        <span class="string">&quot;user_agent&quot;</span>: request.headers.get(<span class="string">&quot;user-agent&quot;</span>),</span><br><span class="line">        <span class="string">&quot;cookies&quot;</span>: request.cookies</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-7è¯·æ±‚é™æ€æ–‡ä»¶"><a href="#4-7è¯·æ±‚é™æ€æ–‡ä»¶" class="headerlink" title="4.7è¯·æ±‚é™æ€æ–‡ä»¶"></a>4.7è¯·æ±‚é™æ€æ–‡ä»¶</h4><p>åœ¨ Web å¼€å‘ä¸­ï¼Œéœ€è¦è¯·æ±‚å¾ˆå¤šé™æ€èµ„æºæ–‡ä»¶ï¼ˆä¸æ˜¯ç”±æœåŠ¡å™¨ç”Ÿæˆçš„æ–‡ä»¶ï¼‰ï¼Œå¦‚ css/js å’Œå›¾ç‰‡æ–‡ä»¶ç­‰ã€‚</p>
<p>main.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi.staticfiles <span class="keyword">import</span> StaticFiles</span><br><span class="line">app.mount(<span class="string">&quot;/static&quot;</span>, StaticFiles(directory=<span class="string">&quot;statics&quot;</span>))<span class="comment">#é™æ€æ–‡ä»¶ç›®å½•</span></span><br></pre></td></tr></table></figure>
<p><img src="./../../../../images/fastapi/image-20250517143857442.png" alt="image-20250517143857442"></p>
<p><img src="./../../../../images/fastapi/image-20250517143914772.png" alt="image-20250517143914772"></p>
<blockquote>
<p><strong>é™æ€ç½‘ç«™</strong></p>
<p>å®Œå…¨ç”±é™æ€æ–‡ä»¶ï¼ˆHTMLã€CSSã€JavaScriptï¼‰ç»„æˆï¼Œå†…å®¹å›ºå®šä¸å˜ï¼Œæ‰€æœ‰é¡µé¢åœ¨å¼€å‘æ—¶å·²é¢„ç”Ÿæˆï¼Œæ— éœ€åŠ¨æ€è®¡ç®—æˆ–æ•°æ®åº“æ”¯æŒ</p>
<p><strong>åŠ¨æ€ç½‘ç«™</strong></p>
<p>å†…å®¹æ ¹æ®ç”¨æˆ·è¯·æ±‚å®æ—¶ç”Ÿæˆï¼Œé€šå¸¸ä¾èµ–æ•°æ®åº“å’ŒæœåŠ¡å™¨ç«¯ç¼–ç¨‹ï¼ˆå¦‚PHPã€Pythonã€Node.jsï¼‰ï¼Œèƒ½æä¾›ä¸ªæ€§åŒ–å’Œäº¤äº’åŠŸèƒ½</p>
<p><code>StaticFiles</code>æ˜¯ FastAPIï¼ˆå®é™…æ¥è‡ª Starletteï¼‰æä¾›çš„ä¸€ä¸ªç±»ï¼Œç”¨äºæŒ‚è½½å’ŒæœåŠ¡é™æ€æ–‡ä»¶ç›®å½•ã€‚<br>å®ƒçš„ä½œç”¨æ˜¯è®©ä½ å¯ä»¥é€šè¿‡ HTTP è·¯å¾„ç›´æ¥è®¿é—®æœåŠ¡å™¨ä¸Šçš„é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€CSSã€JS æ–‡ä»¶ç­‰ï¼‰ã€‚</p>
<p><code>mount()</code>æ–¹æ³•ç”¨äºå°†ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨æˆ–é™æ€æ–‡ä»¶ç›®å½•æŒ‚è½½åˆ°ä¸» FastAPI åº”ç”¨çš„æŸä¸ªè·¯å¾„ä¸‹ã€‚è¿™æ ·ï¼Œè®¿é—®æŒ‡å®šè·¯å¾„æ—¶ï¼Œè¯·æ±‚ä¼šè¢«è½¬å‘åˆ°æŒ‚è½½çš„åº”ç”¨æˆ–ç›®å½•ã€‚</p>
</blockquote>
<h4 id="4-8-å“åº”æ¨¡å‹ç›¸å…³å‚æ•°"><a href="#4-8-å“åº”æ¨¡å‹ç›¸å…³å‚æ•°" class="headerlink" title="4.8 å“åº”æ¨¡å‹ç›¸å…³å‚æ•°"></a>4.8 å“åº”æ¨¡å‹ç›¸å…³å‚æ•°</h4><h5 id="response-model"><a href="#response-model" class="headerlink" title="response_model"></a>response_model</h5><p><code>response_model</code>æ˜¯ FastAPI è·¯ç”±è£…é¥°å™¨ï¼ˆå¦‚ <code>@app.post</code>ã€<code>@app.get</code> ç­‰ï¼‰ä¸­çš„ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šæ¥å£å“åº”çš„æ•°æ®æ¨¡å‹ã€‚å®ƒçš„ä½œç”¨æ˜¯ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨æ ¡éªŒå’Œåºåˆ—åŒ–</strong>ï¼šFastAPI ä¼šæ ¹æ®ä½ æŒ‡å®šçš„ Pydantic æ¨¡å‹è‡ªåŠ¨æ ¡éªŒã€è¿‡æ»¤å’Œæ ¼å¼åŒ–è¿”å›çš„æ•°æ®ã€‚</li>
<li><strong>è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£</strong>ï¼šæ¥å£æ–‡æ¡£ä¼šè‡ªåŠ¨æ˜¾ç¤ºå“åº”çš„æ•°æ®ç»“æ„ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserIn</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    username: <span class="built_in">str</span></span><br><span class="line">    password: <span class="built_in">str</span></span><br><span class="line">    email: EmailStr</span><br><span class="line">    full_name: <span class="built_in">str</span>|<span class="literal">None</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserOut</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    username: <span class="built_in">str</span></span><br><span class="line">    email: EmailStr</span><br><span class="line">    full_name: <span class="built_in">str</span>|<span class="literal">None</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app07.post(<span class="params"><span class="string">&quot;/user02&quot;</span>,response_model=UserOut</span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">create_user</span>(<span class="params">user: UserIn</span>):</span><br><span class="line">    <span class="comment"># è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€äº›å¤„ç†ï¼Œæ¯”å¦‚å°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“ä¸­</span></span><br><span class="line">    <span class="keyword">return</span> user</span><br></pre></td></tr></table></figure>
<p>æ¡ˆä¾‹ï¼š</p>
<ul>
<li>æ³¨å†ŒåŠŸèƒ½</li>
<li>è¾“å…¥è´¦å·ã€å¯†ç ã€æ˜µç§°ã€é‚®ç®±ï¼Œæ³¨å†ŒæˆåŠŸåè¿”å›ä¸ªäººä¿¡æ¯</li>
</ul>
<h5 id="response-model-exclude-unset-True"><a href="#response-model-exclude-unset-True" class="headerlink" title="response_model_exclude_unset=True"></a>response_model_exclude_unset=True</h5><p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•ç”¨ response_model æ§åˆ¶å“åº”ä½“ç»“æ„ï¼Œä½†æ˜¯ï¼Œå¦‚æœå®ƒä»¬å®é™…ä¸Šæ²¡æœ‰å­˜å‚¨ï¼Œåˆ™å¯èƒ½è¦ä»ç»“æœä¸­å¿½ç•¥å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ model åœ¨ NoSQL æ•°æ®åº“ä¸­å…·æœ‰å¾ˆå¤šå¯é€‰å±æ€§ï¼Œä½†æ˜¯ä¸æƒ³å‘é€å¾ˆé•¿çš„ JSON å“åº”ï¼Œå…¶ä¸­åŒ…å«é»˜è®¤å€¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Item</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    name:<span class="built_in">str</span></span><br><span class="line">    description: <span class="built_in">str</span>|<span class="literal">None</span> = <span class="literal">None</span></span><br><span class="line">    price: <span class="built_in">float</span></span><br><span class="line">    tax:<span class="built_in">float</span>=<span class="number">10.5</span></span><br><span class="line">    tags: <span class="built_in">list</span>[<span class="built_in">str</span>]|<span class="literal">None</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¨¡æ‹Ÿæ•°æ®åº“</span></span><br><span class="line">items=&#123;</span><br><span class="line">    <span class="string">&quot;item01&quot;</span>:Item(name=<span class="string">&quot;item01&quot;</span>,price=<span class="number">10.5</span>),</span><br><span class="line">    <span class="string">&quot;item02&quot;</span>:Item(name=<span class="string">&quot;item02&quot;</span>,description=<span class="string">&quot;item02&quot;</span>,price=<span class="number">20.5</span>,tax=<span class="number">20.5</span>,tags=[<span class="string">&quot;tag1&quot;</span>,<span class="string">&quot;tag2&quot;</span>]),</span><br><span class="line">    <span class="string">&quot;item03&quot;</span>:Item(name=<span class="string">&quot;item03&quot;</span>,description=<span class="string">&quot;item03&quot;</span>,price=<span class="number">30.5</span>,tax=<span class="number">30.5</span>,tags=[<span class="string">&quot;tag1&quot;</span>,<span class="string">&quot;tag2&quot;</span>]),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app07.get(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span>,response_model=Item,response_model_exclude_unset=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">read_item</span>(<span class="params">item_id: <span class="built_in">str</span></span>):</span><br><span class="line">    <span class="keyword">return</span> items[item_id]</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®åè¿”å›ä¸ºï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">item01</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;item01&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="number">10.5</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å½“ä½ è®¾ç½® <code>response_model_exclude_unset=True</code> æ—¶ï¼Œè¿”å›çš„å“åº”æ•°æ®åªåŒ…å«<strong>è¢«æ˜¾å¼è®¾ç½®è¿‡çš„å­—æ®µ</strong>ï¼Œæ²¡æœ‰è¢«èµ‹å€¼çš„ï¼ˆå³ä½¿ç”¨é»˜è®¤å€¼ä¸”æœªä¼ é€’çš„ï¼‰å­—æ®µä¸ä¼šå‡ºç°åœ¨å“åº”ä¸­ã€‚</p>
</blockquote>
<h5 id="å…¶ä»–å‚æ•°"><a href="#å…¶ä»–å‚æ•°" class="headerlink" title="å…¶ä»–å‚æ•°"></a>å…¶ä»–å‚æ•°</h5><p><strong>response_model_exclude_defaults </strong>ä½œç”¨ï¼šæ’é™¤æ‰€æœ‰å€¼ä¸ºé»˜è®¤å€¼çš„å­—æ®µã€‚</p>
<p><strong>response_model_exclude_none</strong> ä½œç”¨ï¼šæ’é™¤æ‰€æœ‰å€¼ä¸º <code>None</code> çš„å­—æ®µã€‚</p>
<p><strong>response_model_include</strong> ä½œç”¨ï¼šåªè¿”å›æŒ‡å®šå­—æ®µ</p>
<p><strong>response_model_exclude</strong> ä½œç”¨ï¼šæ’é™¤æŒ‡å®šå­—æ®µï¼Œä¸åœ¨å“åº”ä¸­è¿”å›ã€‚</p>
<h3 id="jinja2æ¨¡æ¿"><a href="#jinja2æ¨¡æ¿" class="headerlink" title="jinja2æ¨¡æ¿"></a>jinja2æ¨¡æ¿</h3><p>è¦äº†è§£ jinja2ï¼Œé‚£ä¹ˆéœ€è¦å…ˆç†è§£æ¨¡æ¿çš„æ¦‚å¿µã€‚æ¨¡æ¿åœ¨ Python çš„ web å¼€å‘ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œå®ƒèƒ½å¤Ÿæœ‰æ•ˆçš„å°†ä¸šåŠ¡é€»è¾‘å’Œé¡µé¢é€»è¾‘åˆ†å¼€ï¼Œä½¿ä»£ç å¯è¯»æ€§å¢å¼ºã€å¹¶ä¸”æ›´åŠ å®¹æ˜“ç†è§£å’Œç»´æŠ¤ã€‚</p>
<p>æ¨¡æ¿ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªå…¶ä¸­åŒ…æ¶µå ä½å˜é‡è¡¨ç¤ºåŠ¨æ€çš„éƒ¨åˆ†çš„æ–‡ä»¶ï¼Œæ¨¡æ¿æ–‡ä»¶åœ¨ç»è¿‡åŠ¨æ€èµ‹å€¼åï¼Œè¿”å›ç»™ç”¨æˆ·ã€‚</p>
<p>jinja2 æ˜¯ Flask ä½œè€…å¼€å‘çš„ä¸€ä¸ªæ¨¡æ¿ç³»ç»Ÿï¼Œèµ·åˆæ˜¯ä»¿ django æ¨¡æ¿çš„ä¸€ä¸ªæ¨¡æ¿å¼•æ“ï¼Œä¸º Flask æä¾›æ¨¡æ¿æ”¯æŒï¼Œç”±äºå…¶çµæ´»ï¼Œå¿«é€Ÿå’Œå®‰å…¨ç­‰ä¼˜ç‚¹è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<p>åœ¨ jinja2 ä¸­ï¼Œå­˜åœ¨ä¸‰ç§è¯­æ³•ï¼š</p>
<blockquote>
<ol>
<li>å˜é‡å–å€¼ <code>&#123;&#123; &#125;&#125;</code></li>
<li>æ§åˆ¶ç»“æ„ <code>&#123;% %&#125;</code></li>
</ol>
<p>åº”ç”¨äºå‰åç«¯ä¸åˆ†ç¦»ï¼Œæ¨¡æ¿html+æ•°æ®åº“ï¼Œè¿”å›åŠ¨æ€ç½‘ç«™</p>
</blockquote>
<h4 id="5-1-å˜é‡"><a href="#5-1-å˜é‡" class="headerlink" title="5.1 å˜é‡"></a>5.1 å˜é‡</h4><p>main.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi.templating <span class="keyword">import</span> Jinja2Templates</span><br><span class="line"></span><br><span class="line">templates=Jinja2Templates(directory=<span class="string">&quot;templates&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/index&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request: Request</span>):</span><br><span class="line">    <span class="comment">#æ•°æ®åº“</span></span><br><span class="line">    name=<span class="string">&quot;World&quot;</span></span><br><span class="line">    books=[<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;Java&quot;</span>, <span class="string">&quot;C++&quot;</span>]</span><br><span class="line">    user=&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;age&quot;</span>:<span class="number">18</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> templates.TemplateResponse(</span><br><span class="line">        <span class="string">&quot;index.html&quot;</span>,<span class="comment">#æ¨¡æ¿æ–‡ä»¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;request&quot;</span>: request,<span class="comment"># FastAPIéœ€è¦ä¸€ä¸ªrequestå¯¹è±¡</span></span><br><span class="line">            <span class="string">&quot;name&quot;</span>: name,</span><br><span class="line">            <span class="string">&quot;books&quot;</span>: books,</span><br><span class="line">            <span class="string">&quot;user&quot;</span>: user</span><br><span class="line">        &#125;<span class="comment">#contextä¸Šä¸‹æ–‡å¯¹è±¡</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<p>index.html</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Hello, &#123;&#123; name &#125;&#125;!&lt;/h1&gt;</span><br><span class="line">    &lt;p&gt;Your favorite books are:&lt;/p&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &#123;% <span class="keyword">for</span> book <span class="keyword">in</span> books %&#125;</span><br><span class="line">        &lt;li&gt;&#123;&#123; book &#125;&#125;&lt;/li&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;p&gt;å§“åï¼š&#123;&#123; user.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;å¹´é¾„ï¼š&#123;&#123; user.age &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/image-20250517200643492.png" alt="image-20250517200643492"></p>
<h4 id="5-2-è¿‡æ»¤å™¨"><a href="#5-2-è¿‡æ»¤å™¨" class="headerlink" title="5.2 è¿‡æ»¤å™¨"></a>5.2 è¿‡æ»¤å™¨</h4><p>å˜é‡å¯ä»¥é€šè¿‡â€œè¿‡æ»¤å™¨â€è¿›è¡Œä¿®æ”¹ï¼Œè¿‡æ»¤å™¨å¯ä»¥ç†è§£ä¸ºæ˜¯ jinja2 é‡Œé¢çš„å†…ç½®å‡½æ•°å’Œå­—ç¬¦ä¸²å¤„ç†å‡½æ•°ã€‚å¸¸ç”¨çš„è¿‡æ»¤å™¨æœ‰ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>è¿‡æ»¤å™¨åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>capitalize</td>
<td>æŠŠå€¼çš„é¦–å­—æ¯è½¬æ¢æˆå¤§å†™ï¼Œå…¶ä»–å­—æ¯è½¬æ¢ä¸ºå°å†™</td>
</tr>
<tr>
<td>lower</td>
<td>æŠŠå€¼è½¬æ¢æˆå°å†™å½¢å¼</td>
</tr>
<tr>
<td>title</td>
<td>æŠŠå€¼ä¸­æ¯ä¸ªå•è¯çš„é¦–å­—æ¯éƒ½è½¬æ¢æˆå¤§å†™</td>
</tr>
<tr>
<td>trim</td>
<td>æŠŠå€¼çš„é¦–å°¾ç©ºæ ¼å»æ‰</td>
</tr>
<tr>
<td>striptags</td>
<td>æ¸²æŸ“ä¹‹å‰æŠŠå€¼ä¸­æ‰€æœ‰çš„ HTML æ ‡ç­¾éƒ½åˆ æ‰</td>
</tr>
<tr>
<td>join</td>
<td>æ‹¼æ¥å¤šä¸ªå€¼ä¸ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>round</td>
<td>é»˜è®¤å¯¹æ•°å­—è¿›è¡Œå››èˆäº”å…¥ï¼Œä¹Ÿå¯ä»¥ç”¨å‚æ•°è¿›è¡Œæ§åˆ¶</td>
</tr>
<tr>
<td>safe</td>
<td>æ¸²æŸ“æ—¶å€¼ä¸è½¬ä¹‰</td>
</tr>
</tbody>
</table>
</div>
<p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨è¿™äº›è¿‡æ»¤å™¨å‘¢ï¼Ÿåªéœ€è¦åœ¨å˜é‡åé¢ä½¿ç”¨ç®¡é“ (|) åˆ†å‰²ï¼Œå¤šä¸ªè¿‡æ»¤å™¨å¯ä»¥é“¾å¼è°ƒç”¨ï¼Œå‰ä¸€ä¸ªè¿‡æ»¤å™¨çš„è¾“å‡ºä¼šä½œä¸ºåä¸€ä¸ªè¿‡æ»¤å™¨çš„è¾“å…¥ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>&lt;h1&gt;Hello, &#123;&#123; name|upper &#125;&#125;!&lt;/h1&gt;</code>   <code>&lt;li&gt;&#123;&#123; book|title &#125;&#125;&lt;/li&gt;</code></p>
<h4 id="5-3-æ§åˆ¶ç»“æ„"><a href="#5-3-æ§åˆ¶ç»“æ„" class="headerlink" title="5.3 æ§åˆ¶ç»“æ„"></a>5.3 æ§åˆ¶ç»“æ„</h4><p>jinja2ä¸­çš„ifè¯­å¥ç±»ä¼¼ä¸Pythonçš„ifè¯­å¥ï¼Œå®ƒä¹Ÿå…·æœ‰å•åˆ†æ”¯ï¼Œå¤šåˆ†æ”¯ç­‰å¤šç§ç»“æ„ï¼Œä¸åŒçš„æ˜¯ï¼Œæ¡ä»¶è¯­å¥ä¸éœ€è¦ä½¿ç”¨å†’å·ç»“å°¾ï¼Œè€Œç»“æŸæ§åˆ¶è¯­å¥ï¼Œéœ€è¦ä½¿ç”¨endifå…³é”®å­—</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;å½±è§†åŒº&lt;/p&gt;</span><br><span class="line"><span class="punctuation">&#123;</span>% if age &gt;= <span class="number">18</span> %<span class="punctuation">&#125;</span></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;æˆäººå½±ç‰‡&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;æˆäººæ¸¸æˆ&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"><span class="punctuation">&#123;</span>% else %<span class="punctuation">&#125;</span></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;å„¿ç«¥å½±ç‰‡&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;å„¿ç«¥æ¸¸æˆ&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"><span class="punctuation">&#123;</span>% endif %<span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>jinja2ä¸­çš„forå¾ªç¯ç”¨äºè¿­ä»£Pythonçš„æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€å…ƒç»„å’Œå­—å…¸ã€‚åœ¨jinja2ä¸­ä¸å­˜åœ¨whileå¾ªç¯ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span>% for book in books %<span class="punctuation">&#125;</span></span><br><span class="line">&lt;li&gt;<span class="punctuation">&#123;</span><span class="punctuation">&#123;</span> book|title <span class="punctuation">&#125;</span><span class="punctuation">&#125;</span>&lt;/li&gt;</span><br><span class="line"><span class="punctuation">&#123;</span>% endfor %<span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="ORMæ“ä½œ"><a href="#ORMæ“ä½œ" class="headerlink" title="ORMæ“ä½œ"></a>ORMæ“ä½œ</h3><p>åœ¨å¤§å‹çš„ Web å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è‚¯å®šä¼šç”¨åˆ°æ•°æ®åº“æ“ä½œï¼Œé‚£ä¹ˆ FastAPI ä¹Ÿæ”¯æŒæ•°æ®åº“çš„å¼€å‘ï¼Œä½ å¯ä»¥ç”¨ PostgreSQLã€MySQLã€SQLiteã€Oracle ç­‰ã€‚æœ¬æ–‡ç”¨ SQLite ä¸ºä¾‹ã€‚æˆ‘ä»¬çœ‹ä¸‹åœ¨ FastAPI æ˜¯å¦‚ä½•æ“ä½œè®¾è®¡æ•°æ®åº“çš„ã€‚</p>
<p>FastAPI æ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„æ¡†æ¶ï¼Œä½†æ˜¯ç¼ºå°‘ä¸€ä¸ªåˆé€‚çš„ ORMï¼Œå®˜æ–¹ä»£ç é‡Œé¢ä½¿ç”¨çš„æ˜¯ SQLAlchemyï¼ŒTortoise ORM æ˜¯å— Django å¯å‘çš„æ˜“äºä½¿ç”¨çš„å¼‚æ­¥ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„å™¨ï¼‰ã€‚</p>
<p>Tortoise ORM ç›®å‰æ”¯æŒä»¥ä¸‹æ•°æ®åº“ï¼š</p>
<ul>
<li>PostgreSQL &gt;= 9.4ï¼ˆä½¿ç”¨ asyncpgï¼‰</li>
<li>SQLiteï¼ˆä½¿ç”¨ aiosqliteï¼‰</li>
<li>MySQL/MariaDBï¼ˆä½¿ç”¨ aiomysql æˆ–ä½¿ç”¨ asyncmyï¼‰</li>
</ul>
<p>å®‰è£…ï¼š<code>pip install tortoise-orm</code></p>
<h4 id="6-1-åˆ›å»ºæ¨¡å‹"><a href="#6-1-åˆ›å»ºæ¨¡å‹" class="headerlink" title="6.1 åˆ›å»ºæ¨¡å‹"></a>6.1 åˆ›å»ºæ¨¡å‹</h4><p><strong>1. ä¸€å¯¹ä¸€å…³ç³»ï¼ˆOne-to-Oneï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong> ï¼šä¸€å¼ è¡¨ä¸­çš„ä¸€æ¡è®°å½•ä»…å…³è”å¦ä¸€å¼ è¡¨ä¸­çš„ä¸€æ¡è®°å½•ã€‚</li>
<li><strong>ç¤ºä¾‹</strong> ï¼šç”¨æˆ·è¡¨ï¼ˆUserï¼‰ä¸èº«ä»½è¯ä¿¡æ¯è¡¨ï¼ˆIDCardï¼‰ï¼Œä¸€ä¸ªç”¨æˆ·ä»…å¯¹åº”ä¸€å¼ èº«ä»½è¯ä¿¡æ¯ã€‚</li>
</ul>
<p><strong>2. ä¸€å¯¹å¤šå…³ç³»ï¼ˆOne-to-Manyï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong> ï¼šä¸€å¼ è¡¨ä¸­çš„ä¸€æ¡è®°å½•å…³è”å¦ä¸€å¼ è¡¨ä¸­çš„å¤šæ¡è®°å½•ã€‚</li>
<li><strong>ç¤ºä¾‹</strong> ï¼šç­çº§è¡¨ï¼ˆClassï¼‰ä¸å­¦ç”Ÿè¡¨ï¼ˆStudentï¼‰ï¼Œä¸€ä¸ªç­çº§åŒ…å«å¤šä¸ªå­¦ç”Ÿï¼Œä½†æ¯ä¸ªå­¦ç”Ÿåªèƒ½å±äºä¸€ä¸ªç­çº§ã€‚</li>
</ul>
<p><strong>3. å¤šå¯¹å¤šå…³ç³»ï¼ˆMany-to-Manyï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong> ï¼šä¸¤å¼ è¡¨ä¸­çš„è®°å½•å¯ä»¥äº’ç›¸å…³è”å¤šæ¡è®°å½•ï¼Œé€šå¸¸é€šè¿‡ä¸­é—´è¡¨å®ç°ã€‚</li>
<li><strong>ç¤ºä¾‹</strong> ï¼šå­¦ç”Ÿè¡¨ï¼ˆStudentï¼‰ä¸è¯¾ç¨‹è¡¨ï¼ˆCourseï¼‰ï¼Œä¸€ä¸ªå­¦ç”Ÿå¯é€‰ä¿®å¤šé—¨è¯¾ç¨‹ï¼Œä¸€é—¨è¯¾ç¨‹ä¹Ÿå¯è¢«å¤šä¸ªå­¦ç”Ÿé€‰ä¿®ã€‚</li>
</ul>
<p><strong>4. è‡ªå¼•ç”¨å…³ç³»ï¼ˆSelf-Referencingï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong> ï¼šè¡¨å†…çš„è®°å½•é€šè¿‡å­—æ®µå…³è”è‡ªèº«ï¼Œå½¢æˆå±‚çº§æˆ–æ ‘çŠ¶ç»“æ„ã€‚</li>
<li><strong>ç¤ºä¾‹</strong> ï¼šå‘˜å·¥è¡¨ï¼ˆEmployeeï¼‰ï¼Œæ¯ä¸ªå‘˜å·¥å¯èƒ½æœ‰ç›´å±ä¸Šçº§ï¼ˆå¦ä¸€ä¸ªå‘˜å·¥ï¼‰ã€‚</li>
</ul>
<p><strong>5. ç»§æ‰¿å…³ç³»ï¼ˆInheritanceï¼‰</strong></p>
<ul>
<li><strong>å®šä¹‰</strong> ï¼šåŸºäºé¢å‘å¯¹è±¡çš„ç»§æ‰¿æ¦‚å¿µï¼Œå­è¡¨ç»§æ‰¿çˆ¶è¡¨çš„å­—æ®µå’Œçº¦æŸã€‚</li>
<li><strong>ç¤ºä¾‹</strong> ï¼šç”¨æˆ·è¡¨ï¼ˆUserï¼‰ä½œä¸ºåŸºè¡¨ï¼Œç®¡ç†å‘˜è¡¨ï¼ˆAdminï¼‰å’Œæ™®é€šç”¨æˆ·è¡¨ï¼ˆRegularUserï¼‰ç»§æ‰¿å…¶å­—æ®µï¼ˆå¦‚ç”¨æˆ·åã€å¯†ç ï¼‰ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tortoise.models <span class="keyword">import</span> Model</span><br><span class="line"><span class="keyword">from</span> tortoise <span class="keyword">import</span> fields</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Model æ˜¯æ‰€æœ‰æ•°æ®æ¨¡å‹çš„åŸºç±»ï¼Œé€šè¿‡ç»§æ‰¿ Model å¯å®šä¹‰æ•°æ®åº“è¡¨çš„ç»“æ„ã€‚æ¯ä¸ª Model å­ç±»å¯¹åº”ä¸€å¼ æ•°æ®åº“è¡¨ï¼Œå…¶ç±»å±æ€§å®šä¹‰äº†è¡¨çš„å­—æ®µï¼ˆåˆ—ï¼‰åŠå…¶çº¦æŸã€‚</span></span><br><span class="line"><span class="string">fields æä¾›äº†å¤šç§å­—æ®µç±»å‹ï¼Œç”¨äºå®šä¹‰æ•°æ®åº“è¡¨çš„åˆ—åŠå…¶çº¦æŸã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">Model</span>):</span><br><span class="line">    <span class="built_in">id</span> = fields.IntField(pk=<span class="literal">True</span>)<span class="comment">#è¯¥å­—æ®µä¼šè¢«æŒ‡å®šä¸ºæ¨¡å‹çš„ä¸»é”®</span></span><br><span class="line">    name = fields.CharField(max_length=<span class="number">50</span>,description=<span class="string">&quot;å§“å&quot;</span>)</span><br><span class="line">    pwd = fields.CharField(max_length=<span class="number">50</span>,description=<span class="string">&quot;å¯†ç &quot;</span>)</span><br><span class="line">    sno = fields.IntField(description=<span class="string">&quot;å­¦å·&quot;</span>)</span><br><span class="line">    <span class="comment">#ä¸€å¯¹å¤šå…³ç³»</span></span><br><span class="line">    Class_id = fields.ForeignKeyField(</span><br><span class="line">        <span class="string">&quot;models.Class&quot;</span>,<span class="comment">#å…³è”çš„æ¨¡å‹ç±»</span></span><br><span class="line">        related_name=<span class="string">&quot;students&quot;</span>,<span class="comment">#åå‘æŸ¥è¯¢æ—¶çš„åç§°</span></span><br><span class="line">        on_delete=fields.CASCADE,<span class="comment">#çº§è”åˆ é™¤</span></span><br><span class="line">        description=<span class="string">&quot;ç­çº§&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="comment">#å¤šå¯¹å¤šå…³ç³»</span></span><br><span class="line">    Course_id = fields.ManyToManyField(</span><br><span class="line">        <span class="string">&quot;models.Course&quot;</span>,<span class="comment">#å…³è”çš„æ¨¡å‹ç±»</span></span><br><span class="line">        related_name=<span class="string">&quot;students&quot;</span>,<span class="comment">#åå‘æŸ¥è¯¢æ—¶çš„åç§°</span></span><br><span class="line">        description=<span class="string">&quot;è¯¾ç¨‹&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Course</span>(<span class="title class_ inherited__">Model</span>):</span><br><span class="line">    <span class="built_in">id</span> = fields.IntField(pk=<span class="literal">True</span>)</span><br><span class="line">    name = fields.CharField(max_length=<span class="number">50</span>,description=<span class="string">&quot;è¯¾ç¨‹åç§°&quot;</span>)</span><br><span class="line">    teacher = fields.CharField(max_length=<span class="number">50</span>,description=<span class="string">&quot;æˆè¯¾è€å¸ˆ&quot;</span>)</span><br><span class="line">    <span class="comment">#ä¸€å¯¹å¤šå…³ç³»</span></span><br><span class="line">    teacher_id = fields.ForeignKeyField(</span><br><span class="line">        <span class="string">&quot;models.Teacher&quot;</span>,<span class="comment">#å…³è”çš„æ¨¡å‹ç±»</span></span><br><span class="line">        related_name=<span class="string">&quot;courses&quot;</span>,<span class="comment">#åå‘æŸ¥è¯¢æ—¶çš„åç§°</span></span><br><span class="line">        on_delete=fields.CASCADE,<span class="comment">#çº§è”åˆ é™¤</span></span><br><span class="line">        description=<span class="string">&quot;è€å¸ˆ&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Class</span>(<span class="title class_ inherited__">Model</span>):</span><br><span class="line">    <span class="built_in">id</span> = fields.IntField(pk=<span class="literal">True</span>)</span><br><span class="line">    name= fields.CharField(max_length=<span class="number">50</span>,description=<span class="string">&quot;ç­çº§åç§°&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>(<span class="title class_ inherited__">Model</span>):</span><br><span class="line">    <span class="built_in">id</span> =fields.IntField(pk=<span class="literal">True</span>)</span><br><span class="line">    name = fields.CharField(max_length=<span class="number">50</span>,description=<span class="string">&quot;è€å¸ˆå§“å&quot;</span>)</span><br><span class="line">    pwd = fields.CharField(max_length=<span class="number">50</span>,description=<span class="string">&quot;å¯†ç &quot;</span>)</span><br><span class="line">    sno = fields.IntField(description=<span class="string">&quot;å·¥å·&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ORMï¼ˆObject Relational Mappingï¼Œå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œä¸»è¦ç”¨äºå®ç°<strong>é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€</strong> ä¸<strong>å…³ç³»å‹æ•°æ®åº“</strong> ä¹‹é—´çš„æ•°æ®è½¬æ¢ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å¯¹è±¡æ¨¡å‹ä¸æ•°æ®åº“è¡¨ç»“æ„çš„æ˜ å°„ï¼Œå°†æ•°æ®åº“æ“ä½œè½¬åŒ–ä¸ºé¢å‘å¯¹è±¡çš„æ“ä½œï¼Œä»è€Œç®€åŒ–å¼€å‘æµç¨‹å¹¶æå‡ä»£ç çš„å¯ç»´æŠ¤æ€§</p>
<p>Tortoise ORM æ˜¯ä¸€æ¬¾ä¸“ä¸º Python å¼‚æ­¥ç¯å¢ƒè®¾è®¡çš„è½»é‡çº§å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰æ¡†æ¶ï¼Œå…¶è®¾è®¡çµæ„Ÿæ¥æºäº Django ORMï¼Œä½†ä¸“æ³¨äºå¼‚æ­¥ç¼–ç¨‹åœºæ™¯ï¼Œé€‚ç”¨äº FastAPIã€Sanic ç­‰åŸºäº <code>asyncio</code> çš„ç°ä»£ Web æ¡†æ¶ã€‚</p>
<p>å…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“</p>
<p><strong>å…³ç³»å‹æ•°æ®åº“</strong><br>ä»¥è¡¨æ ¼å½¢å¼å­˜å‚¨æ•°æ®ï¼Œæ•°æ®æŒ‰è¡Œå’Œåˆ—ç»„ç»‡ï¼Œåˆ—ä»£è¡¨å±æ€§ï¼ˆå­—æ®µï¼‰ï¼Œè¡Œä»£è¡¨è®°å½•ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·è¡¨å¯èƒ½åŒ…å« <code>id</code>ã€<code>name</code>ã€<code>email</code> ç­‰åˆ—ï¼Œæ¯è¡Œå¯¹åº”ä¸€ä¸ªç”¨æˆ·è®°å½•ã€‚è¿™ç§ç»“æ„åŒ–è®¾è®¡æ”¯æŒä¸¥æ ¼çš„æ¨¡å¼çº¦æŸï¼ˆSchemaï¼‰17ã€‚</p>
<p><strong>å…¸å‹ä»£è¡¨</strong> ï¼šMySQLã€Oracleã€PostgreSQLã€‚</p>
<p><strong>éå…³ç³»å‹æ•°æ®åº“ï¼ˆNoSQLï¼‰</strong><br>é‡‡ç”¨éç»“æ„åŒ–æˆ–åŠç»“æ„åŒ–å­˜å‚¨ï¼Œå¸¸è§çš„ç±»å‹åŒ…æ‹¬ï¼š</p>
<ul>
<li><p><strong>æ–‡æ¡£å‹</strong> ï¼ˆå¦‚ MongoDBï¼‰ï¼šä»¥ JSON æˆ– BSON æ ¼å¼å­˜å‚¨æ•°æ®ã€‚</p>
</li>
<li><p><strong>é”®å€¼å‹</strong> ï¼ˆå¦‚ Redisï¼‰ï¼šé€šè¿‡é”®ç›´æ¥è®¿é—®å€¼ã€‚</p>
</li>
<li><p><strong>åˆ—å­˜å‚¨</strong> ï¼ˆå¦‚ Cassandraï¼‰ï¼šæŒ‰åˆ—è€Œéè¡Œç»„ç»‡æ•°æ®ã€‚</p>
</li>
<li><p><strong>å›¾æ•°æ®åº“</strong> </p>
<p>ï¼ˆå¦‚ Neo4jï¼‰ï¼šä»¥èŠ‚ç‚¹å’Œè¾¹è¡¨ç¤ºæ•°æ®å…³ç³»</p>
</li>
</ul>
</blockquote>
<h4 id="6-2-aerichè¿ç§»å·¥å…·"><a href="#6-2-aerichè¿ç§»å·¥å…·" class="headerlink" title="6.2 aerichè¿ç§»å·¥å…·"></a>6.2 aerichè¿ç§»å·¥å…·</h4><p><strong>docker å®‰è£… mysql</strong>ï¼š</p>
<p>æ‹‰å– MySQL é•œåƒï¼š<code>docker pull mysql</code></p>
<p>è¿è¡Œ MySQL å®¹å™¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name fastapi -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d mysql</span><br></pre></td></tr></table></figure>
<blockquote>
<p>-pè¡¨ç¤ºç«¯å£æ˜ å°„<br>â€”restart=alwaysè¡¨ç¤ºå®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯<br>â€”nameè¡¨ç¤ºå®¹å™¨å‘½å<br>â€”privileged=trueè¡¨ç¤ºèµ‹äºˆå®¹å™¨æƒé™ä¿®æ”¹å®¿ä¸»æ–‡ä»¶æƒåˆ©<br>-v /home/mysql/log:/var/log/mysqlè¡¨ç¤ºå®¹å™¨æ—¥å¿—æŒ‚è½½åˆ°å®¿ä¸»æœº<br>-v /home/mysql/data:/var/lib/mysqlè¡¨ç¤ºå®¹å™¨å­˜å‚¨æ–‡ä»¶æŒ‚è½½åˆ°å®¿ä¸»æœº<br>-v /home/mysql/conf/my.cnf:/etc/mysql/my.cnfè¡¨ç¤ºå®¹å™¨é…ç½®æ–‡ä»¶æŒ‚è½½åˆ°å®¿ä¸»æœº<br>-e MYSQL_ROOT_PASSWORD=a12bCd3_W45pUq6è¡¨ç¤ºè®¾ç½®mysqlçš„rootç”¨æˆ·å¯†ç ,å»ºè®®ç”¨å¼ºå¯†ç <br>-dè¡¨ç¤ºåå°è¿è¡Œ</p>
</blockquote>
<p>å¯åŠ¨è¿™ä¸ª MySQL å®¹å™¨ï¼š<code>docker start fastapi</code></p>
<p>è¿›å…¥ MySQL å®¹å™¨ï¼š<code>docker exec -it fastapi bash</code></p>
<blockquote>
<p>è¿™æ¡å‘½ä»¤çš„ä½œç”¨æ˜¯ï¼š</p>
<ul>
<li><code>docker exec</code>ï¼šåœ¨å·²è¿è¡Œçš„ Docker å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ã€‚</li>
<li><code>-it</code>ï¼š<code>-i</code> è¡¨ç¤ºäº¤äº’å¼æ“ä½œï¼Œ<code>-t</code> åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆè®©ä½ åƒåœ¨ç»ˆç«¯ä¸€æ ·æ“ä½œï¼‰ã€‚</li>
<li><code>fastapi</code>ï¼šè¿™æ˜¯ä½ è¦è¿›å…¥çš„å®¹å™¨åç§°ï¼ˆä½ çš„ MySQL å®¹å™¨åï¼‰ã€‚</li>
<li><code>bash</code>ï¼šåœ¨å®¹å™¨å†…å¯åŠ¨ bash shellã€‚</li>
</ul>
<p>è¿™æ¡å‘½ä»¤ä¼šè®©ä½ è¿›å…¥åä¸º <code>fastapi</code> çš„å®¹å™¨ï¼Œå¹¶è·å¾—ä¸€ä¸ª bash å‘½ä»¤è¡Œç•Œé¢ï¼Œå°±åƒç™»å½•åˆ°ä¸€å° Linux æœåŠ¡å™¨ä¸€æ ·ï¼Œå¯ä»¥åœ¨é‡Œé¢æ‰§è¡Œå„ç§å‘½ä»¤ï¼ˆæ¯”å¦‚ç™»å½• MySQLã€æŸ¥çœ‹æ—¥å¿—ç­‰ï¼‰ã€‚</p>
</blockquote>
<p>ç™»å½• MySQLï¼š<code>mysql -u root -p</code></p>
<p>ä»ä¸»æœºç›´æ¥è¿æ¥ï¼š<code>mysql -h 127.0.0.1 -P 3306 -u root -p</code></p>
<h5 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">TORTOISE_ORM = &#123;</span><br><span class="line">    &quot;connections&quot;: &#123;</span><br><span class="line">        &quot;default&quot;: &#123;</span><br><span class="line">            &quot;engine&quot;:&#x27;tortoise.backends.mysql&#x27;,#é€‰æ‹©æ•°æ®åº“å¼•æ“ï¼Œmysql</span><br><span class="line">            &quot;credentials&quot;: &#123;</span><br><span class="line">                &quot;host&quot;: &quot;localhost&quot;,#æ•°æ®åº“åœ°å€</span><br><span class="line">                &quot;port&quot;: 3306,#æ•°æ®åº“ç«¯å£</span><br><span class="line">                &quot;user&quot;: &quot;root&quot;,#æ•°æ®åº“ç”¨æˆ·å</span><br><span class="line">                &quot;password&quot;: &quot;root&quot;,#æ•°æ®åº“å¯†ç </span><br><span class="line">                &quot;database&quot;: &quot;fastapi_db&quot;,#æ•°æ®åº“åç§°</span><br><span class="line">                &#x27;charset&#x27;: &quot;utf8mb4&quot;,#æ•°æ®åº“ç¼–ç </span><br><span class="line">                &#x27;echo&#x27;: True,#æ˜¯å¦æ‰“å°sqlè¯­å¥</span><br><span class="line">                &#x27;minsize&#x27;: 1,#è¿æ¥æ± æœ€å°è¿æ¥æ•°</span><br><span class="line">                &#x27;maxsize&#x27;: 5#è¿æ¥æ± æœ€å¤§è¿æ¥æ•°</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;apps&quot;: &#123;</span><br><span class="line">        &quot;models&quot;: &#123;</span><br><span class="line">            #db.modelsæ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„æ¨¡å‹ç±»,modelsåœ¨dbæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">            &quot;models&quot;: [&quot;db.models&quot;,&quot;aerich.models&quot;],</span><br><span class="line">            &quot;default_connection&quot;: &quot;default&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x27;use_tz&#x27;: False,#æ˜¯å¦ä½¿ç”¨æ—¶åŒº</span><br><span class="line">    &#x27;timezone&#x27;: &#x27;Asia/Shanghai&#x27;,#æ—¶åŒº</span><br><span class="line">    &quot;generate_schemas&quot;: True,</span><br><span class="line">    &quot;add_exception_handlers&quot;: True</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="1-åˆå§‹åŒ–é…ç½®ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€æ¬¡"><a href="#1-åˆå§‹åŒ–é…ç½®ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€æ¬¡" class="headerlink" title="1.åˆå§‹åŒ–é…ç½®ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€æ¬¡"></a>1.åˆå§‹åŒ–é…ç½®ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€æ¬¡</h5><p>aerich æ˜¯ä¸€ç§ ORM è¿ç§»å·¥å…·ï¼Œéœ€è¦ç»“åˆ tortoise å¼‚æ­¥ orm æ¡†æ¶ä½¿ç”¨ã€‚å®‰è£… aerich</p>
<p><code>pip install aerich</code></p>
<p><code>aerich init -t settings.TORTOISE_ORM  # TORTOISE_ORM é…ç½®çš„ä½ç½®</code></p>
<blockquote>
<p>åˆå§‹åŒ–å®Œä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼špyproject.toml å’Œä¸€ä¸ªæ–‡ä»¶å¤¹ï¼šmigrations</p>
<ul>
<li>pyproject.tomlï¼šä¿å­˜é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œä½ç‰ˆæœ¬å¯èƒ½æ˜¯ aerich.ini</li>
<li>migrationsï¼šå­˜æ”¾è¿ç§»æ–‡ä»¶</li>
</ul>
</blockquote>
<h5 id="2-åˆå§‹åŒ–æ•°æ®åº“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªç”¨ä¸€æ¬¡"><a href="#2-åˆå§‹åŒ–æ•°æ®åº“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªç”¨ä¸€æ¬¡" class="headerlink" title="2.åˆå§‹åŒ–æ•°æ®åº“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªç”¨ä¸€æ¬¡"></a>2.åˆå§‹åŒ–æ•°æ®åº“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªç”¨ä¸€æ¬¡</h5><p><code>aerich init-db</code></p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/image-20250521105044582.png" alt="image-20250521105044582"></p>
<h5 id="3-æ›´æ–°æ¨¡å‹å¹¶è¿›è¡Œè¿ç§»"><a href="#3-æ›´æ–°æ¨¡å‹å¹¶è¿›è¡Œè¿ç§»" class="headerlink" title="3.æ›´æ–°æ¨¡å‹å¹¶è¿›è¡Œè¿ç§»"></a>3.æ›´æ–°æ¨¡å‹å¹¶è¿›è¡Œè¿ç§»</h5><p>ä¿®æ”¹modelç±»ï¼Œé‡æ–°ç”Ÿæˆè¿ç§»æ–‡ä»¶</p>
<p><code>aerich migrate</code></p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/image-20250521111024194.png" alt="image-20250521111024194"></p>
<h5 id="4-é‡æ–°æ‰§è¡Œè¿ç§»ï¼Œå†™å…¥æ•°æ®åº“"><a href="#4-é‡æ–°æ‰§è¡Œè¿ç§»ï¼Œå†™å…¥æ•°æ®åº“" class="headerlink" title="4.é‡æ–°æ‰§è¡Œè¿ç§»ï¼Œå†™å…¥æ•°æ®åº“"></a>4.é‡æ–°æ‰§è¡Œè¿ç§»ï¼Œå†™å…¥æ•°æ®åº“</h5><p><code>aerich upgrade</code></p>
<p><img src="/2025/05/14/%E5%AD%A6%E4%B9%A0/python-web/fastapi/fastapi/image-20250521111131931.png" alt="image-20250521111131931"></p>
<h5 id="5-å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬"><a href="#5-å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬" class="headerlink" title="5.å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬"></a>5.å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</h5><p><code>aerich downgrade</code></p>
<h5 id="6-æŸ¥çœ‹å†å²è¿ç§»è®°å½•"><a href="#6-æŸ¥çœ‹å†å²è¿ç§»è®°å½•" class="headerlink" title="6.æŸ¥çœ‹å†å²è¿ç§»è®°å½•"></a>6.æŸ¥çœ‹å†å²è¿ç§»è®°å½•</h5><p><code>aerich history</code></p>
<blockquote>
<p><code>register_tortoise</code> æ˜¯ Tortoise ORM æä¾›çš„ä¸€ä¸ªå·¥å…·å‡½æ•°ï¼Œç”¨äºåœ¨ <strong>FastAPI</strong> ç­‰å¼‚æ­¥æ¡†æ¶ä¸­å¿«é€Ÿé›†æˆå’Œç®¡ç† Tortoise ORM çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚å¯åŠ¨æ—¶åˆå§‹åŒ–æ•°æ®åº“è¿æ¥ï¼Œå…³é—­æ—¶é‡Šæ”¾èµ„æºï¼‰ã€‚å…¶æ ¸å¿ƒä½œç”¨æ˜¯ç®€åŒ– Tortoise ORM çš„é…ç½®å’Œè‡ªåŠ¨åŒ–ç®¡ç†ï¼Œå¼€å‘è€…åªéœ€ä¸€è¡Œä»£ç å³å¯å®Œæˆå¤æ‚çš„åˆå§‹åŒ–æµç¨‹</p>
</blockquote>
<h4 id="6-3-ORMæŸ¥è¯¢æ“ä½œ"><a href="#6-3-ORMæŸ¥è¯¢æ“ä½œ" class="headerlink" title="6.3 ORMæŸ¥è¯¢æ“ä½œ"></a>6.3 ORMæŸ¥è¯¢æ“ä½œ</h4><p>api.stud</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> APIRouter</span><br><span class="line"><span class="comment">#å¯¼å…¥æ•°æ®åº“</span></span><br><span class="line"><span class="keyword">from</span> db.models <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">student_api=APIRouter()</span><br><span class="line"></span><br><span class="line"><span class="meta">@student_api.get(<span class="params"><span class="string">&quot;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_students</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    #æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="string">    students= await Student.all()#è·å–æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="string">    for student in students:</span></span><br><span class="line"><span class="string">        print(student.id,student.name)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    #è¿‡æ»¤æŸ¥è¯¢filter</span></span><br><span class="line"><span class="string">    students= await Student.filter(name__contains=&quot;å¼ &quot;).all()</span></span><br><span class="line"><span class="string">    for student in students:</span></span><br><span class="line"><span class="string">        print(student.id,student.name)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    #getå­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="string">    stu = await Student.get(id=1)</span></span><br><span class="line"><span class="string">    print(stu.id,stu.name)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    #æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="string">    #æœ€å¤§å€¼</span></span><br><span class="line"><span class="string">    stu =await Student.filter(sno__gt=1000).all()</span></span><br><span class="line"><span class="string">    #æœ€å°å€¼</span></span><br><span class="line"><span class="string">    #stu = await Student.filter(sno__lt=1000).all()</span></span><br><span class="line"><span class="string">    #èŒƒå›´æŸ¥è¯¢</span></span><br><span class="line"><span class="string">    #stu = await Student.filter(sno__range=(1000,2000)).all()</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    #valuesæŸ¥è¯¢</span></span><br><span class="line"><span class="string">    stu = await Student.all().values(&quot;sno&quot;,&quot;name&quot;)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="string">&quot;æ“ä½œ&quot;</span>:<span class="string">&quot;è·å–æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@student_api.post(<span class="params"><span class="string">&quot;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">create_student</span>():</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="string">&quot;æ“ä½œ&quot;</span>:<span class="string">&quot;åˆ›å»ºå­¦ç”Ÿä¿¡æ¯&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@student_api.get(<span class="params"><span class="string">&quot;/&#123;student_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_student</span>(<span class="params">student_id:<span class="built_in">int</span></span>):</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="string">&quot;æ“ä½œ&quot;</span>:<span class="string">f&quot;è·å–å­¦ç”Ÿä¿¡æ¯ï¼ŒIDï¼š<span class="subst">&#123;student_id&#125;</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@student_api.put(<span class="params"><span class="string">&quot;/&#123;student_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">update_student</span>(<span class="params">student_id:<span class="built_in">int</span></span>):</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="string">&quot;æ“ä½œ&quot;</span>:<span class="string">f&quot;æ›´æ–°å­¦ç”Ÿä¿¡æ¯ï¼ŒIDï¼š<span class="subst">&#123;student_id&#125;</span>&quot;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨ FastAPI å’Œ Tortoise ORM ä¸­ï¼Œ<code>async</code> å’Œ <code>await</code> ç”¨äº<strong>å¼‚æ­¥ç¼–ç¨‹</strong>ï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å¼‚æ­¥ I/O æ“ä½œ</strong><br>æ•°æ®åº“æŸ¥è¯¢ï¼ˆå¦‚ Student.all()ï¼‰æ˜¯è€—æ—¶çš„ I/O æ“ä½œã€‚ä½¿ç”¨ <code>async</code>/<code>await</code> å¯ä»¥åœ¨ç­‰å¾…æ•°æ®åº“å“åº”æ—¶ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œæé«˜åº”ç”¨çš„å¹¶å‘æ€§èƒ½ã€‚</li>
<li><strong>FastAPI æ”¯æŒå¼‚æ­¥è·¯ç”±</strong><br>FastAPI æ”¯æŒå¼‚æ­¥ï¼ˆ<code>async def</code>ï¼‰çš„è·¯ç”±å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥å……åˆ†åˆ©ç”¨ Python çš„å¼‚æ­¥ç‰¹æ€§ï¼Œæå‡ Web æœåŠ¡çš„ååé‡ã€‚</li>
<li><strong>Tortoise ORM çš„æ–¹æ³•æ˜¯å¼‚æ­¥çš„</strong><br>Tortoise ORM çš„æ•°æ®åº“æ“ä½œæ–¹æ³•ï¼ˆå¦‚ <code>.all()</code>ã€<code>.create()</code> ç­‰ï¼‰æœ¬èº«å°±æ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œå¿…é¡»ç”¨ <code>await</code> è°ƒç”¨ï¼Œå¹¶ä¸”æ‰€åœ¨å‡½æ•°å¿…é¡»ç”¨ <code>async def</code> å£°æ˜ã€‚</li>
</ol>
</blockquote>
<h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><h4 id="ç«¯å£æŸ¥è¯¢"><a href="#ç«¯å£æŸ¥è¯¢" class="headerlink" title="ç«¯å£æŸ¥è¯¢"></a>ç«¯å£æŸ¥è¯¢</h4><p>æŸ¥çœ‹æ‰€æœ‰ç«¯å£å ç”¨æƒ…å†µï¼š<code>netstat -ano</code></p>
<p>æŸ¥è¯¢ç‰¹å®šç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š<code>netstat -ano | findstr 8080</code></p>
<p>ä½¿ç”¨ <code>taskkill</code> å‘½ä»¤å¼ºåˆ¶ç»“æŸè¿›ç¨‹ï¼š<code>taskkill /PID è¿›ç¨‹ID /F</code></p>
<p>é€šè¿‡ PID æŸ¥æ‰¾è¿›ç¨‹ï¼š<code>tasklist | findstr PID</code></p>
<h4 id="è·å–ç»å¯¹è·¯å¾„"><a href="#è·å–ç»å¯¹è·¯å¾„" class="headerlink" title="è·å–ç»å¯¹è·¯å¾„"></a>è·å–ç»å¯¹è·¯å¾„</h4><p>è·å–å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼š<code>base_dir = os.path.dirname(os.path.abspath(__file__))</code></p>
<p>æ‹¼æ¥è·¯å¾„ï¼š<code>img_dir = os.path.join(base_dir, &quot;../imgs&quot;)</code></p>
<h4 id="mysqléƒ¨åˆ†æŒ‡ä»¤"><a href="#mysqléƒ¨åˆ†æŒ‡ä»¤" class="headerlink" title="mysqléƒ¨åˆ†æŒ‡ä»¤"></a>mysqléƒ¨åˆ†æŒ‡ä»¤</h4><p><strong>æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨</strong>ï¼š<code>SHOW DATABASES;</code></p>
<p><strong>é€‰æ‹©æ•°æ®åº“</strong>ï¼š<code>USE æ•°æ®åº“å;</code></p>
<p><strong>åˆ é™¤æ•°æ®åº“</strong>ï¼š<code>DROP DATABASE æ•°æ®åº“å;</code></p>
<p><strong>åˆ›å»ºæ•°æ®åº“</strong>ï¼š<code>CREATE DATABASE æ•°æ®åº“å;</code></p>
<p><strong>ç™»å½• MySQL</strong>ï¼š<code>mysql -u root -p</code></p>
<p><strong>é€€å‡º</strong>ï¼š<code>exit</code></p>
<h4 id="dockeréƒ¨åˆ†æŒ‡ä»¤"><a href="#dockeréƒ¨åˆ†æŒ‡ä»¤" class="headerlink" title="dockeréƒ¨åˆ†æŒ‡ä»¤"></a>dockeréƒ¨åˆ†æŒ‡ä»¤</h4><p><strong>linuxå®‰è£…docker</strong>ï¼š<code>sudo apt-get update &amp;&amp; sudo apt-get install docker.io</code></p>
<p><strong>æŸ¥çœ‹ Docker ç‰ˆæœ¬ä¿¡æ¯</strong>ï¼š<code>docker version</code></p>
<p><strong>æŸ¥çœ‹é•œåƒ</strong>ï¼š<code>docker images</code></p>
<p><strong>æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨</strong>ï¼š<code>docker ps -a</code> </p>
<blockquote>
<p><code>systemctl</code> æ˜¯ <strong>systemd</strong> ç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†å™¨çš„æ ¸å¿ƒå·¥å…·ï¼Œç”¨äºç®¡ç†ç³»ç»Ÿå’ŒæœåŠ¡çš„çŠ¶æ€åŠé…ç½®ã€‚</p>
</blockquote>
<p><code>mysql-client</code> æ˜¯ MySQL æ•°æ®åº“çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯å·¥å…·ã€‚å®ƒå…è®¸ä½ é€šè¿‡å‘½ä»¤è¡Œè¿æ¥å’Œæ“ä½œ MySQL æ•°æ®åº“æœåŠ¡å™¨ï¼Œæ¯”å¦‚æ‰§è¡Œ SQL æŸ¥è¯¢ã€ç®¡ç†æ•°æ®åº“å’Œç”¨æˆ·ç­‰ã€‚</p>
<p>å¸¸ç”¨å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š<code>mysql -h ä¸»æœºåœ°å€ -P ç«¯å£å· -u ç”¨æˆ·å -p</code></p>
<p>ä½ å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ˜¯å¦å·²å®‰è£… <code>mysql-client</code>ï¼š<code>mysql --version</code></p>
<p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š<code>sudo apt-get update  sudo apt-get install mysql-client</code></p>
<blockquote>
<p><code>sudo apt-get update</code> è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯<strong>æ›´æ–°æœ¬åœ°è½¯ä»¶åŒ…åˆ—è¡¨</strong>ã€‚</p>
</blockquote>
<p><strong>åœæ­¢å¹¶åˆ é™¤å®¹å™¨</strong>ï¼š<code>docker stop fastapi  docker rm fastapi</code></p>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p>fastapiä¸€ä¸ªé¡¹ç›®<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1TSVPzkE7Y?spm_id_from=333.788.videopod.episodes&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">FastAPIè¿›é˜¶_å“”å“©å“”å“©_bilibili</a></p>
<p>æ•™ç¨‹<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ya4y1D7et/?spm_id_from=333.337.search-card.all.click&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">fastapiæ¡†æ¶å¿«é€Ÿå­¦ä¹ _å“”å“©å“”å“©_bilibili</a></p>
<p>fastapiç›¸å…³çŸ¥è¯†çš„è¡¥å……<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1zJ7mzdEc8?spm_id_from=333.788.videopod.sections&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">Python å¼‚æ­¥ç¼–ç¨‹ - ææ˜ç™½ async, await (ç»§ç»­è§£é‡Š yield)_å“”å“©å“”å“©_bilibili</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="ä¸Šä¸€é¡µ" aria-label="ä¸Šä¸€é¡µ" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" title="ä¸‹ä¸€é¡µ" aria-label="ä¸‹ä¸€é¡µ" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">å¼ ç†™æµš</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="æœ¬ç«™è®¿é—®æ•° fa fa-user æ¬¡"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="æœ¬ç«™æ€»è®¿é—®é‡ fa fa-eye æ¬¡"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="400" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  <script src="/js/third-party/pace.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
