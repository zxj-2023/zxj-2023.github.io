<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-bounce.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="zxj Blogs">
<meta property="og:type" content="website">
<meta property="og:title" content="Zhang XiJun">
<meta property="og:url" content="http://example.com/page/9/index.html">
<meta property="og:site_name" content="Zhang XiJun">
<meta property="og:description" content="zxj Blogs">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="张熙浚">
<meta property="article:tag" content="zxj">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/9/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/9/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Zhang XiJun</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Zhang XiJun</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">BLOGS</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="张熙浚"
      src="/images/zxjavatar.gif">
  <p class="site-author-name" itemprop="name">张熙浚</p>
  <div class="site-description" itemprop="description">zxj Blogs</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">127</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zxj-2023" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zxj-2023" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://wpa.qq.com/msgrd?v=3&uin=2902065320&site=qq&menu=yes" title="QQ → http:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;2902065320&amp;site&#x3D;qq&amp;menu&#x3D;yes" rel="noopener me" target="_blank"><i class="fab fa-qq fa-fw"></i>QQ</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://zxj-2023.github.io/" title="https:&#x2F;&#x2F;zxj-2023.github.io" rel="noopener" target="_blank">Zhang XiJun</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://theme-next.js.org/" title="https:&#x2F;&#x2F;theme-next.js.org" rel="noopener" target="_blank">NexT</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/12/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/12/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88/" class="post-title-link" itemprop="url">计算机系统基础——课后答案</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-03-12 00:00:00 / 修改时间：17:06:43" itemprop="dateCreated datePublished" datetime="2025-03-12T00:00:00+08:00">2025-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">大二下</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">计算机系统基础</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a><a href="#说明">说明</a></h2><h1 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h1><h2 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h2><p>书名：《计算机系统基础（第二版）》 袁春风</p>
<p>整理日期：2019-10-27 </p>
<p>整理人：李加其（幽弥狂）</p>
<p>内容：课后习题参考答案 </p>
<p>联系方式：13812991101</p>
<p>邮箱：1768478912@qq.com</p>
<p>QQ:1768478912</p>
<p>版本：v1.0</p>
<h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><p>1、如果有侵权或者其他问题欢迎联系我。</p>
<p>2、参考书目为<a target="_blank" rel="noopener" href="https://github.com/JackeyLea/NJUCS中README.md文件中列出的参考书目。">https://github.com/JackeyLea/NJUCS中README.md文件中列出的参考书目。</a></p>
<p>3、红色字体为重要内容，比如曾作为课后习题、考试考过等等。</p>
<p>4、括号里的P**表示在书本的第几页。</p>
<h1 id="第一部分-系统概述和可执行目标文件的生成"><a href="#第一部分-系统概述和可执行目标文件的生成" class="headerlink" title="第一部分 系统概述和可执行目标文件的生成"></a>第一部分 系统概述和可执行目标文件的生成</h1><h2 id="第一章计算机系统概述"><a href="#第一章计算机系统概述" class="headerlink" title="第一章计算机系统概述"></a>第一章计算机系统概述</h2><p>1、见《计算机系统基础习题解答与教学指导》</p>
<p>2、简单回答下列问题。</p>
<p>（1）冯·诺依曼计算机由哪几部分组成？各部分的功能是什么？</p>
<pre><code>控制器：用于控制主动执行指令；

运算器：用于执行指令；

存储器：存放数据和指令；

输入输出设备：通过输入输出设备使用计算机；
</code></pre><p>（2）什么是“存储程序”工作方式？</p>
<pre><code>必须将事先编好的程序和原始数据送人主存后才开能执行程序，一旦程序被启动执行，计算机能在必须操作人员干预的情况下自动完成逐条指令取出和执行任务。（P3）
</code></pre><p>（3）一条指令的执行过程包含哪几个阶段？</p>
<pre><code>程序的执行就是指令的执行过程。

阶段：
取指令、取数、传数、ALU运算阶段。（P6）
</code></pre><p>（4）计算机系统的层次结构如何划分？</p>
<pre><code>电路设计、数字设计、ISA、汇编程序、编译程序、应用程序、操作系统（P18 图1.11）
</code></pre><p>（5）计算机系统的用户可分哪几类？每类用户工作在哪个层次？</p>
<pre><code>   用户有四种：

   最终用户：应用程序级

   系统管理员：操作系统

   应用程序员：编译程序

   系统程序员：汇编程序和ISA之间
</code></pre><p>（6）程序的 CPI 与哪些因素有关？</p>
<pre><code>总时钟周期数、指令条数（P20）
</code></pre><p>（7）为什么说性能指标 MIPS 不能很好地反映计算机的性能？</p>
<pre><code>MIPS反映了机器执行定点指令的速度。首先，不同机器的指令集是不同的，而且指令的功能也是不同的，也许在机器1上一条指令完成的功能机器2需要多条指令。其次，不同机器的CPI和时钟周期也是不同的，因此同一条指令在不同的机器上所用的时间也不同。（P20 最后一段）
</code></pre><p>3、略</p>
<p>4、略</p>
<p>5、题目略</p>
<p>仿照图1.3</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>主存地址</th>
<th>主存单元地址</th>
<th>内容说明（Ii表示第i条指令）</th>
<th>指令的符号表示</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1110 0111</td>
<td>I1：R[0]←M[7]；op=1110；取数操作</td>
<td>load r0,7#</td>
</tr>
<tr>
<td>1</td>
<td>0000 0100</td>
<td>I2：R[1]←R[0]；op=0000；传送操作</td>
<td>mov r1,r0</td>
</tr>
<tr>
<td>2</td>
<td>1110 0101</td>
<td>I3：R[0]←M[6]；op=1110；取数操作</td>
<td>load r0,6#</td>
</tr>
<tr>
<td>3</td>
<td>0010 0001</td>
<td>I4：R[0]←R[0]-R[1]；op=0010；减操作</td>
<td>sub r0,r1</td>
</tr>
<tr>
<td>4</td>
<td>0011 0001</td>
<td>I5：R[0]←R[0]*R[1]；op=0011；乘操作</td>
<td>mul r0,r1</td>
</tr>
<tr>
<td>5</td>
<td>1111 1000</td>
<td>I6：M[8]←R[0]；op=1111；存数操作</td>
<td>store 8#,r0</td>
</tr>
<tr>
<td>6</td>
<td>0001 0000</td>
<td>操作数x，值为16</td>
<td></td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>0010 0001</td>
<td>操作数y，值为33</td>
<td></td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>0000 0000</td>
<td>结果z，初始值为0</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>仿照图1.5 </p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作</th>
<th>I1:1110 0111</th>
<th>I2：0000 0100</th>
<th>I3：1110 0101</th>
<th>I4：0010 0001</th>
<th>I5：0011 0001</th>
<th>I6：1111 1000</th>
</tr>
</thead>
<tbody>
<tr>
<td>取指令</td>
<td>IR←M[0000]</td>
<td>IR←M[0001]</td>
<td>IR←M[0010]</td>
<td>IR←M[0011]</td>
<td>IR←M[0100]</td>
<td>IR←M[0101]</td>
</tr>
<tr>
<td>指令译码</td>
<td>op=1110，取数</td>
<td>op=0000，传送</td>
<td>op=1110，取数</td>
<td>op=0010，减</td>
<td>op=0011，乘</td>
<td>op=1111，存数</td>
</tr>
<tr>
<td>PC增量</td>
<td>PC←0000+1</td>
<td>PC←0001+1</td>
<td>PC←0010+1</td>
<td>PC←0011+1</td>
<td>PC←0100+1</td>
<td>PC←0101+1</td>
</tr>
<tr>
<td>取数并执行</td>
<td>MDR←M[0110]</td>
<td>A←R[0]、mov</td>
<td>MDR←M[0101]</td>
<td>A←R[0]、B←R[1]、sub</td>
<td>A←R[0]、B←R[1]、mul</td>
<td>MDR←R[0]</td>
</tr>
<tr>
<td>送结果</td>
<td>R[0]←MDR</td>
<td>R[1]←F</td>
<td>R[0]←MDR</td>
<td>R[0]←F</td>
<td>R[0]←F</td>
<td>M[1000]←MDR</td>
</tr>
<tr>
<td>执行结果</td>
<td>R[0]=33</td>
<td>R[1]=33</td>
<td>R[0]=16</td>
<td>R[0]=16-33=-17</td>
<td>R[0]=-17×33</td>
<td>M[8]=-561</td>
</tr>
</tbody>
</table>
</div>
<p>6、若有两个基准测试程序P1和P2在机器M1和M2上运行，假定M1和M2的价格分别是5000元和8000元，下表给出了P1和P2在M1和M2上所花的时间和指令条数。</p>
<table>
    <tr>
        <th rowspan="2">程序</th>
        <th colspan="2">M1</th>
        <th colspan="2">M2</th>
    </tr>
    <tr>
        <td>指令条数</td>
        <td>执行时间(ms)</td>
        <td>指令条数</td>
        <td>执行时间(ms)</td>
    </tr>
    <tr>
        <td>P1</td>
        <td>200×10^6</td>
        <td>10000</td>
        <td>150×10^6</td>
        <td>5000</td>
    </tr>
    <tr>
        <td>P2</td>
        <td>300×10^3</td>
        <td>3</td>
        <td>420×10^3</td>
        <td>6</td>
    </tr>
</table>

<p>请回答下列问题：</p>
<p>（1）对于P1，哪台机器的速度快？快多少？对于P2呢？</p>
<pre><code>对于P1，M2比M1快一倍；对于P2，M1比M2快一倍。
</code></pre><p>（2）在M1上执行P1和P2的速度分别是多少MIPS？在M2上的执行速度又各是多少？从执行速度来看，对于P2，哪台机器的速度快？快多少？</p>
<pre><code>对于M1，P1的速度为：200M/10=20MIPS；P2为300k/0.003=100MIPS。

对于M2，P1的速度为：150M/5=30MIPS；P2为420k/0.006=70MIPS。

从执行速度来看，对于P2，因为100/70=1.43倍，所以M1比M2快0.43倍。
</code></pre><p>（3）假定M1和M2的时钟频率各是800MHz和1.2GHz，则在M1和M2上执行P1时的平均时钟周期数CPI各是多少？ </p>
<pre><code>在M1上执行P1时的平均时钟周期数CPI为：10×800M/(200×106)=40。

在M2上执行P1时的平均时钟周期数CPI为：5×1.2G/(150×106)=40。
</code></pre><p>（4）如果某个用户需要大量使用程序P1，并且该用户主要关心系统的响应时间而不是吞吐率，那么，该用户需要大批购进机器时，应该选择M1还是M2？为什么？（提示：从性价比上考虑）</p>
<pre><code>考虑运行P1时M1和M2的性价比，因为该用户主要关心系统的响应时间，所以性价比中的性能应考虑执行时间，其性能为执行时间的倒数。故性价比R为：

R=1/(执行时间×价格)

R越大说明性价比越高，也即，“执行时间×价格”的值越小，则性价比越高。

因为10×5000 &gt; 5×8000，所以，M2的性价比高。应选择M2。
</code></pre><p>（5）如果另一个用户也需要购进大批机器，但该用户使用P1和P2一样多，主要关心的也是响应时间，那么，应该选择M1还是M2？为什么？</p>
<pre><code>P1和P2需要同等考虑，性能有多种方式：执行时间总和、算术平均、几何平均。

若用算术平均方式，则：因为 (10+0.003)/2×5000 &gt; (5+0.006)/2×8000，所以M2的性价比高，应选择M2。

若用几何平均方式，则：因为sqrt(10×0.003) ×5000 &lt; sqrt(5×0.006) ×8000，所以M1的性价比高，应选择M1。
</code></pre><p>7．若机器M1和M2具有相同的指令集，其时钟频率分别为1GHz和1.5GHz。在指令集中有五种不同类型的指令A~E。下表给出了在M1和M2上每类指令的平均时钟周期数CPI。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>机器</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
</tr>
</thead>
<tbody>
<tr>
<td>M1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>M2</td>
<td>2</td>
<td>2</td>
<td>4</td>
<td>5</td>
<td>6</td>
</tr>
</tbody>
</table>
</div>
<p>请回答下列问题：<br>（1）M1和M2的峰值MIPS各是多少？</p>
<pre><code>M1上可以选择一段都是A类指令组成的程序，其峰值MIPS为1000MIPS。
M2上可以选择一段A和B类指令组成的程序，其峰值MIPS为1500/2=750MIPS。
</code></pre><p>（2）假定某程序P的指令序列中，五类指令具有完全相同的指令条数，则程序P在M1和M2上运行时，哪台机器更快？快多少？在M1和M2上执行程序P时的平均时钟周期数CPI各是多少？</p>
<pre><code>5类指令具有完全相同的指令条数，所以各占20%。
在M1和M2上执行程序P时的平均时钟周期数CPI分别为：
    M1：20%×(1+2+2+3+4)= 0.2×12 = 2.4
    M2：20%×(2+2+4+5+6)= 0.2×19 = 3.8
假设程序P的指令条数为N，则在M1和M2上的执行时间分别为：
    M1：2.4× N×1/1G = 2.4N (ns)
    M2：3.8×N×1/1.5G = 2.53 N (ns)
M1执行P的速度更快，每条指令平均快0.13ns，也即M1比M2快0.13/2.53×100%≈5%。
</code></pre><p>8．假设同一套指令集用不同的方法设计了两种机器M1和M2。机器M1的时钟周期为0.8ns，机器M2的时钟周期为1.2ns。某个程序P在机器M1上运行时的CPI为4，在M2上的CPI为2。对于程序P来说，哪台机器的执行速度更快？快多少？</p>
<pre><code>假设程序P的指令条数为N，则在M1和M2上的执行时间分别为：
    M1：4 N×0.8 = 3.2N (ns)
    M2：2 N×1.2 = 2.4 N (ns)  
所以，M2执行P的速度更快，每条指令平均快0.8ns，比M1快0.8/3.2×100%=25%。
</code></pre><p>9．假设某机器M的时钟频率为4GHz，用户程序P在M上的指令条数为8×109，其CPI为1.25，则P在M上的执行时间是多少？若在机器M上从程序P开始启动到执行结束所需的时间是4秒，则P占用的CPU时间的百分比是多少？</p>
<pre><code>程序P在M上的执行时间为：1.25×8××1/4G = 2.5 s，
从启动P执行开始到执行结束的总时间为4秒，
其中2.5秒是P在CPU上真正的执行时间，
其他时间可能执行操作系统程序或其他用户程序。
程序P占用的CPU时间的百分比为：2.5/4 = 62.5%。
</code></pre><p>10．假定某编译器对某段高级语言程序编译生成两种不同的指令序列S1和S2，在时钟频率为500MHz的机器M上运行，目标指令序列中用到的指令类型有A、B、C和D四类。四类指令在M上的CPI和两个指令序列所用的各类指令条数如下表所示。<br>| | A    | B    | C    | D |<br>|—| —-|—-|—-|—-|<br>各指令的CPI    1    2    3    4<br>S1的指令条数    5    2    2    1<br>S2的指令条数    1    1    1    5</p>
<p>请问：S1和S2各有多少条指令？CPI各为多少？所含的时钟周期数各为多少？执行时间各为多少？</p>
<pre><code>S1有10条指令，CPI为 (5×1+2×2+2×3+1×4)/10=1.9, 所含的时钟周期数为10×1.9=19，执行时间为19/500M = 38ns。
S2有8条指令，CPI为 (1×1+1×2+1×3+5×4)/8 =3.25, 所含的时钟周期数为8×3.25=26，执行时间为26/500M = 52ns。 
</code></pre><p>10．假定机器M的时钟频率为1.2GHz，某程序P在机器M上的执行时间为12秒钟。对P优化时，将其所有的乘4指令都换成了一条左移2位的指令，得到优化后的程序P’。已知在M上乘法指令的CPI为5，左移指令的CPI为2，P的执行时间是P’执行时间的1.2倍，则P中有多少条乘法指令被替换成了左移指令被执行？<br>参考答案：<br>显然，P’的执行时间为10秒，因此，P比P’多花了2秒钟，因此，执行时被换成左移指令的乘法指令的条数为1.2G×2/(5–2) = 800M。</p>
<h2 id="第二章计算机系统基本功能和基本组成"><a href="#第二章计算机系统基本功能和基本组成" class="headerlink" title="第二章计算机系统基本功能和基本组成"></a>第二章计算机系统基本功能和基本组成</h2><p>1、见习题解答。</p>
<p>2、简单回答下列问题。</p>
<p>（1）为什么计算机内部采用二进制表示信息？既然计算机内部所有信息都用二进制表示，为什么还要用到十六进制或八进制数？</p>
<p>制造两个稳定状态的元器件比多个稳定状态的元器件要容易，两个稳定状态对应高低电平，正好可以用0/1表示；二进制编码规则简单，可用开关电路实现；方便通过逻辑电路实现算术运算。<br>二进制硬件容易理解，但是不方便书写和阅读。</p>
<p>（2）常用的定点数编码方式有哪几种？ 通常它们各自用来表示什么？</p>
<p>原码：用定点原码表示浮点数的尾数部分；</p>
<p>补码：带符号整数；</p>
<p>反码：</p>
<p>移码：</p>
<p>（3）为什么计算机中大多用补码表示带符号整数？</p>
<p>（4）在浮点数的基和位数一定的情况下，浮点数的表数范围和表数精度分别由什么决定？两者如何相互制约？</p>
<p>（5）为什么要对浮点数进行规格化？有哪两种规格化操作？</p>
<p>（6）为什么有些计算机中除了用二进制外还用 BCD 码来表示数值数据？</p>
<p>（7）为什么计算机处理汉字时会涉及到不同的编码（如，输入码、内码、字模码）？说明这些编码中哪些是用二进制编码，哪些不是用二进制编码，为什么？</p>
<p>3．实现下列各数的转换。<br>（1）(25.8125)10= (?)2= (?) 8= (?) 16</p>
<p>（2）(101101.011)2 = (?)10= (?) 8= (?) 16= (?) 8421</p>
<p>（3）(0101 1001 0110.0011)8421 = (?)10= (?) 2= (?) 16</p>
<p>（4）(4E.C)16 = (?)10= (?) 2</p>
<p>参考答案：</p>
<p>（1）    (25.8125)10 = (1 1001.1101)2 = (31.64) 8 = (19.D) 16</p>
<p>（2）(101101.011)2 = (45.375)10 = (55.3) 8 = (2D.6) 16 = (0100 0101.0011 0111 0101) 8421</p>
<p>（3）(0101 1001 0110.0011)8421 = (596.3)10 = (1001010100.01001100110011…) 2 = (254.4CCC…) 16</p>
<p>（4）(4E.C)16 = (78.75)10 = (0100 1110.11) 2</p>
<p>4． 假定机器数为8位（1位符号，7位数值），写出下列各二进制数的原码和补码表示。<br>+0.1001，–0.1001，+1.0，–1.0，+0.010100，–0.010100，+0，–0</p>
<p>参考答案：<br>| 原码 | 补码 |<br>|——- |——-|<br>|+0.1001：            0.1001000            0.1001000<br>–0.1001：            1.1001000            1.0111000<br>+1.0：                溢出                溢出<br>–1.0：                溢出                1.0000000<br>+0.010100：            0.0101000            0.0101000<br>–0.010100：            1.0101000            1.1011000<br>+0：                0.0000000            0.0000000<br>–0：                1.0000000            0.0000000</p>
<p>5． 假定机器数为8位（1位符号，7位数值），写出下列各二进制数的补码和移码表示。<br>+1001，–1001，+1，–1，+10100，–10100，+0，–0<br>参考答案：<br>移码                  补码<br>+1001：                10001001            00001001<br>–1001：                01110111                11110111<br>+1：                10000001            00000001<br>–1：                011111111            11111111<br>+10100：            10010100            00010100<br>–10100：            01101100                11101100<br>+0：                10000000            00000000<br>–0：                10000000            00000000</p>
<p>6． 已知 [x]补，求x<br>（1）[x]补=1.1100111           （2）[x]补=10000000<br>（3）[x]补=0.1010010          （4）[x]补=11010011<br>参考答案：<br>（1）[x]补=1.1100111           x = –0.0011001B<br>（2）[x]补=10000000              x = –10000000B = –128<br>（3）[x]补=0.1010010             x = +0.101001B<br>（4）[x]补=11010011             x = – 101101B = – 45</p>
<p>7．假定一台32位字长的机器中带符号整数用补码表示，浮点数用IEEE 754标准表示，寄存器R1和R2的内容分别为R1：0000108BH，R2：8080108BH。不同指令对寄存器进行不同的操作，因而，不同指令执行时寄存器内容对应的真值不同。假定执行下列运算指令时，操作数为寄存器R1和R2的内容，则R1和R2中操作数的真值分别为多少？<br>（1）无符号数加法指令<br>（2）带符号整数乘法指令<br>（3）单精度浮点数减法指令<br>参考答案：<br>    R1     = 0000108BH = 0000 0000 0000 0000 0001 0000 1000 1011b<br>    R2    = 8080108BH = 1000 0000 1000 0000 0001 0000 1000 1011b<br>（1）对于无符号数加法指令，R1和R2中是操作数的无符号数表示，因此，其真值分别为R1：108BH, R2：8080108BH。<br>（2）对于带符号整数乘法指令，R1和R2中是操作数的带符号整数补码表示，由最高位可知， R1为正数， R2为负数。R1的真值为+108BH, R2的真值为–(0111 1111 0111 1111 1110 1111 0111  0100b + 1b) = –7F7FEF75H。<br>（3）对于单精度浮点数减法指令，R1和R2中是操作数的IEEE754单精度浮点数表示。在IEEE 754 标准中，单精度浮点数的位数为32位，其中包含1位符号位，8位阶码，23位尾数。<br>由R1中的内容可知，其符号位为0，表示其为正数，阶码为0000 0000，尾数部分为000 0000 0001 0000 1000 1011，故其为非规格化浮点数，指数为–126，尾数中没有隐藏的1，用十六进制表示尾数为+0.002116H，故R1表示的真值为+0.002116H × 10-126。<br>由R2中的内容可知，其符号位为1，表示其为负数，阶码为0000 0001， 尾数部分为000 0000 0001 0000 1000 1011，故其为规格化浮点数，指数为1–127 = –126，尾数中有隐藏的1，用十六进制表示尾数为–1.002116H，故R2表示的真值为–1.002116H × 10-126</p>
<p>8．假定机器M的字长为32位，用补码表示带符号整数。下表第一列给出了在机器M上执行的C语言程序中的关系表达式，请参照已有的表栏内容完成表中后三栏内容的填写。<br>关系表达式    运算类型    结果    说明<br>0 == 0U<br>–1 &lt; 0<br>–1 &lt; 0U<br>2147483647 &gt; –2147483647 – 1<br>2147483647U &gt; –2147483647 – 1<br>2147483647 &gt; (int) 2147483648U<br>–1 &gt; –2<br>(unsigned) –1 &gt; –2    无符号整数<br>有符号整数<br>无符号整数<br>有符号整数<br>无符号整数<br>有符号整数<br>有符号整数<br>无符号整数    1<br>1<br>0<br>1<br>0<br>1<br>1<br>1    00…0B = 00…0B<br>11…1B (–1) &lt; 00…0B (0)<br>11…1B (232–1) &gt; 00…0B(0)<br>011…1B (231–1) &gt; 100…0B (–231)<br>011…1B (231–1) &lt; 100…0B(231)<br>011…1B (231–1) &gt; 100…0B (–231)<br>11…1B (–1) &gt; 11…10B (–2)<br>11…1B (232–1) &gt; 11…10B (232–2)</p>
<p>9．以下是一个C语言程序，用来计算一个数组a中每个元素的和。当参数len为0时，返回值应该是0，但是在机器上执行时，却发生了存储器访问异常。请问这是什么原因造成的，并说明程序应该如何修改。<br>       1    float sum_elements(float a[], unsigned len)<br>    2    {<br>    3        int     i;<br>    4        float  result = 0;<br>    5<br>    6        for    (i = 0; i &lt;= len–1; i++)<br>    7            result += a[i];<br>    8        return result;<br>    9    }</p>
<p>参考答案：<br>参数len的类型是unsigned，所以，当len=0时，执行len-1的结果为11…1，是最大可表示的无符号数，因而，任何无符号数都比它小，使得循环体被不断执行，引起数组元素的访问越界，发生存储器访问异常。<br>    只要将len声明为int型，或循环的测试条件改为i&lt;len。</p>
<ol>
<li>设某浮点数格式为：</li>
</ol>
<p>其中，移码的偏置常数为16，补码采用一位符号位，基数为4。<br>（1）用这种格式表示下列十进制数：+1.7，–0.12，+19，–1/8。<br>（2）写出该格式浮点数的表示范围，并与12位定点补码整数表示范围比较。<br>参考答案：（假定采用0舍1入法进行舍入）<br>（1） +1.7 = +1.1011001B = 0.011011B× 41, 故阶码为1 +16 = 17 = 10001B, 尾数为+0.011011的补码， 即0.011011，所以+1.7表示为0 10001 011011。</p>
<pre><code>–0.12 = – 0.000111101B = – 0.011111B × 4–1, 故阶码为 –1 + 16 =15 = 01111B, 尾数为– 0.011111的补码，即1.100001, 所以–0.12表示为1 01111 100001。

+19 = +10011B = 0.010011B× 43，故阶码为3 + 16 = 19 = 10011B, 尾数为0.010011，所以+19表示为0 10011 010011。

–1/8 = – 0.125 = – 0.001B = – 0.100000 × 4–1，阶码为 –1 + 16 = 15 = 01111B，尾数为– 0.100000的补码，即1.100000，所以–1/8表示为1 01111 100000。
</code></pre><p>（2）该格式浮点数表示的范围如下。<br>    正数最大值：0.111111B × 411111，即：0.333× 415  （≈230 ≈109）<br>    正数最小值：0.000001B × 400000，即：0.001× 4–16  （≈2–34≈10–10）<br>    负数最大值：–0.000001B × 400000，即：–0.001× 4–16<br>    负数最小值：–1.000000B × 411111，即：–1.000× 415<br>    因此，该格式浮点数的数量级在10–10～109之间。<br>12位定点补码整数的表示范围为：–211～+(211–1)，即：–2048～2047<br>由此可见，定点数和浮点数的表示范围相差非常大。</p>
<ol>
<li>下列几种情况所能表示的数的范围是什么？<br>（1）16位无符号整数<br>（2）16位原码定点小数<br>（3）16位补码定点小数<br>（4）16位补码定点整数<br>（5）下述格式的浮点数（基数为2，移码的偏置常数为128）</li>
</ol>
<pre><code>参考答案：
</code></pre><p>（1）无符号整数：0～216–1。<br>（2）原码定点小数：–(1–2–15) ～ + (1–2–15)。<br>（3）补码定点小数：–1 ～ + (1–2–15)。<br>（4）补码定点整数：–32768 ～ +32767。<br>（5）浮点数：负数：– (1–2–7)×2+127 ～ –2–7×2–128。<br>正数：+2–135 ～ (1–2–7) ×2+127。</p>
<ol>
<li><p>以IEEE 754单精度浮点数格式表示下列十进制数。<br>+1.75，+19，–1/8，258<br>参考答案：<br>+1.75 = +1.11B = 1.11B × 20, 故阶码为0+127=01111111B, 数符为0，尾数为1.110…0，小数点前为隐藏位，所以+1.7表示为0 01111111 110 0000 0000 0000 0000 0000，用十六进制表示为3FE00000H。</p>
<p>+19 = +10011B = +1.0011B × 24，故阶码为4+127 = 10000011B, 数符为0，尾数为1.00110…0，所以+19表示为0 10000011 001 1000 0000 0000 0000 0000，用十六进制表示为41980000H。</p>
<p>–1/8 = – 0.125 = – 0.001B = – 1.0 × 2–3，阶码为–3+127 = 01111100B，数符为1，尾数为1.0…0，所以–1/8表示为1 01111100 000 0000 0000 0000 0000 0000，用十六进制表示为BE000000H。</p>
</li>
</ol>
<p>258=100000010B=1.0000001B × 28, 故阶码为8+127=10000111B, 数符为0，尾数为1.0000001，所以258表示为0 10000111 000 0001 0000 0000 0000 0000，用十六进制表示为43810000H。</p>
<p>13．设一个变量的值为4098，要求分别用32位补码整数和IEEE 754单精度浮点格式表示该变量（结果用十六进制表示），并说明哪段二进制序列在两种表示中完全相同，为什么会相同？<br>参考答案：<br>4098 = +1 0000 0000 0010B = +1. 0000 0000 001 × 212<br>    32位2-补码形式为：0000 0000 0000 0000 0001 0000 0000 0010 （00001002H）<br>    IEEE754单精度格式为：0 10001011 0000 0000 0010 0000 0000 000 （45801000H）<br>    粗体部分为除隐藏位外的有效数字，因此，在两种表示中是相同的序列。</p>
<p>14．设一个变量的值为–2147483647，要求分别用32位补码整数和IEEE754单精度浮点格式表示该变量（结果用十六进制表示），并说明哪种表示其值完全精确，哪种表示的是近似值。<br>参考答案：<br>–2147483647 = –111 1111 1111 1111 1111 1111 1111 1111B<br>= –1.11 1111 1111 1111 1111 1111 1111 1111 × 230<br>    32位2-补码形式为：1000 0000 0000 0000 0000 0000 0000 0001 （80000001H）<br>    IEEE 754单精度格式为：1 10011101 1111 1111 1111 1111 1111 111 （CEFFFFFFH）<br>    32位2-补码形式能表示精确的值，而浮点数表示的是近似值，低位被截断</p>
<p>15．下表给出了有关IEEE 754浮点格式表示中一些重要数据的取值，表中已经有最大规格化数的相应内容，要求填入其他浮点数的相应内容。（注：表中a代表一个在1到10之间的正纯小数）<br>项目    阶码    尾数    单精度    双精度<br>            以2的幂次表示的值    以10的幂次表示的值    以2的幂次表示的值    以10的幂次表示的值<br>0<br>1<br>最大规格化数<br>最小规格化数<br>最大非规格化数<br>最小非规格化数<br>+∞<br>NaN    00000000<br>01111111<br>11111110<br>00000001<br>00000000<br>00000000<br>11111111<br>11111111    0….00<br>0….00<br>1…11<br>0….00<br>1…11<br>0…01<br>0….00<br>非全0    0<br>1<br>(2–2–23)×2127<br>1.0×2–126<br>(1–2–23)×2–126<br>2–23×2–126=2–149<br>–<br>–    0<br>1<br>a×1038<br>a×10–38<br>a×10–38<br>a×10–44<br>–<br>–    0<br>1<br>(2–2–52)×21023<br>1.0×2–1022<br>(1–2–52)×2–1022<br>2–52×2–1022<br>–<br>–    0<br>1<br>a×10308<br>a×10–308<br>a×10–308<br>a×10–?<br>–<br>–</p>
<p>16．已知下列字符编码：A=100 0001，a=110 0001，0=011 0000，求E、e、f、7、G、Z、5的7位ACSII码和第一位前加入奇校验位后的8位编码。<br>参考答案：<br>    E的ASCII码为 ‘A’ + (‘E’ – ‘A’) = 100 0001 + 100 = 100 0101, 奇校验位P = 0，第一位前加入奇校验位后的8位编码是0 100 0101。<br>    e的ASCII码为‘a’+ (‘e’ – ‘a’) = 110 0001 + 100 = 110 0101， 奇校验位P = 1, 第一位前加入奇校验位后的8位编码是1 110 0101。<br>    f的ASCII码为‘a’+ (‘f’ – ‘a’) = 110 0001 + 101 = 110 0110, 奇校验位P = 1, 第一位前    加入奇校验位后的8位编码是 1 110 0110。<br>    7的ASCII码为‘0’+ (7 - 0)  = 011 0000 + 111 = 011 0111,奇校验位P = 0, 第一位前加入奇校验位后的8位编码是0 011 0111。<br>    G的ASCII码为‘A’+ (‘G’ – ‘A’) = 100 0001 + 0110 = 100 0111, 奇校验位P = 1, 第一位前加入奇校验位后的8位编码是1 100 0111。<br>    Z的ASCII码为‘A’+(‘Z’ – ‘A’) = 100 0001 + 11001 = 101 1010, 奇校验位P = 1, 第一位前加入奇校验位后的8位编码是 1 101 1010。<br>    5的ASCII码为‘0’+(5 – 0) = 011 0000 + 101 = 011 0101， 奇校验位P = 1, 第一位前加入奇校验位后的8位编码是 1 011 0101。</p>
<p>17．假定在一个程序中定义了变量x、y和i，其中，x和y是float型变量（用IEEE754单精度浮点数表示），i是16位short型变量（用补码表示）。程序执行到某一时刻，x = –0.125、y=7.5、i=100，它们都被写到了主存（按字节编址），其地址分别是100，108和112。请分别画出在大端机器和小端机器上变量x、y和i在内存的存放位置。<br>参考答案：<br>–0.125 = –0.001B = –1.0 × 2-3<br>x在机器内部的机器数为：1 01111100 00…0 (BE00 0000H)<br>7.5= +111.1B= +1.111 × 22<br>y在机器内部的机器数为：0 10000001 11100…0 (40F0 0000H)<br>100=64+32+4=1100100B<br>i在机器内部表示的机器数为：0000 0000 0110 0100（0064H）<br>大端机                          小端机<br>地址    内容                             内容<br>100        BEH                            00H<br>            101        00H                                00H<br>            102        00H                                00H<br>            103        00H                                BEH<br>            108        40H                                00H<br>            109        F0H                                00H<br>            110        00H                                F0H<br>            111        00H                                40H<br>            112        00H                                64H<br>            113        64H                                00H</p>
<p>18．假定某计算机的总线采用奇校验，每8位数据有一位校验位，若在32位数据线上传输的信息是8F 3C AB 96H，则对应的4个校验位应为什么？若接受方收到的数据信息和校验位分别为87 3C AB 96H和0101B，则说明发生了什么情况，并给出验证过程。<br>    参考答案：<br>    传输信息8F 3C AB 96H展开为1000 1111 0011 1100 1010 1011 1001 0110，每8位有一个奇校验位，因此，总线上发送方送出的4个校验位应该分别为0、1、0、1。<br>    接受方的数据信息为87 3C AB 96H，展开后为1000 0111 0011 1100 1010 1011 1001 0110；接收到的校验位分别为0、1、0、1。在接受方进行校验判断如下：<br>    根据接收到的数据信息计算出4个奇校验位分别为1、1、0、1，将该4位校验位分别和接收到的4位校验位进行异或，得到1、0、0、0，说明数据信息的第一个字节发生传输错误。对照传输前、后的数据信息，第一字节8FH变成了87H，说明确实发生了传输错误，验证正确。</p>
<p>19．写出16位数据的SEC码。假定数据为0101 0001 0100 0110，说明SEC码如何正确检测数据位5的错误。<br>    参考答案：<br>对于16位数据， 可以如下插入校验位：<br>    M16 M15 M14 M13 M12 P5 M11 M10 M9 M8 M7 M6 M5 P4 M4 M3 M2 P3 M1 P2 P1<br>    其中Mi是原信息数据， Pi是加入的校验位， 对于各个校验位的值可以如下计算<br>    P1 = M1⊕M2⊕M3⊕M4⊕M5⊕M7⊕M9⊕M11⊕M12⊕M14⊕M16 = 1<br>    P2 = M1⊕M3⊕M4⊕M6⊕M7⊕M10⊕M11⊕M13⊕M14 = 1<br>    P3 = M2⊕M3⊕M4⊕M8⊕M9⊕M10⊕M11⊕M15⊕M16 = 0<br>    P4 = M5⊕M6⊕M7⊕M8⊕M9⊕M10⊕M11 = 0<br>    P5 = M12⊕M13⊕M14⊕M15⊕M16 = 0<br>    所以此时P5 P4 P3 P2 P1 = 00011，第五位数据出错时，数据字变为：0101 0001 0101 0110，P5’P4’P3’P2’P1’= 01010，故障字 =  00011⊕01010 = 01001，说明码字第9位出错，即M5出错。</p>
<p>20．假设要传送的数据信息为：100011，若约定的生成多项式为：G(x)= x3+1，则校验码为多少？假定在接收端接收到的数据信息为100010，说明如何正确检测其错误，写出检测过程。</p>
<p>参考答案：<br>原数据信息为100011，对应的报文多项式为M(x) = x5 + x + 1, 生成多项式的位数为4位， 所以在原数据信息后面添加3个0，变为M’(x) = x3M(x) = x8 + x4 + x3, 用M(x)去模2除G(x)，得到的余数为111， 所以得到CRC码为100011 111。</p>
<pre><code>检测时， 用接收到的CRC码去模2除生成多项式1001，若得到的余数为0，则表明正确，否则说明传输时发生了错误。此题中接收到的CRC码为100010 111（即数据100010加检验位111），显然，用100010 111 模2除 1001，得到余数为001，不为0，说明传输时发生错误。
</code></pre>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/09/%E5%AD%A6%E4%B9%A0/git/%E5%88%9D%E8%AF%86git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/09/%E5%AD%A6%E4%B9%A0/git/%E5%88%9D%E8%AF%86git/" class="post-title-link" itemprop="url">初识git</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-09 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-09T00:00:00+08:00">2025-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-06-12 18:44:56" itemprop="dateModified" datetime="2025-06-12T18:44:56+08:00">2025-06-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">开发工具</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h2><p>Git是目前世界上最先进的分布式版本控制系统，没有之一！说到Git,另一个需要知道的便是GitHub，GitHub是目前使用最多的社交代码托管平台。</p>
<p>输入git —version 查看Git版本信息</p>
<p>配置本地信息<br>为了在后面上传项目到github时方便知道是谁上传的，需要给本机git配置用户名和邮箱：</p>
<p>git config —global user.name “zxj”<br>git config —global user.email “zxj2902065320@163.com”<br><strong>查看配置命令：git config —list</strong></p>
<p><strong>配置SSH</strong></p>
<p>ssh key生成命令<code>ssh-keygen -t rsa -C “注册邮箱”</code></p>
<p>获取ssh key公钥内容（id_rsa.pub）<code>cd ~/.ssh       cat id_rsa.pub</code></p>
<p>Github账号上添加公钥</p>
<p>验证是否配置成功 <code>ssh -T git@github.com</code></p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>在检验ssh配置时，始终报错，问ai说是配置的原因，尝试删除后，报错<code>Could not resolve hostname github.com: Name or service not known</code>，琢磨无法解决，拼尽全力无法战胜，于是保留下来交给未来的自己</p>
<p><img src="/2025/03/09/%E5%AD%A6%E4%B9%A0/git/%E5%88%9D%E8%AF%86git/image-20250311172436506.png" alt="image-20250311172436506"></p>
<h2 id="git常用指令"><a href="#git常用指令" class="headerlink" title="git常用指令"></a>git常用指令</h2><p>克隆仓库git clone <a target="_blank" rel="noopener" href="https://github.com/logan-zou/Chat_with_Datawhale_langchain.git">https://github.com/logan-zou/Chat_with_Datawhale_langchain.git</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git init：初始化一个git仓库</span><br><span class="line">git clone：clone一个git仓库</span><br><span class="line">git add 命令可将文件添加到缓存</span><br><span class="line">git status 命令来查看相关文件的状态</span><br><span class="line">git commit 将缓存区内容添加到仓库中，可以在后面加-m选项，以在命令行中提供提交注释</span><br><span class="line"></span><br><span class="line">git remote add：添加远程仓库</span><br><span class="line">git remote：查看当前的远程仓库</span><br><span class="line">git fetch、git pull：提取远程仓仓库</span><br><span class="line">git push：推送到远程仓库</span><br><span class="line">git remote rm：删除远程仓库</span><br></pre></td></tr></table></figure>
<p>先做记录，我没用过，我目前选择vscode+GitHub的可视化界面</p>
<h2 id="vscode-GitHub"><a href="#vscode-GitHub" class="headerlink" title="vscode+GitHub"></a>vscode+GitHub</h2><p><img src="/2025/03/09/%E5%AD%A6%E4%B9%A0/git/%E5%88%9D%E8%AF%86git/image-20250311173501909.png" alt="image-20250311173501909"></p>
<p>输入仓库名称 点击commit提交</p>
<p><img src="/2025/03/09/%E5%AD%A6%E4%B9%A0/git/%E5%88%9D%E8%AF%86git/image-20250311174519221.png" alt="image-20250311174519221"></p>
<p>每次更改代码都可以命名后再次提交</p>
<p>代理配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy &quot;http://127.0.0.1:8080&quot; </span><br><span class="line">git config --global https.proxy &quot;http://127.0.0.1:8080&quot;</span><br></pre></td></tr></table></figure>
<p><img src="/2025/03/09/%E5%AD%A6%E4%B9%A0/git/%E5%88%9D%E8%AF%86git/image-20250311175047287.png" alt="image-20250311175047287"></p>
<p>分别代码本地和远程仓库的位置</p>
<p>天呐这图形化太方便了</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44406127/article/details/137540031">git安装配置教程(小白保姆教程2024最新版)_git安装及配置教程-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Hkr7YYEh8/?spm_id_from=333.788.videopod.sections&amp;vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11">给傻子的Git教程_哔哩哔哩_bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36667170/article/details/79085301">Git教程 Git Bash详细教程-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/HD243608836/article/details/127869482">GIT Proxy 一键设置代理 让你的 git clone Github 再也不像百度云一样内行-CSDN博客</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/08/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/08/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA/" class="post-title-link" itemprop="url">机器学习——知识查漏补缺</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-08 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-08T00:00:00+08:00">2025-03-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-09 14:17:14" itemprop="dateModified" datetime="2025-03-09T14:17:14+08:00">2025-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">大二下</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="pip与conda区别"><a href="#pip与conda区别" class="headerlink" title="pip与conda区别"></a>pip与conda区别</h2><p><code>pip</code> 和 <code>conda</code> 都是用来安装和管理 Python 包的工具，但它们的工作方式和适用场景有所不同。以下是它们的主要区别：</p>
<h3 id="1-包管理的范围"><a href="#1-包管理的范围" class="headerlink" title="1. 包管理的范围"></a>1. <strong>包管理的范围</strong></h3><ul>
<li><code>pip</code>：是 Python 官方的包管理工具，只用于安装 Python 包。它从 Python 包索引 (PyPI) 中获取包并安装。这意味着它只能安装 Python 包，不能直接处理其他类型的依赖（如系统库、C 库等）。</li>
<li><code>conda</code>：是一个跨平台的包和环境管理工具，它不仅可以安装 Python 包，还可以安装其他语言（如 R、Java、C++ 等）以及非 Python 依赖（如系统库）。<code>conda</code> 能够管理整个环境（包括 Python 版本和库），并解决与系统库之间的依赖关系。</li>
</ul>
<h3 id="2-依赖管理"><a href="#2-依赖管理" class="headerlink" title="2. 依赖管理"></a>2. <strong>依赖管理</strong></h3><ul>
<li><code>pip</code>：在安装包时，<code>pip</code> 仅会安装 Python 包及其 Python 依赖，而不处理系统级依赖。如果一个包依赖于特定的 C 库或其他非 Python 包，<code>pip</code> 不会自动解决这些问题，这可能导致一些复杂的兼容性问题。</li>
<li><code>conda</code>：会同时处理 Python 包和非 Python 包的依赖。它会在安装时自动解决所有依赖，包括操作系统库、C 库等。因此，<code>conda</code> 在依赖关系处理上比 <code>pip</code> 更强大。</li>
</ul>
<h3 id="3-包来源"><a href="#3-包来源" class="headerlink" title="3. 包来源"></a>3. <strong>包来源</strong></h3><ul>
<li><code>pip</code>：通过 PyPI（Python Package Index）来下载和安装包，PyPI 是一个包含大多数 Python 包的中央库。</li>
<li><code>conda</code>：使用 Anaconda 仓库或其他 conda 仓库。Anaconda 仓库提供了大量的科学计算、数据分析相关的包，而不仅限于 Python 包。conda 还支持安装一些没有在 PyPI 上的包。</li>
</ul>
<h3 id="4-环境管理"><a href="#4-环境管理" class="headerlink" title="4. 环境管理"></a>4. <strong>环境管理</strong></h3><ul>
<li><code>pip</code>：本身不提供环境管理功能，但可以与 <code>virtualenv</code> 或 <code>venv</code> 等工具结合使用来创建虚拟环境。这些虚拟环境允许你为不同项目隔离依赖。</li>
<li><code>conda</code>：内置环境管理功能，可以通过 <code>conda create</code> 命令直接创建隔离的环境，支持不同版本的 Python 以及其他软件的管理。<code>conda</code> 环境的管理比 <code>pip + virtualenv</code> 更加方便和高效。</li>
</ul>
<h3 id="5-安装速度"><a href="#5-安装速度" class="headerlink" title="5. 安装速度"></a>5. <strong>安装速度</strong></h3><ul>
<li><code>pip</code>：通常只安装 Python 包。对于某些包，特别是需要从源代码编译的包，安装可能会比较慢，尤其是在没有预编译二进制文件的情况下。</li>
<li><code>conda</code>：由于它使用的是预编译的二进制包，安装速度通常更快，尤其是对于依赖项繁多的包（如 <code>numpy</code>、<code>scipy</code> 等）。它无需从源代码编译，直接安装预编译的版本。</li>
</ul>
<h3 id="6-跨平台支持"><a href="#6-跨平台支持" class="headerlink" title="6. 跨平台支持"></a>6. <strong>跨平台支持</strong></h3><ul>
<li><code>pip</code>：支持所有操作系统，但在一些操作系统（尤其是 Windows）上，安装某些包时可能会遇到编译问题，尤其是 C 扩展包。</li>
<li><code>conda</code>：同样支持多平台，并且在 Windows 系统上安装一些复杂的包（如 <code>numpy</code>、<code>pandas</code> 等）时，比 <code>pip</code> 更加稳定和方便，因为它会自动提供适合平台的预编译二进制文件。</li>
</ul>
<h3 id="7-包版本冲突"><a href="#7-包版本冲突" class="headerlink" title="7. 包版本冲突"></a>7. <strong>包版本冲突</strong></h3><ul>
<li><code>pip</code>：虽然可以安装特定版本的包，但如果项目中的多个包有不同的依赖版本，<code>pip</code> 并不能很好地解决这些版本冲突，需要手动处理依赖版本。</li>
<li><code>conda</code>：在安装时，<code>conda</code> 会自动解析所有的依赖关系，确保包和其依赖的版本兼容，从而减少版本冲突。</li>
</ul>
<h3 id="8-包更新"><a href="#8-包更新" class="headerlink" title="8. 包更新"></a>8. <strong>包更新</strong></h3><ul>
<li><strong><code>pip</code></strong>：更新包的方式通常是直接运行 <code>pip install --upgrade &lt;package&gt;</code>，但是它会仅更新 Python 包本身，不会考虑系统级的依赖。</li>
<li><strong><code>conda</code></strong>：更新包时，<code>conda</code> 会同时考虑包的 Python 依赖和系统库依赖，可以更全面地管理包更新。</li>
</ul>
<h3 id="总结对比表："><a href="#总结对比表：" class="headerlink" title="总结对比表："></a>总结对比表：</h3><div class="table-container">
<table>
<thead>
<tr>
<th>特性</th>
<th><code>pip</code></th>
<th><code>conda</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>包管理范围</strong></td>
<td>只管理 Python 包</td>
<td>管理 Python 包和其他非 Python 包</td>
</tr>
<tr>
<td><strong>依赖关系管理</strong></td>
<td>只处理 Python 依赖</td>
<td>处理 Python 和非 Python 依赖</td>
</tr>
<tr>
<td><strong>包来源</strong></td>
<td>PyPI</td>
<td>Anaconda 仓库等</td>
</tr>
<tr>
<td><strong>环境管理</strong></td>
<td>需配合 <code>virtualenv</code> 使用</td>
<td>内建环境管理</td>
</tr>
<tr>
<td><strong>安装速度</strong></td>
<td>慢（尤其是需要编译的包）</td>
<td>快（使用预编译二进制包）</td>
</tr>
<tr>
<td><strong>跨平台支持</strong></td>
<td>跨平台支持良好</td>
<td>更好的 Windows 支持</td>
</tr>
<tr>
<td><strong>版本冲突处理</strong></td>
<td>手动解决版本冲突</td>
<td>自动解决版本冲突</td>
</tr>
</tbody>
</table>
</div>
<h3 id="什么时候使用-pip，什么时候使用-conda？"><a href="#什么时候使用-pip，什么时候使用-conda？" class="headerlink" title="什么时候使用 pip，什么时候使用 conda？"></a>什么时候使用 <code>pip</code>，什么时候使用 <code>conda</code>？</h3><ul>
<li>如果你已经在使用 Anaconda 或 Miniconda，并且需要安装 Python 包及其相关依赖，<code>conda</code> 是更好的选择，因为它可以自动解决依赖并更好地管理环境。</li>
<li>如果你没有使用 Anaconda 或只需要安装纯粹的 Python 包，<code>pip</code> 更为轻量和直接。</li>
</ul>
<p>在实际使用中，有时你会发现两者可以结合使用：可以用 <code>conda</code> 安装 Python 环境和一些复杂的依赖，再用 <code>pip</code> 安装一些不在 Anaconda 仓库中的包。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/06/%E5%AD%A6%E4%B9%A0/%E6%9D%82%E9%A1%B9/jupyter%E8%BD%ACmarkdown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/06/%E5%AD%A6%E4%B9%A0/%E6%9D%82%E9%A1%B9/jupyter%E8%BD%ACmarkdown/" class="post-title-link" itemprop="url">jupyter转markdown</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-06 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-06T00:00:00+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-09 13:44:39" itemprop="dateModified" datetime="2025-03-09T13:44:39+08:00">2025-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/%E6%9D%82%E9%A1%B9/" itemprop="url" rel="index"><span itemprop="name">杂项</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="jupyter转markdown"><a href="#jupyter转markdown" class="headerlink" title="jupyter转markdown"></a>jupyter转markdown</h2><h3 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h3><p>安装nbconverter: <a href="https://link.zhihu.com/?target=https%3A//nbconvert.readthedocs.io/en/latest/">nbconvert: Convert Notebooks to other formats</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install nbconvert</span><br></pre></td></tr></table></figure>
<p><strong>注意依赖项：</strong></p>
<ul>
<li><strong>基本依赖：pandoc</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandoc</span><br></pre></td></tr></table></figure>
<h3 id="二、使用方法"><a href="#二、使用方法" class="headerlink" title="二、使用方法"></a>二、使用方法</h3><p>命令行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter nbconvert --to FORMAT notebook.ipynb</span><br></pre></td></tr></table></figure>
<p>这里<code>FORMAT</code> 用具体的格式替换，如 <code>markdown</code>, <code>html</code>等。</p>
<p>例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter nbconvert --to markdown notebook.ipynb</span><br></pre></td></tr></table></figure>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/371132826">Jupyter Notebook文件转markdown - 知乎</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%AD%E7%9A%84Python%E5%B8%B8%E7%94%A8%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%AD%E7%9A%84Python%E5%B8%B8%E7%94%A8%E5%BA%93/" class="post-title-link" itemprop="url">机器学习——Python常用库</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-06 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-06T00:00:00+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-09 14:18:10" itemprop="dateModified" datetime="2025-03-09T14:18:10+08:00">2025-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">大二下</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Python常用库"><a href="#Python常用库" class="headerlink" title="Python常用库"></a>Python常用库</h2><h3 id="1-Numpy"><a href="#1-Numpy" class="headerlink" title="1. Numpy"></a>1. Numpy</h3><p>numpy（Numerical Python的简称）是高性能科学计算和数据分析的基础包。其部分功能如下：</p>
<p>ndarray，一个具有矢量算术运算和复杂广播能力的快速且节省空间的多维数组。 用于对整组数据进行快速运算的标准数学函数（无需编写循环）。 用于读写磁盘数据的工具以及用于操作内存映射文件的工具。 线性代数、随机数生成以及傅里叶变换功能。 用于集成由C、C++、Fortran等语言编写的代码的工具。</p>
<h3 id="2-Pandas"><a href="#2-Pandas" class="headerlink" title="2. Pandas"></a>2. Pandas</h3><p>pandas是python第三方库，提供高性能易用数据类型和分析工具 pandas基于numpy实现，常与numpy和matplotlib一同使用 pandas中有两大核心数据结构：Series（一维数据） 和 DataFrame（多特征数据,既有行索引,又有列索引）</p>
<h3 id="3-PIL"><a href="#3-PIL" class="headerlink" title="3. PIL"></a>3. PIL</h3><p>PIL库是一个具有强大图像处理能力的第三方库 在命令行下的安装方法：pip install pillow 在使用过程中的引入方法：from PIL import Image Image 是 PIL 库中代表一个图像的类（对象） 图像是一个由像素组成的二维矩阵，每个元素是一个RGB值</p>
<h3 id="4-Matplotlib"><a href="#4-Matplotlib" class="headerlink" title="4. Matplotlib"></a>4. Matplotlib</h3><p>Matplotlib库由各种可视化类构成，内部结构复杂。 受Matlab启发，matplotlib.pylot是绘制各类可视化图形的命令字库，相当于快捷方式。</p>
<h3 id="5-scikit-learn"><a href="#5-scikit-learn" class="headerlink" title="5. scikit-learn"></a>5. scikit-learn</h3><p><code>scikit-learn</code>（简称 <code>sklearn</code>）是一个开源的 Python 库，广泛应用于机器学习任务，提供了丰富的工具和算法，能够帮助数据科学家和机器学习工程师高效地进行数据预处理、模型训练、评估和优化。它基于 <code>NumPy</code>、<code>SciPy</code> 和 <code>matplotlib</code>，具有以下主要特点和功能：</p>
<h4 id="主要功能："><a href="#主要功能：" class="headerlink" title="主要功能："></a><strong>主要功能</strong>：</h4><ul>
<li><strong>分类 (Classification)</strong> ：用于预测数据点所属的类别（如垃圾邮件分类、疾病预测等）。</li>
<li><strong>回归 (Regression)</strong> ：用于预测连续的数值（如房价预测、股票价格预测等）。</li>
<li><strong>聚类 (Clustering)</strong> ：将数据点分为不同的簇或组（如客户细分、图像分割等）。</li>
<li><strong>降维 (Dimensionality Reduction)</strong> ：减少数据的维度，常用于数据压缩和可视化。</li>
<li><strong>模型评估 (Model Evaluation)</strong> ：提供评估工具，如交叉验证、准确率、F1 分数等。</li>
<li><strong>数据预处理 (Data Preprocessing)</strong> ：包括标准化、归一化、缺失值处理、编码等。</li>
<li><strong>超参数调优 (Hyperparameter Tuning)</strong> ：通过网格搜索（GridSearchCV）和随机搜索（RandomizedSearchCV）来优化模型超参数。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%BB%AA%E8%AE%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%BB%AA%E8%AE%BA/" class="post-title-link" itemprop="url">机器学习——绪论</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-06 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-06T00:00:00+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-06-12 18:59:41" itemprop="dateModified" datetime="2025-06-12T18:59:41+08:00">2025-06-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">大二下</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p><img src="/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%BB%AA%E8%AE%BA/QQ20250320-191604.png" alt="QQ20250320-191604"></p>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lhxez6868/article/details/108150777">准确度(accuracy)、精确率（precision)、召回率（recall）、F1值 谈谈我的看法_recall f1-CSDN博客</a></p>
<p>南瓜书在线阅读：<a target="_blank" rel="noopener" href="https://datawhalechina.github.io/pumpkin-book/#/">https://datawhalechina.github.io/pumpkin-book/#/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E4%B8%8A%E6%9C%BA/%E4%B8%8A%E6%9C%BA2%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E4%B8%8A%E6%9C%BA/%E4%B8%8A%E6%9C%BA2%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">机器学习——第二次上机——数据预处理基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-06 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-06T00:00:00+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-06-12 19:00:46" itemprop="dateModified" datetime="2025-06-12T19:00:46+08:00">2025-06-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">大二下</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="机器学习数据预处理基础"><a href="#机器学习数据预处理基础" class="headerlink" title="机器学习数据预处理基础"></a>机器学习数据预处理基础</h1><h1 id="1-One-Hot编码"><a href="#1-One-Hot编码" class="headerlink" title="1. One-Hot编码"></a>1. One-Hot编码</h1><h2 id="任务介绍"><a href="#任务介绍" class="headerlink" title="任务介绍"></a>任务介绍</h2><ul>
<li>使用Pandas中的value_counts()函数，查看data中的特征User continent的取值类型， 并打印输出的内容；</li>
<li>使用pandas中的get<em>dummies()函数对data中的特征User continent进行One-Hot编码，参数prefix为User continent</em>；</li>
<li>将编码后的结果保存在encode_uc中，并输出变量的前5行内容。</li>
</ul>
<h2 id="预期实验结果"><a href="#预期实验结果" class="headerlink" title="预期实验结果"></a>预期实验结果</h2><p><img src="https://ai-studio-static-online.cdn.bcebos.com/bac5b83fc21a435fabddd64a5ab463600c7d80dc00e44fd6ae1715ae25355db6" alt><br><img src="https://ai-studio-static-online.cdn.bcebos.com/2f183364e29348079537f8ad38d9489004d4498e9b5d483fa9432f2bae06654e" alt></p>
<blockquote>
<p>补全代码;</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;user_review.csv&#x27;</span>)</span><br><span class="line"><span class="comment"># 请在下方作答 #</span></span><br><span class="line"><span class="comment"># value_counts() 函数统计并输出 &quot;User continent&quot; 列中各大陆出现的次数</span></span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;User continent&#x27;</span>].value_counts())</span><br><span class="line"><span class="comment"># 使用 get_dummies() 对 &quot;User continent&quot; 列进行 One-Hot 编码</span></span><br><span class="line"><span class="comment"># One-hot编码是一种将类别变量转换为多个二进制特征列的技术，</span></span><br><span class="line"><span class="comment"># 每个类别对应一列，如果该行数据属于该类别则取值为1，否则为0</span></span><br><span class="line">encode_uc = pd.get_dummies(data[<span class="string">&#x27;User continent&#x27;</span>], prefix=<span class="string">&#x27;User continent_&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(encode_uc)</span><br></pre></td></tr></table></figure>
<p>​    User continent<br>​    North America    296<br>​    Europe           118<br>​    Oceania           41<br>​    Asia              36<br>​    Africa             7<br>​    South America      6<br>​    Name: count, dtype: int64<br>​         User continent<strong>Africa  User continent</strong>Asia  User continent<strong>Europe  \<br>​    0                     False                 False                   False<br>​    1                     False                 False                   False<br>​    2                     False                 False                   False<br>​    3                     False                 False                    True<br>​    4                     False                 False                   False<br>​    ..                      …                   …                     …<br>​    499                   False                 False                    True<br>​    500                   False                 False                   False<br>​    501                   False                 False                   False<br>​    502                   False                 False                   False<br>​    503                   False                 False                   False<br>​<br>​         User continent</strong>North America  User continent<strong>Oceania  \<br>​    0                             True                    False<br>​    1                             True                    False<br>​    2                             True                    False<br>​    3                            False                    False<br>​    4                             True                    False<br>​    ..                             …                      …<br>​    499                          False                    False<br>​    500                           True                    False<br>​    501                           True                    False<br>​    502                           True                    False<br>​    503                           True                    False<br>​<br>​         User continent</strong>South America<br>​    0                            False<br>​    1                            False<br>​    2                            False<br>​    3                            False<br>​    4                            False<br>​    ..                             …<br>​    499                          False<br>​    500                          False<br>​    501                          False<br>​    502                          False<br>​    503                          False<br>​<br>​    [504 rows x 6 columns]<br>​    </p>
<h1 id="2-缺失值填补"><a href="#2-缺失值填补" class="headerlink" title="2. 缺失值填补"></a>2. 缺失值填补</h1><h2 id="任务介绍-1"><a href="#任务介绍-1" class="headerlink" title="任务介绍"></a>任务介绍</h2><ul>
<li>使用pandas中的value_counts()函数打印输出data中的特征Traveler type的取值统计信息， 并查看其是否含有缺失值；</li>
<li>如果存在缺失值，将特征Traveler type在其他样本中取值频数最多的值保存在变量freq_v中，并使用freq_v进行缺失值填充；</li>
<li>再次打印输出特征Traveler type的取值统计信息。</li>
</ul>
<h2 id="预期实验结果-1"><a href="#预期实验结果-1" class="headerlink" title="预期实验结果"></a>预期实验结果</h2><p><img src="https://ai-studio-static-online.cdn.bcebos.com/573d921570d34dc08c44f863ee8732f8d5816c88af7b467aa8cae7a2ce188129" alt></p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;user_review.csv&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># value_counts(dropna=False) 会包括缺失值（NaN）在内</span></span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;Traveler type&#x27;</span>].value_counts(dropna=<span class="literal">False</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># idxmax()会获取频数最多的取值</span></span><br><span class="line">freq_v = data[<span class="string">&#x27;Traveler type&#x27;</span>].value_counts().idxmax()</span><br><span class="line"></span><br><span class="line"><span class="comment"># freq_v会替代缺失值</span></span><br><span class="line">data[<span class="string">&#x27;Traveler type&#x27;</span>] = data[<span class="string">&#x27;Traveler type&#x27;</span>].fillna(freq_v)</span><br><span class="line"></span><br><span class="line"><span class="comment">### 打印</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&#x27;缺失值填充完之后：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>( <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;Traveler type&#x27;</span>].value_counts(dropna=<span class="literal">False</span>))</span><br></pre></td></tr></table></figure>
<h1 id="3-特征标准化"><a href="#3-特征标准化" class="headerlink" title="3. 特征标准化"></a>3. 特征标准化</h1><h2 id="任务1"><a href="#任务1" class="headerlink" title="任务1:"></a>任务1:</h2><ul>
<li>使用sklearn中preprocessing模块下的StandardScaler()函数对data的特征Score进行Z-score标准化；</li>
<li>将特征取值的均值保存在变量score_mean中，并打印；</li>
<li>将特征取值的方差保存在变量score_var中，并打印。</li>
</ul>
<h2 id="预期实验结果-2"><a href="#预期实验结果-2" class="headerlink" title="预期实验结果"></a>预期实验结果</h2><p><img src="/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E4%B8%8A%E6%9C%BA/%E4%B8%8A%E6%9C%BA2%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86%E5%9F%BA%E7%A1%80/fa64d89b-3dc9-4b07-b27f-210b56e583ed-1741258230441-1.png" alt="fa64d89b-3dc9-4b07-b27f-210b56e583ed"></p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="comment"># sklearn是一个用于机器学习的Python库，提供了各种分类、回归、聚类算法，</span></span><br><span class="line"><span class="comment"># 包括支持向量机、随机森林、梯度提升等。它还包含了用于数据预处理、特征提取和模型选择的工具。</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;user_review.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下方作答 #</span></span><br><span class="line"><span class="comment">## 创建Z-score对象</span></span><br><span class="line"><span class="comment">## Z-score标准化是一种将数据转换为均值为0，标准差为1的标准正态分布的方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 初始化StandardScaler对象，用于执行Z-score标准化</span></span><br><span class="line">std_scaler = StandardScaler()</span><br><span class="line"></span><br><span class="line"><span class="comment">## Score特征标准化，使用fit_transform()方法</span></span><br><span class="line"><span class="comment"># fit_transform() 会先计算出该特征的均值和标准差，然后进行标准化</span></span><br><span class="line">normal_df = std_scaler.fit_transform(data[[<span class="string">&#x27;Score&#x27;</span>]])  </span><br><span class="line"></span><br><span class="line"><span class="comment">## 均值</span></span><br><span class="line"><span class="comment"># StandardScaler 会自动计算并存储 &#x27;Score&#x27; 列的均值，这个值在标准化过程中用来进行数据转换</span></span><br><span class="line">score_mean = std_scaler.mean_</span><br><span class="line"></span><br><span class="line"><span class="comment">## 方差</span></span><br><span class="line"><span class="comment"># 方差也是 StandardScaler 会计算的一个参数，表示数据的离散程度</span></span><br><span class="line">score_var = std_scaler.var_</span><br><span class="line"></span><br><span class="line"><span class="comment">## 打印</span></span><br><span class="line"><span class="built_in">print</span> (score_mean)</span><br><span class="line"><span class="built_in">print</span> (score_var)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 打印前五行内容</span></span><br><span class="line">normal_df[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<p>​    [4.12301587]<br>​    [1.01264487]<br>​    </p>
<p>​    array([[ 0.87149149],<br>​           [-1.11598231],<br>​           [ 0.87149149],<br>​           [-0.12224541],<br>​           [-0.12224541]])</p>
<h2 id="任务2："><a href="#任务2：" class="headerlink" title="任务2："></a>任务2：</h2><ul>
<li>自定义函数min_max()实现MinMax标准化，输入参数data为要进行标准化的数据，输出为标准化后的数据。</li>
<li>使自定义的min_max()函数对data的特征Score进行MinMax标准化，输出结果保存在score_transformed中，并打印变量的前5行内容</li>
</ul>
<h2 id="预期结果"><a href="#预期结果" class="headerlink" title="预期结果"></a>预期结果</h2><p><img src="https://ai-studio-static-online.cdn.bcebos.com/98a830f8c5594920883029b03ae2882f516aef4a6af244ff93061ef21aa09836" alt></p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;user_review.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下方作答 #</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">min_max</span>(<span class="params">data</span>):</span><br><span class="line">    </span><br><span class="line">    <span class="comment">## 最小值</span></span><br><span class="line">    data_min = data.<span class="built_in">min</span>()</span><br><span class="line">    <span class="comment">## 最大值</span></span><br><span class="line">    data_max = data.<span class="built_in">max</span>()</span><br><span class="line">    <span class="comment">## 最大值与最小值之间的差值</span></span><br><span class="line">    data_range=data_max-data_min</span><br><span class="line">    <span class="comment">## 根据MinMax标准化的定义实现</span></span><br><span class="line">    <span class="comment">#MinMax 标准化（最小-最大标准化）是一种数据预处理方法，</span></span><br><span class="line">    <span class="comment"># 旨在将数据的所有特征（列）缩放到一个指定的范围，通常是 [0, 1]。</span></span><br><span class="line">    <span class="comment"># 这种标准化方法将原始数据通过线性变换映射到新的范围。</span></span><br><span class="line">    new_data = (data-data_min)/data_range<span class="comment"># MinMax标准化公式： (x - min) / (max - min)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">## 返回结果</span></span><br><span class="line">    <span class="keyword">return</span> new_data</span><br><span class="line"></span><br><span class="line"><span class="comment">## 调用min_max()函数</span></span><br><span class="line">score_transformed = min_max(data[<span class="string">&#x27;Score&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">## 打印变量的前5行内容</span></span><br><span class="line">score_transformed.head()</span><br></pre></td></tr></table></figure>
<p>​    0    1.00<br>​    1    0.50<br>​    2    1.00<br>​    3    0.75<br>​    4    0.75<br>​    Name: Score, dtype: float64</p>
<h2 id="任务3："><a href="#任务3：" class="headerlink" title="任务3："></a>任务3：</h2><ul>
<li>自定义logistic()函数，输入参数为要进行标准化的数据，输出结果为经过标准化后的数据；</li>
<li>使用自定义函数对data的特征Member years进行Logsitic标准化，结果保存在member_transformed中，并输出变量的前5行内容。</li>
</ul>
<h2 id="预期结果："><a href="#预期结果：" class="headerlink" title="预期结果："></a>预期结果：</h2><p><img src="https://ai-studio-static-online.cdn.bcebos.com/22fd81b1a5614b418f88cbe90bf7f99ba6c553820c2542be80f1a90421779026" alt></p>
<blockquote>
<p>补全代码</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ogistic 标准化（Logistic Normalization）是一个将数据转换为 (0, 1) 范围的过程，</span></span><br><span class="line"><span class="comment"># 通常使用 Logistic 函数（也称为 Sigmoid 函数）。</span></span><br><span class="line"><span class="comment"># 它是一种非线性转换方法，常用于神经网络和其他需要将数据映射到概率范围的场景。</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;user_review.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下方作答 #</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">logistic</span>(<span class="params">data</span>):</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">    <span class="keyword">import</span> warnings</span><br><span class="line">    warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">## 计算 1 + e^(-x)</span></span><br><span class="line">    denominator = <span class="number">1</span>+ np.exp(-data)<span class="comment"># 使用 np.exp() 计算 e^(-x)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">## 实现logistic标准化</span></span><br><span class="line">    new_data = <span class="number">1</span>/denominator</span><br><span class="line">    <span class="comment">## 返回结果</span></span><br><span class="line">    <span class="keyword">return</span> new_data</span><br><span class="line"></span><br><span class="line"><span class="comment">## 对特征Member years进行logsitic标准化</span></span><br><span class="line">member_transformed = logistic(data[<span class="string">&#x27;Member years&#x27;</span>]) </span><br><span class="line"></span><br><span class="line"><span class="comment">## 打印内容</span></span><br><span class="line">member_transformed.head()</span><br></pre></td></tr></table></figure>
<p>​    0    0.999877<br>​    1    0.952574<br>​    2    0.880797<br>​    3    0.997527<br>​    4    0.999089<br>​    Name: Member years, dtype: float64</p>
<h1 id="4-特征离散化"><a href="#4-特征离散化" class="headerlink" title="4. 特征离散化"></a>4. 特征离散化</h1><h2 id="任务介绍-2"><a href="#任务介绍-2" class="headerlink" title="任务介绍"></a>任务介绍</h2><ul>
<li>使用Pandas的qcut()函数对data中的特征Member years进行等频离散化，结果保存在bins中；</li>
<li>使用pd.value_counts()函数统计categorical对象bins的取值信息。</li>
</ul>
<h2 id="预期结果-1"><a href="#预期结果-1" class="headerlink" title="预期结果"></a>预期结果</h2><p><img src="https://ai-studio-static-online.cdn.bcebos.com/a4729a315ee6483687f3a819d01d905b025fa5f90da04f3e893a7a80ce5e5107" alt></p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;user_review.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下方作答 #</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 返回bins</span></span><br><span class="line"><span class="comment"># q=4 表示将数据分成 4 个区间</span></span><br><span class="line">bins = pd.qcut(data[<span class="string">&#x27;Member years&#x27;</span>], q=<span class="number">4</span>, labels=[<span class="string">&quot;(-1806.001, 2.0]&quot;</span>, <span class="string">&quot;(2.0, 4.0]&quot;</span>, <span class="string">&quot;(4.0, 6.0]&quot;</span>, <span class="string">&quot;(6.0, 13.0]&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">## 统计取值信息</span></span><br><span class="line"><span class="comment"># 使用value_counts()函数统计bins中每个类别的数量，得到离散化后的各个类别的分布情况</span></span><br><span class="line">value_counts = pd.value_counts(bins)  </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(value_counts)</span><br></pre></td></tr></table></figure>
<p>​    Member years<br>​    (-1806.001, 2.0]    156<br>​    (6.0, 13.0]         124<br>​    (2.0, 4.0]          123<br>​    (4.0, 6.0]          101<br>​    Name: count, dtype: int64<br>​    </p>
<h1 id="5-离群值检测"><a href="#5-离群值检测" class="headerlink" title="5. 离群值检测"></a>5. 离群值检测</h1><h2 id="任务介绍-3"><a href="#任务介绍-3" class="headerlink" title="任务介绍"></a>任务介绍</h2><ul>
<li>使用拉依达准则对data的特征Member years进行离群值检测；</li>
<li>如果存在离群值，输出离群值的个数outlier_num，并将包含离群值的数据记录保存在变量outeliers中，并打印变量内容。</li>
</ul>
<h2 id="预期结果-2"><a href="#预期结果-2" class="headerlink" title="预期结果"></a>预期结果</h2><p><img src="https://ai-studio-static-online.cdn.bcebos.com/40e316267fc542339a74291e8438e340109ece96fc2a439591b75414e12085d2" alt></p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取csv文件到DataFrame</span></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;user_review.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取&#x27;Member years&#x27;这一列</span></span><br><span class="line">member_data = data[[<span class="string">&#x27;Member years&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">拉伊达准则</span></span><br><span class="line"><span class="string">计算四分位数（Q1 和 Q3）：计算Member years特征的第25百分位数（Q1）和第75百分位数（Q3）。</span></span><br><span class="line"><span class="string">计算IQR（Interquartile Range）：IQR = Q3 - Q1。</span></span><br><span class="line"><span class="string">判断离群值：低于 Q1 - 1.5 * IQR 或高于 Q3 + 1.5 * IQR 的数据点视为离群值。</span></span><br><span class="line"><span class="string">统计离群值的个数，并提取包含离群值的记录。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算四分位数</span></span><br><span class="line">Q1 = member_data[<span class="string">&#x27;Member years&#x27;</span>].quantile(<span class="number">0.25</span>)  <span class="comment"># 第25百分位数</span></span><br><span class="line">Q3 = member_data[<span class="string">&#x27;Member years&#x27;</span>].quantile(<span class="number">0.75</span>)  <span class="comment"># 第75百分位数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算IQR（四分位间距）</span></span><br><span class="line">IQR = Q3 - Q1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写出过滤条件：低于 Q1 - 1.5 * IQR 或 高于 Q3 + 1.5 * IQR 的值为离群值</span></span><br><span class="line">outlier_judge = (member_data[<span class="string">&#x27;Member years&#x27;</span>] &lt; (Q1 - <span class="number">1.5</span> * IQR)) | (member_data[<span class="string">&#x27;Member years&#x27;</span>] &gt; (Q3 + <span class="number">1.5</span> * IQR))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计离群值的个数</span></span><br><span class="line">outlier_num = outlier_judge.<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取包含离群值的样本记录</span></span><br><span class="line">outliers = data[outlier_judge]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印离群值记录</span></span><br><span class="line"><span class="built_in">print</span>(outliers)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>​        User country User continent  Member years Traveler type  \<br>​    75           USA  North America         -1806          Solo<br>​    143          USA  North America            13       Couples<br>​<br>​                                 Hotel name  Hotel stars  Nr. rooms  Score<br>​    75   Treasure Island- TI Hotel &amp; Casino          4.0       2884      5<br>​    143                      Caesars Palace          5.0       3348      4<br>​    </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E4%B8%8A%E6%9C%BA/%E4%B8%8A%E6%9C%BA2%E2%80%94%E2%80%94%E6%B3%A2%E5%A3%AB%E9%A1%BF%E6%88%BF%E4%BB%B7%E9%A2%84%E6%B5%8B%E4%BB%BB%E5%8A%A1%EF%BC%88%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E3%80%81%E5%B2%AD%E5%9B%9E%E5%BD%92%E5%AE%9E%E7%8E%B0%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E4%B8%8A%E6%9C%BA/%E4%B8%8A%E6%9C%BA2%E2%80%94%E2%80%94%E6%B3%A2%E5%A3%AB%E9%A1%BF%E6%88%BF%E4%BB%B7%E9%A2%84%E6%B5%8B%E4%BB%BB%E5%8A%A1%EF%BC%88%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E3%80%81%E5%B2%AD%E5%9B%9E%E5%BD%92%E5%AE%9E%E7%8E%B0%EF%BC%89/" class="post-title-link" itemprop="url">机器学习——第二次上机——波士顿房价预测任务（线性回归、岭回归实现）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-06 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-06T00:00:00+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-06-12 19:02:41" itemprop="dateModified" datetime="2025-06-12T19:02:41+08:00">2025-06-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/" itemprop="url" rel="index"><span itemprop="name">大二下</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="波士顿房价预测任务（线性回归、岭回归实现）"><a href="#波士顿房价预测任务（线性回归、岭回归实现）" class="headerlink" title="波士顿房价预测任务（线性回归、岭回归实现）"></a>波士顿房价预测任务（线性回归、岭回归实现）</h1><p>包括数据准备、模型训练、模型评估与选择、性能度量、参数选择</p>
<h2 id="问题背景与数据集介绍"><a href="#问题背景与数据集介绍" class="headerlink" title="问题背景与数据集介绍"></a>问题背景与数据集介绍</h2><p>波士顿房价预测是一个经典的机器学习任务，类似于程序员世界的“Hello World”。和大家对房价的普遍认知相同，波士顿地区的房价受诸多因素影响。美国某经济杂志登出波士顿房价数据集，该数据集包含506条观测信息，统计了13种可能影响房价的因素（输入变量）和该类型房屋的均价（输出变量），其中每条观测信息包含城镇犯罪率、一氧化氮浓度、住宅平均房间数、到中心区域的加权距离以及自住房平均房价等关于波士顿周边或者城镇房价的描述，期望通过分析影响波士顿房价的因素来构建房价预测模型。相关属性描述如下图所示，其中最后一项就是想要预测的房屋均价。</p>
<p><img src="https://ai-studio-static-online.cdn.bcebos.com/be005522b4c441ba89ee7a2ad8277f7c8706457a7a8e4b5f84f92591a32b701d" alt></p>
<p>观测数据的示例如下图所示。</p>
<p><img src="https://ai-studio-static-online.cdn.bcebos.com/46fb2e80de2047ff8af2c16819a9e3f5114533f01e3c44c697cfdd66be7bf22f" alt></p>
<p>对于预测问题，可以根据预测输出的类型是连续的实数值，还是离散的标签，区分为回归任务和分类任务。因为房价是一个连续值，所以房价预测显然是一个回归任务。本次实验要求大家调用sklearn 的线性回归、岭回归模型来实现。</p>
<h3 id="实现过程："><a href="#实现过程：" class="headerlink" title="实现过程："></a>实现过程：</h3><ol>
<li>数据准备：导入数据、特征可视化</li>
<li>数据预处理：数据集划分、数据标准化处理</li>
<li>模型训练：线性回归、岭回归</li>
<li>模型评估与选择、参数选择</li>
</ol>
<h2 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h2><h3 id="导入数据"><a href="#导入数据" class="headerlink" title="导入数据"></a>导入数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line">boston = load_boston()</span><br><span class="line"><span class="built_in">print</span>(boston.DESCR)</span><br></pre></td></tr></table></figure>
<h3 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h3><p>通过观察不同属性与房价之间的关系，分析影响房价的主要因素。</p>
<p>boston.data 存储的是所有样本的属性值，boston.target 存储的是所有样本的房价。下段程序所展示的13幅图中，横坐标是该属性的取值，纵坐标是房价值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入matplotlib库中的pyplot模块，用于绘制图表</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表的大小，figsize指定了图表的宽度和高度，单位是英寸</span></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历波士顿数据集的13个特征</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">13</span>):</span><br><span class="line">    <span class="comment"># 创建一个2行7列的子图，并在当前子图中绘制散点图</span></span><br><span class="line">    plt.subplot(<span class="number">2</span>, <span class="number">7</span>, i + <span class="number">1</span>)  <span class="comment"># 2行7列的第i+1个子图</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 绘制散点图：x轴是第i个特征，y轴是目标值（房价中位数），s指定点的大小</span></span><br><span class="line">    plt.scatter(boston.data[:, i], boston.target, s=<span class="number">20</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 设置当前子图的标题，显示当前特征的名称</span></span><br><span class="line">    plt.title(boston.feature_names[i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存当前图表为PNG格式的图片，文件名为img.png</span></span><br><span class="line">plt.savefig(<span class="string">&#x27;img.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示绘制的所有子图</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p> <img src="/2025/03/06/college/%E5%A4%A7%E4%BA%8C%E4%B8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E4%B8%8A%E6%9C%BA/%E4%B8%8A%E6%9C%BA2%E2%80%94%E2%80%94%E6%B3%A2%E5%A3%AB%E9%A1%BF%E6%88%BF%E4%BB%B7%E9%A2%84%E6%B5%8B%E4%BB%BB%E5%8A%A1%EF%BC%88%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E3%80%81%E5%B2%AD%E5%9B%9E%E5%BD%92%E5%AE%9E%E7%8E%B0%EF%BC%89/img.png" alt="img"></p>
<h2 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h2><h3 id="任务1：数据集划分"><a href="#任务1：数据集划分" class="headerlink" title="任务1：数据集划分"></a>任务1：数据集划分</h3><p>调用sklearn.model_selection中的train_test_split()函数，把boston数据集分为训练集和测试集，划分比例是4:1。</p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 加载波士顿房价数据集</span></span><br><span class="line">boston = load_boston()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将数据集划分为训练集和测试集，test_size=0.2 表示测试集占20%，即训练集占80%</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(boston.data, boston.target, test_size=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="结果："><a href="#结果：" class="headerlink" title="结果："></a>结果：</h3><ul>
<li><strong><code>X_train</code></strong>：训练集的特征数据，形状为 <code>(404, 13)</code>，即 80% 的数据（506 * 0.8 = 404 个样本），每个样本有 13 个特征。</li>
<li><strong><code>X_test</code></strong>：测试集的特征数据，形状为 <code>(102, 13)</code>，即 20% 的数据（506 * 0.2 = 102 个样本）。</li>
<li><strong><code>y_train</code></strong>：训练集的目标值，形状为 <code>(404,)</code>，即对应训练集的 404 个房价中位数。</li>
<li><strong><code>y_test</code></strong>：测试集的目标值，形状为 <code>(102,)</code>，即对应测试集的 102 个房价中位数。</li>
</ul>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><ul>
<li><code>train_test_split()</code> 将数据集（包括特征和目标值）按照指定的比例随机划分为训练集和测试集。划分后的数据将用于模型的训练和评估，确保模型评估时使用的数据不会在训练过程中被“看见”。</li>
<li><code>test_size=0.2</code> 表示将 20% 的数据作为测试集，80% 的数据作为训练集。</li>
<li><code>random_state=42</code> 确保每次划分数据集时能得到一致的结果，保证实验的可复现性。</li>
</ul>
<h3 id="任务2：数据标准化处理："><a href="#任务2：数据标准化处理：" class="headerlink" title="任务2：数据标准化处理："></a>任务2：数据标准化处理：</h3><h4 id="1-Z-score标准化"><a href="#1-Z-score标准化" class="headerlink" title="1. Z-score标准化"></a>1. Z-score标准化</h4><p>首先使用StandardScaler()函数初始化对属性值的标准化器，然后调用fit_transform()方法对训练数据进行Z-score标准化，再将这个标准化器调用transform()方法用于测试数据的标准化。</p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="comment"># 初始化对属性值的标准化器</span></span><br><span class="line">ss_X = StandardScaler()</span><br><span class="line"><span class="comment"># ss_X调用fit_transform()和transform()方法对训练数据和测试数据进行标准化</span></span><br><span class="line"><span class="comment"># 对训练数据进行标准化，fit_transform() 方法会计算训练数据的均值和标准差，并应用到训练数据</span></span><br><span class="line"><span class="comment"># 训练数据X_train会被标准化为均值0，标准差1</span></span><br><span class="line">X_train = ss_X.fit_transform(X_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对测试数据进行标准化，使用transform()方法来使用训练数据的均值和标准差来标准化测试数据</span></span><br><span class="line"><span class="comment"># 注意：测试数据不能再用fit_transform()，否则会使用测试数据的统计量，导致数据泄露</span></span><br><span class="line">X_test = ss_X.transform(X_test)</span><br></pre></td></tr></table></figure>
<p><strong>Z-score 标准化</strong>的过程是将数据转换为均值为0，标准差为1的分布。<code>StandardScaler()</code> 是 <code>scikit-learn</code> 提供的标准化工具，它通过去掉均值并除以标准差来实现这一标准化。</p>
<h4 id="代码解释："><a href="#代码解释：" class="headerlink" title="代码解释："></a>代码解释：</h4><p><strong>对训练数据进行标准化</strong>：<br>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_train = ss_X.fit_transform(X_train)</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>fit()</code>：计算训练数据的均值和标准差。</li>
<li><code>transform()</code>：使用训练数据的均值和标准差将数据标准化。</li>
<li><code>fit_transform()</code>：这两个操作结合在一起，计算并转换训练数据，使其均值为0，标准差为1。</li>
</ul>
<p><strong>对测试数据进行标准化</strong>：<br>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_test = ss_X.transform(X_test)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>对测试数据应用 <code>transform()</code> 方法时，不会重新计算均值和标准差，而是使用在训练数据上计算得到的均值和标准差对测试数据进行转换。</li>
<li>这确保了测试数据的标准化是基于训练数据的统计信息，而不是测试数据本身的统计信息。</li>
</ul>
<h4 id="2-MinMax标准化"><a href="#2-MinMax标准化" class="headerlink" title="2. MinMax标准化"></a>2. MinMax标准化</h4><p>首先使用StandardScaler()函数初始化对属性值的标准化器，然后调用fit_transform()方法对训练数据进行Z-score标准化，再将这个标准化器调用transform()方法用于测试数据的标准化。</p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> MinMaxScaler</span><br><span class="line"><span class="comment"># 初始化对属性值的标准化器</span></span><br><span class="line">mm_X = MinMaxScaler()</span><br><span class="line"><span class="comment"># mm_X调用fit_transform()和transform()方法对训练数据和测试数据进行MinMax标准化</span></span><br><span class="line">X_train1 = mm_X.fit_transform(X_train)</span><br><span class="line">X_test1 = mm_X.transform(X_test)</span><br></pre></td></tr></table></figure>
<p>在 <strong>MinMax 标准化</strong>（也称为 <strong>归一化</strong>）中，数据将被缩放到指定的最小值和最大值之间，通常是将数据缩放到 <code>[0, 1]</code> 范围内。这对于那些对特征的绝对范围敏感的算法非常有效。</p>
<p><code>MinMaxScaler</code> 是 <code>scikit-learn</code> 提供的一个标准化工具，它会将每个特征缩放到一个指定的范围内，默认情况下是 <code>[0, 1]</code>。</p>
<h3 id="代码解释：-1"><a href="#代码解释：-1" class="headerlink" title="代码解释："></a>代码解释：</h3><p><strong>对训练数据进行 MinMax 标准化</strong>：<br>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_train1 = mm_X.fit_transform(X_train)</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>fit_transform()</code> 方法会计算训练数据的最小值和最大值，并将数据缩放到 <code>[0, 1]</code> 范围内。<ul>
<li><strong><code>fit()</code></strong>：计算训练数据的最小值和最大值。</li>
<li><strong><code>transform()</code></strong>：根据计算出的最小值和最大值，进行数据的转换。</li>
<li><code>fit_transform()</code> 是这两个操作的组合，直接返回标准化后的训练数据。</li>
</ul>
</li>
</ul>
<p><strong>对测试数据进行 MinMax 标准化</strong>：<br>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_test1 = mm_X.transform(X_test)</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>transform()</code> 方法会使用训练数据上的最小值和最大值来转换测试数据。</li>
<li><strong>注意</strong>：<code>transform()</code> 仅仅使用训练数据的统计量（即最小值和最大值）来对测试数据进行标准化，避免了数据泄露问题。如果对测试数据使用 <code>fit_transform()</code>，就会导致模型从测试数据中学习统计量，破坏了训练和测试数据的独立性。</li>
</ul>
<p><strong>MinMax 标准化</strong>是一种常用的数据预处理方法，尤其适用于特征的取值范围差异较大时。它将每个特征的最小值映射到 0，最大值映射到 1，其他值则在该区间内按比例进行缩放。这样做的好处是避免了某些特征因数值范围较大而在训练模型时占据主导地位，尤其是对于需要计算距离或内积的模型，如 KNN、SVM 等，使用 MinMax 标准化后的数据会使模型训练更加稳定。</p>
<h2 id="模型训练与评估"><a href="#模型训练与评估" class="headerlink" title="模型训练与评估"></a>模型训练与评估</h2><h3 id="任务3-1：线性回归模型训练"><a href="#任务3-1：线性回归模型训练" class="headerlink" title="任务3.1：线性回归模型训练"></a>任务3.1：线性回归模型训练</h3><p>调用sklearn.linear_model中的LinearRegression()函数，对训练集(X_train,y_train)进行模型训练，并预测测试集X_test的房价lr_y_predict。</p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="comment"># 初始化线性回归模型</span></span><br><span class="line">lr = LinearRegression()</span><br><span class="line"><span class="comment"># 线性回归模型训练</span></span><br><span class="line">lr.fit(X_train, y_train)  <span class="comment"># 使用训练集数据训练模型</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型预测</span></span><br><span class="line">lr_y_predict = lr.predict(X_test)  <span class="comment"># 使用训练好的模型对测试集数据进行预测</span></span><br></pre></td></tr></table></figure>
<h3 id="代码解释：-2"><a href="#代码解释：-2" class="headerlink" title="代码解释："></a>代码解释：</h3><p><strong>训练模型</strong>：<br>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lr.fit(X_train, y_train)</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>fit()</code> 方法会使用训练集数据 <code>(X_train, y_train)</code> 来训练线性回归模型。训练过程就是计算线性回归模型的系数（权重）和截距，以使预测值最接近真实目标值。</li>
</ul>
<p><strong>预测房价</strong>：<br>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lr_y_predict = lr.predict(X_test)</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>predict()</code> 方法会使用已经训练好的模型来对测试集 <code>X_test</code> 进行预测，返回预测的房价（即预测值 <code>lr_y_predict</code>）。模型根据训练时学到的关系来预测测试集中的每个样本的房价。</li>
</ul>
<h3 id="任务3-2：线性回归模型评估"><a href="#任务3-2：线性回归模型评估" class="headerlink" title="任务3.2：线性回归模型评估"></a>任务3.2：线性回归模型评估</h3><p>回归模型常用的三种评价指标：（1）R方分数（决定系数）、（2）MSE均方误差、以及（3）MAE平均绝对误差。</p>
<p>方法一：调用sklearn.metrics中的相关函数，计算测试结果lr_y_predict与真实结果y_test之间的误差或精度。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score,mean_squared_error,mean_absolute_error</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;the value of R-squared of LR is&#x27;</span>,r2_score(y_test,lr_y_predict))</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;the MSE of LR is&#x27;</span>,mean_squared_error(y_test,lr_y_predict))</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;the MAE of LR is&#x27;</span>,mean_absolute_error(y_test,lr_y_predict))</span><br></pre></td></tr></table></figure>
<pre><code>the value of R-squared of LR is 0.7250808093832966
the MSE of LR is 23.56944609104811
the MAE of LR is 3.302381007591344
</code></pre><p>方法二：自己编写函数，计算上述指标。本实验要求学生至少完成MSE均方误差的计算，并打印输出结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 请在下方作答</span></span><br><span class="line"><span class="comment"># 计算R²（决定系数）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_r2</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    <span class="comment"># R² = 1 - (SS_res / SS_tot)</span></span><br><span class="line">    ss_res = ((y_true - y_pred) ** <span class="number">2</span>).<span class="built_in">sum</span>()  <span class="comment"># 残差平方和</span></span><br><span class="line">    ss_tot = ((y_true - y_true.mean()) ** <span class="number">2</span>).<span class="built_in">sum</span>()  <span class="comment"># 总平方和</span></span><br><span class="line">    r2_score = <span class="number">1</span> - (ss_res / ss_tot)  <span class="comment"># 决定系数</span></span><br><span class="line">    <span class="keyword">return</span> r2_score</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算MSE（均方误差）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_mse</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    mse = mean_squared_error(y_true, y_pred)</span><br><span class="line">    <span class="keyword">return</span> mse</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算MAE（平均绝对误差）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_mae</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    mae = mean_absolute_error(y_true, y_pred)</span><br><span class="line">    <span class="keyword">return</span> mae</span><br><span class="line"></span><br><span class="line"><span class="comment"># 评估模型</span></span><br><span class="line">r2 = calculate_r2(y_test, lr_y_predict)  <span class="comment"># R²</span></span><br><span class="line">mse = calculate_mse(y_test, lr_y_predict)  <span class="comment"># MSE</span></span><br><span class="line">mae = calculate_mae(y_test, lr_y_predict)  <span class="comment"># MAE</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;R² (决定系数): <span class="subst">&#123;r2&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;MSE (均方误差): <span class="subst">&#123;mse&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;MAE (平均绝对误差): <span class="subst">&#123;mae&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>R² (决定系数): 0.7250808093832966
MSE (均方误差): 23.56944609104811
MAE (平均绝对误差): 3.302381007591344
</code></pre><p>下面是 <strong>R²（决定系数）</strong>、<strong>MSE（均方误差）</strong> 和 <strong>MAE（平均绝对误差）</strong> 的计算公式：</p>
<h3 id="1-R²（决定系数）-计算公式："><a href="#1-R²（决定系数）-计算公式：" class="headerlink" title="1. R²（决定系数） 计算公式："></a>1. <strong>R²（决定系数）</strong> 计算公式：</h3><p>R² 衡量模型对目标变量变化的解释程度。它的取值范围为 0 到 1，越接近 1，表示模型越能解释数据的变异性。</p>
<p>公式:</p>
<script type="math/tex; mode=display">
R^2=1-\frac{\sum_{i=1}^{n}(y_i-\hat{y}_i)^2}{\sum_{i=1}^{n}(y_i-\bar{y})^2}</script><ul>
<li>( $y_i $)：实际值（真实的目标值）。</li>
<li>( $\hat{y}_i$ )：预测值（模型预测的目标值）。</li>
<li>( $\bar{y}$ )：实际值的均值（ $\bar{y} = \frac{1}{n} \sum_{i=1}^{n} y_i$ ）。</li>
<li>( $n$ )：样本数。</li>
</ul>
<h4 id="解释："><a href="#解释：" class="headerlink" title="解释："></a>解释：</h4><ul>
<li>分子部分是 <strong>残差平方和（RSS）</strong>，衡量预测值与真实值之间的差异。</li>
<li>分母部分是 <strong>总平方和（TSS）</strong>，衡量真实值与均值之间的差异。</li>
<li>R² 越接近 1，表示模型的拟合度越好。</li>
</ul>
<h3 id="2-MSE（均方误差）-计算公式："><a href="#2-MSE（均方误差）-计算公式：" class="headerlink" title="2. MSE（均方误差） 计算公式："></a>2. <strong>MSE（均方误差）</strong> 计算公式：</h3><p>MSE 衡量预测值与真实值之间差异的平方和的平均值，是一种常用的回归模型评估指标。</p>
<p>公式：</p>
<script type="math/tex; mode=display">
MSE = \frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2</script><ul>
<li>( $y_i$ )：实际值。</li>
<li>( $\hat{y}_i$)：预测值。</li>
<li>( $n$ )：样本数。</li>
</ul>
<h4 id="解释：-1"><a href="#解释：-1" class="headerlink" title="解释："></a>解释：</h4><ul>
<li>MSE 是实际值与预测值之间差异的平方和的平均值，越小表示模型的预测误差越小。</li>
</ul>
<h3 id="3-MAE（平均绝对误差）-计算公式："><a href="#3-MAE（平均绝对误差）-计算公式：" class="headerlink" title="3. MAE（平均绝对误差） 计算公式："></a>3. <strong>MAE（平均绝对误差）</strong> 计算公式：</h3><p>MAE 衡量预测值与真实值之间差异的绝对值的平均值，也是一种常用的回归模型评估指标。</p>
<p>公式：</p>
<script type="math/tex; mode=display">
MAE = \frac{1}{n} \sum_{i=1}^{n} |y_i - \hat{y}_i|</script><ul>
<li>( $y_i$ )：实际值。</li>
<li>( $\hat{y}_i$ )：预测值。</li>
<li>( $n$ )：样本数。</li>
</ul>
<h4 id="解释：-2"><a href="#解释：-2" class="headerlink" title="解释："></a>解释：</h4><ul>
<li>MAE 是实际值与预测值之间差异的绝对值的平均值，越小表示模型的预测性能越好。</li>
</ul>
<h3 id="总结：-1"><a href="#总结：-1" class="headerlink" title="总结："></a>总结：</h3><ul>
<li><strong>R²（决定系数）</strong>：度量模型拟合优度，越接近 1 表示模型越好。</li>
<li><strong>MSE（均方误差）</strong>：越小，表示模型的预测误差越小。</li>
<li><strong>MAE（平均绝对误差）</strong>：越小，表示模型在预测时的绝对误差越小。</li>
</ul>
<h3 id="任务3-3：岭回归模型训练"><a href="#任务3-3：岭回归模型训练" class="headerlink" title="任务3.3：岭回归模型训练"></a>任务3.3：岭回归模型训练</h3><p>调用sklearn.linear_model中的Ridge()函数(参数设置为5)，对训练集(X_train,y_train)进行模型训练，并预测测试集X_test的房价rd_y_predict。</p>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge</span><br><span class="line">rd = Ridge(alpha=<span class="number">5</span>)</span><br><span class="line"><span class="comment">#岭回归模型训练</span></span><br><span class="line">rd.fit(X_train, y_train)</span><br><span class="line"><span class="comment"># 输出训练后的模型系数（回归系数）</span></span><br><span class="line"><span class="built_in">print</span>(rd.coef_)</span><br><span class="line"><span class="comment">#模型测试</span></span><br><span class="line">rd_y_predict = rd.predict(X_test)</span><br></pre></td></tr></table></figure>
<pre><code>[-0.89921997  1.17687007  0.06847273  0.58380163 -2.09273127  2.39227753
  0.15081088 -3.06269707  2.53630955 -1.8549535  -2.24256957  0.89722135
 -3.79040179]
</code></pre><h3 id="岭回归（Ridge-Regression）"><a href="#岭回归（Ridge-Regression）" class="headerlink" title="岭回归（Ridge Regression）"></a>岭回归（Ridge Regression）</h3><p><strong>岭回归</strong>（Ridge Regression），又称 <strong>L2 正则化回归</strong>，是一种扩展了普通最小二乘回归（OLS）的回归模型。其核心思想是在最小化 <strong>残差平方和</strong>（即普通最小二乘回归的目标函数）的同时，加入一个 <strong>正则化项</strong>，用于惩罚模型的复杂性，避免过拟合。</p>
<h3 id="岭回归的公式"><a href="#岭回归的公式" class="headerlink" title="岭回归的公式"></a>岭回归的公式</h3><p>岭回归的目标函数为：</p>
<script type="math/tex; mode=display">
\text{minimize} \quad \left( \sum_{i=1}^{n} (y_i - \hat{y}_i)^2 + \alpha \sum_{j=1}^{p} \beta_j^2 \right)</script><p>其中：</p>
<ul>
<li>( $y_i$ )：实际观测值。</li>
<li>( $\hat{y}_i$ )：模型预测值。</li>
<li>( $\beta_j$ )：模型的回归系数。</li>
<li>( $\alpha$ )：正则化强度（超参数），控制正则化项的权重。</li>
</ul>
<h3 id="关键点："><a href="#关键点：" class="headerlink" title="关键点："></a>关键点：</h3><ol>
<li><strong>残差平方和</strong>：普通最小二乘回归的目标函数是最小化预测值和真实值之间的差异平方和：$\sum_{i=1}^{n} (y_i - \hat{y}_i)^2$</li>
<li><strong>L2 正则化</strong>：岭回归在最小化残差平方和的同时，加上一个正则化项$\ \alpha \sum_{j=1}^{p} \beta_j^2 $，用来限制回归系数的大小。这个正则化项惩罚过大的系数，使得系数趋向于 0，但不会完全为 0（与 Lasso 回归不同，Lasso 是 L1 正则化，会使部分系数变为 0）。<ul>
<li>$\alpha $：是岭回归的正则化参数，控制惩罚项的强度。较大的 ( \alpha ) 值会增加正则化的惩罚，使模型的系数变得较小，从而减少过拟合。</li>
</ul>
</li>
</ol>
<h3 id="岭回归的作用"><a href="#岭回归的作用" class="headerlink" title="岭回归的作用"></a>岭回归的作用</h3><ul>
<li><strong>防止过拟合</strong>：在普通的最小二乘回归中，若特征非常多，模型可能会在训练数据上表现得非常好，但却在测试数据上表现得较差（过拟合）。通过在回归系数上施加惩罚，岭回归减少了模型的复杂度，从而帮助防止过拟合。</li>
<li><strong>适应多重共线性</strong>：当特征之间存在强烈的相关性时（即多重共线性），普通的最小二乘回归可能无法得出稳定的回归系数。岭回归通过正则化项使得模型更稳定，避免共线性问题带来的不稳定性。</li>
</ul>
<h3 id="岭回归与普通最小二乘回归的区别"><a href="#岭回归与普通最小二乘回归的区别" class="headerlink" title="岭回归与普通最小二乘回归的区别"></a>岭回归与普通最小二乘回归的区别</h3><ul>
<li><strong>普通最小二乘回归</strong>：最小化残差平方和，没有对回归系数施加任何惩罚。因此，模型会根据训练数据的噪声来拟合训练数据，可能导致过拟合。</li>
<li><strong>岭回归</strong>：最小化残差平方和，并加上正则化项，控制回归系数的大小，防止模型复杂度过高，减少过拟合。</li>
</ul>
<h3 id="岭回归的超参数-alpha"><a href="#岭回归的超参数-alpha" class="headerlink" title="岭回归的超参数 ( $\alpha$ )"></a>岭回归的超参数 ( $\alpha$ )</h3><ul>
<li><strong>( $\alpha$ )</strong>：是岭回归中的超参数，控制正则化项的强度。<ul>
<li>当 ( \alpha = 0 ) 时，岭回归退化为普通的最小二乘回归。</li>
<li>当 ( \alpha ) 较大时，模型的回归系数被更多地惩罚，减少了过拟合的风险，但也可能导致欠拟合（即模型对数据的拟合能力不足）。</li>
</ul>
</li>
</ul>
<h3 id="任务3-4：岭回归模型评估"><a href="#任务3-4：岭回归模型评估" class="headerlink" title="任务3.4：岭回归模型评估"></a>任务3.4：岭回归模型评估</h3><p>与线性回归一样，岭回归模型有两种方法计算评价指标，这里调用sklearn.metrics来实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score,mean_squared_error,mean_absolute_error</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;the value of R-squared of Ridge is&#x27;</span>,r2_score(y_test,rd_y_predict ))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;the MSE of Ridge is&#x27;</span>,mean_squared_error(y_test,rd_y_predict))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;the MAE of Ridge is&#x27;</span>,mean_absolute_error(y_test,rd_y_predict))</span><br></pre></td></tr></table></figure>
<pre><code>the value of R-squared of Ridge is 0.7279447933421523
the MSE of Ridge is 23.323910246960786
the MAE of Ridge is 3.2535718613670053
</code></pre><h2 id="参数选择"><a href="#参数选择" class="headerlink" title="参数选择"></a>参数选择</h2><h3 id="任务4：运用交叉验证选择模型参数"><a href="#任务4：运用交叉验证选择模型参数" class="headerlink" title="任务4：运用交叉验证选择模型参数"></a>任务4：运用交叉验证选择模型参数</h3><p>岭回归模型参数是正则化参数alpha，前面把它设置为5。为了选择最优参数，对训练集进行10次10折交叉验证。具体地，参数选择在[0,10]范围内，以1为步长，进行选择。</p>
<ol>
<li>总共进行11次实验（不同alpha值），每次实验将训练数据随机分成10份，重复10次；</li>
<li>每一次划分，任意9份做训练，剩余1份测试，共执行10次，测试结果取平均；</li>
<li>再将所有划分的结果再取平均，作为这一次alpha取值的分数；</li>
<li>比较不同alpha取值的交叉验证模型分数，来选择其中表现最好的（分数最高的）模型的alpha值；</li>
<li>用上述选择的alpha值对训练数据重新训练模型，再测试评估。</li>
</ol>
<blockquote>
<p>补全代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score </span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> KFold</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cv_score_list = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">11</span>):</span><br><span class="line">    <span class="comment"># alpha 取不同值</span></span><br><span class="line">    rd = Ridge(alpha=i)</span><br><span class="line">    avg_score_cross = []</span><br><span class="line">    <span class="comment"># 进行10次随机划分</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="comment">#调用KFold()实现10折划分</span></span><br><span class="line">        kf = KFold(n_splits=<span class="number">10</span>, shuffle=<span class="literal">True</span>, random_state=j)</span><br><span class="line">        <span class="comment">#调用cross_val_score()计算训练集本次10折划分的分数</span></span><br><span class="line">        score_cross = cross_val_score(rd, X_train, y_train, cv=kf, scoring=<span class="string">&#x27;neg_mean_squared_error&#x27;</span>)</span><br><span class="line">        avg_score_cross.append(np.mean(score_cross))</span><br><span class="line">    cv_score_list.append(np.mean(avg_score_cross))</span><br><span class="line"></span><br><span class="line">plt.plot(<span class="built_in">range</span>(<span class="number">11</span>), cv_score_list)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># cv_score_list中找到分数最大的模型所对应的alpha取值</span></span><br><span class="line">index = np.argmax(cv_score_list)</span><br><span class="line">rd = Ridge(alpha=index)</span><br><span class="line"><span class="comment">#岭回归模型训练</span></span><br><span class="line">rd.fit(X_train, y_train)</span><br><span class="line"><span class="comment">#模型测试</span></span><br><span class="line">rd_y_predict = rd.predict(X_test)</span><br><span class="line"><span class="comment"># 打印模型评估结果</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error, mean_absolute_error</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Best Alpha: <span class="subst">&#123;index&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Mean Squared Error: <span class="subst">&#123;mean_squared_error(y_test, rd_y_predict)&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Mean Absolute Error: <span class="subst">&#123;mean_absolute_error(y_test, rd_y_predict)&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Best Alpha: 4
Mean Squared Error: 23.35986469628359
Mean Absolute Error: 3.260923268350155
</code></pre><h2 id="二分类问题"><a href="#二分类问题" class="headerlink" title="二分类问题"></a>二分类问题</h2><h3 id="任务5：波士顿房价二分类问题"><a href="#任务5：波士顿房价二分类问题" class="headerlink" title="任务5：波士顿房价二分类问题"></a>任务5：波士顿房价二分类问题</h3><p>为了了解分类问题的建模与评估，本任务将连续值的波士顿房价数值使用阈值进行二值化（0,1，例如：廉价房、品质房），可以将房价预测的回归问题，改为简单的二分类问题。</p>
<p>同样是包括四个步骤：数据准备、数据预处理、模型训练、模型评估与选择。</p>
<p>下面的程序使用方法一调用sklearn.metrics中的相应函数计算预测结果的准确率accuracy、f1 score、auc值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score, f1_score, roc_auc_score</span><br><span class="line"></span><br><span class="line">boston = load_boston()</span><br><span class="line"><span class="comment"># 房价数值二值化</span></span><br><span class="line">threshold = np.mean(boston.target)</span><br><span class="line">labels = (boston.target&gt;threshold).astype(np.int_)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据集划分</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(boston.data, labels, test_size=<span class="number">0.2</span>, random_state=<span class="number">42</span>)</span><br><span class="line"><span class="comment"># 省略数据预处理步骤</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型训练</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">lr = LinearRegression()</span><br><span class="line"><span class="comment"># 模型训练：我们使用 LogisticRegression（线性回归常用于回归问题，但 Logistic Regression 更适合于二分类问题）</span></span><br><span class="line">lr = LogisticRegression(max_iter=<span class="number">10000</span>)  <span class="comment"># 设置最大迭代次数为10000以确保收敛</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line">lr.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型预测：对测试集进行预测</span></span><br><span class="line">lr_y_predict = lr.predict(X_test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型评估</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;The accuracy score of LR is&#x27;</span>, accuracy_score(y_test, lr_y_predict))  <span class="comment"># 准确率</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;The f1 score of LR is&#x27;</span>, f1_score(y_test, lr_y_predict))  <span class="comment"># F1 分数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;The auc of LR is&#x27;</span>, roc_auc_score(y_test, lr_y_predict))  <span class="comment"># AUC（曲线下面积）</span></span><br></pre></td></tr></table></figure>
<pre><code>The accuracy score of LR is 0.9117647058823529
The f1 score of LR is 0.8695652173913043
The auc of LR is 0.89002079002079


f:\project python\.conda\lib\site-packages\sklearn\utils\deprecation.py:87: FutureWarning: Function load_boston is deprecated; `load_boston` is deprecated in 1.0 and will be removed in 1.2.

    The Boston housing prices dataset has an ethical problem. You can refer to
    the documentation of this function for further details.

    The scikit-learn maintainers therefore strongly discourage the use of this
    dataset unless the purpose of the code is to study and educate about
    ethical issues in data science and machine learning.

    In this special case, you can fetch the dataset from the original
    source::

        import pandas as pd
        import numpy as np

        data_url = &quot;http://lib.stat.cmu.edu/datasets/boston&quot;
        raw_df = pd.read_csv(data_url, sep=&quot;\s+&quot;, skiprows=22, header=None)
        data = np.hstack([raw_df.values[::2, :], raw_df.values[1::2, :2]])
        target = raw_df.values[1::2, 2]

    Alternative datasets include the California housing dataset (i.e.
    :func:`~sklearn.datasets.fetch_california_housing`) and the Ames housing
    dataset. You can load the datasets as follows::

        from sklearn.datasets import fetch_california_housing
        housing = fetch_california_housing()

    for the California housing dataset and::

        from sklearn.datasets import fetch_openml
        housing = fetch_openml(name=&quot;house_prices&quot;, as_frame=True)

    for the Ames housing dataset.
  warnings.warn(msg, category=FutureWarning)
</code></pre><p>方法二：自己编写函数，计算上述指标。</p>
<p>本实验要求学生至少完成accuracy与f1 score的计算，并打印输出结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 请在下方作答</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix</span><br><span class="line"><span class="comment"># 计算准确率（Accuracy）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_accuracy</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    correct = np.<span class="built_in">sum</span>(y_true == y_pred)  <span class="comment"># 计算正确预测的数量</span></span><br><span class="line">    total = <span class="built_in">len</span>(y_true)  <span class="comment"># 总样本数</span></span><br><span class="line">    accuracy = correct / total  <span class="comment"># 准确率</span></span><br><span class="line">    <span class="keyword">return</span> accuracy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算F1分数（F1 Score）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_f1_score</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    cm = confusion_matrix(y_true, y_pred)</span><br><span class="line">    <span class="comment"># 提取混淆矩阵中的 TP, FP, FN</span></span><br><span class="line">    tp = cm[<span class="number">1</span>, <span class="number">1</span>]  <span class="comment"># True Positives</span></span><br><span class="line">    fp = cm[<span class="number">0</span>, <span class="number">1</span>]  <span class="comment"># False Positives</span></span><br><span class="line">    fn = cm[<span class="number">1</span>, <span class="number">0</span>]  <span class="comment"># False Negatives</span></span><br><span class="line">    precision = tp / (tp + fp) <span class="keyword">if</span> (tp + fp) != <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">    recall = tp / (tp + fn) <span class="keyword">if</span> (tp + fn) != <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">    <span class="comment"># 计算 F1 分数</span></span><br><span class="line">    f1 = <span class="number">2</span> * (precision * recall) / (precision + recall) <span class="keyword">if</span> (precision + recall) != <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> f1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">accuracy = calculate_accuracy(y_test, lr_y_predict)</span><br><span class="line">f1_score = calculate_f1_score(y_test, lr_y_predict)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Accuracy: <span class="subst">&#123;accuracy&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;F1 Score: <span class="subst">&#123;f1_score&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Accuracy: 0.9117647058823529
F1 Score: 0.8695652173913043
</code></pre><h3 id="1-准确率-Accuracy-："><a href="#1-准确率-Accuracy-：" class="headerlink" title="1. 准确率 (Accuracy)："></a>1. <strong>准确率 (Accuracy)</strong>：</h3><p>准确率是正确分类的样本数与总样本数之比。</p>
<p>公式：</p>
<script type="math/tex; mode=display">
\text{Accuracy} = \frac{\text{正确预测的数量}}{\text{总样本数}}</script><h3 id="2-F1-分数-F1-Score-："><a href="#2-F1-分数-F1-Score-：" class="headerlink" title="2. F1 分数 (F1 Score)："></a>2. <strong>F1 分数 (F1 Score)</strong>：</h3><p>F1 分数是准确率 (Precision) 和召回率 (Recall) 的调和平均数。</p>
<p>公式：</p>
<script type="math/tex; mode=display">
F1 = 2 \times \frac{\text{Precision} \times \text{Recall}}{\text{Precision} + \text{Recall}}</script><p>其中：</p>
<script type="math/tex; mode=display">
\text{Precision} = \frac{\text{True Positive}}{\text{True Positive} + \text{False Positive}}</script><script type="math/tex; mode=display">
\text{Recall} = \frac{\text{True Positive}}{\text{True Positive} + \text{False Negative}}</script><h3 id="3-AUC-Area-Under-the-Curve-："><a href="#3-AUC-Area-Under-the-Curve-：" class="headerlink" title="3. AUC (Area Under the Curve)："></a>3. <strong>AUC (Area Under the Curve)</strong>：</h3><p>AUC 是 ROC 曲线下面积，用于衡量分类模型的性能，范围在 0 到 1 之间，越接近 1，模型表现越好。AUC 是一个广泛使用的评估二分类问题模型的性能的指标。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/05/diary/%E5%8C%86%E5%8C%86%E5%95%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/05/diary/%E5%8C%86%E5%8C%86%E5%95%8A/" class="post-title-link" itemprop="url">人生匆匆啊</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-03-05 00:00:00 / 修改时间：10:17:34" itemprop="dateCreated datePublished" datetime="2025-03-05T00:00:00+08:00">2025-03-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="人生匆匆啊"><a href="#人生匆匆啊" class="headerlink" title="人生匆匆啊"></a>人生匆匆啊</h3><p>今天是2025年3月5日，是我的20岁生日，现在是9点45分，刚上完算法课，逃了上机课来到了机房，在开始一天的学习之前，我还是决定写一篇随笔记录一下自己的心情，或许多年之后，我已经忘记当时的心情，但这些文字会保留下来，会见证我的成长。</p>
<p>小时候，或许人人都希望生日到来的那一天，因为生日的到来意味着成长，代表着长大成人，当时的自己得知自己又成长了一岁，心中确实是喜悦的；但今日的我，却没有了这份喜悦，换来的是感慨与思考。自从上大学之后，觉得时间真的好快，转眼我已经是大二下的学生，四年的大学生活已经过半，我到底做了什么，有没有成长与进步，有没有荒度这些时光，这些天我无时无刻不反问自己。我觉得我还有很多事情，很多方面需要成长，但是时间却仿佛没有这么多了，大学本科毕业那年我22岁，如果在国内读研究生，那就是3年，毕业之后我就是25岁，在我的认知里，25岁就算是开始步入中年了，而那时的我才研究生毕业初入社会，可以说是稚嫩一无所有，这是我不能接受的。所以，这也是很大一部分原因让我选择出国留学，我希望更早地步入社会，去闯去打拼，而且就我自身而言，我觉得我的性格，在社会中会更能展现出优势，而不是科研的料。希望我可以在25岁这个结点，能做到小有成就，能做到让自己满意。</p>
<p> 再简单记录一下自己这个学期的情况，学校的课程基本要从早八上到下午三点，下课之后在图书馆学习到七点20左右，然后去吃饭，八点在健身房锻炼到9点半左右，十点多洗完澡跟好朋友玩一玩游戏到十二点左右。我秉承着德智体美劳全面发展与劳逸结合，学习不能光学书本上的知识，网上很多各种类型的视频也常常可以给我启发，学习劳累之后去运动运动把身体搞好，学就是学玩就是玩，我分的很开，所以我每天晚上多少会玩一会游戏让自己放松一下。</p>
<p>差不多就说到这吧，写一写随笔真的挺好的，我经常心中有很多话，仿佛构思鸿篇巨制，却常因懒惰没有记录下来，希望以后勤写勤记，加油！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/03/01/diary/%E6%9C%AA%E6%9D%A5%E7%9A%84%E9%80%89%E6%8B%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/zxjavatar.gif">
      <meta itemprop="name" content="张熙浚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zhang XiJun">
      <meta itemprop="description" content="zxj Blogs">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Zhang XiJun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/03/01/diary/%E6%9C%AA%E6%9D%A5%E7%9A%84%E9%80%89%E6%8B%A9/" class="post-title-link" itemprop="url">未来的选择</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-03-01 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-01T00:00:00+08:00">2025-03-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-06 13:05:00" itemprop="dateModified" datetime="2025-03-06T13:05:00+08:00">2025-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="未来的选择"><a href="#未来的选择" class="headerlink" title="未来的选择"></a>未来的选择</h3><p>前一阵子与很久不见的学长交谈了一阵，两个小时感觉转瞬即逝，从未来选择到现在学业，和学长的交谈总能让我醍醐灌顶。我很喜欢和优秀的人谈话，他们的想法和建议总能让我豁然开朗。我最近一直对未来的选择十分迷惘，想学的东西太多，但时间精力有限，这时候就不得不做出选择。我需要好好想想我未来到底想从事什么方向的工作，并以此为目标钻研下去，而不是像无头苍蝇一样这学一点那学一点，泛而不精的人企业是不会要的。</p>
<p>摆在我眼前的有三个选择，第一个，我最近一直在看前端的知识，并跟着网上的教程编点小项目实操一下，我考虑的是一方面大创需要前端，我近期就可以用得上，另一方面我学的并不是前端很深入的知识，做一个知识上的普及还是有必要的；第二个，近期又来到计算机设计大赛的时间点，我要不要重拾unity的学习，后面走unity游戏开发方向的工作呢。但其实现在这个我不考虑了；第三个，我个人对金融，投资很感兴趣，我自己又是人工智能专业，后续去香港留学也想走ai+金融的方向，我是不是应该把更多的时间用在学习ai相关呢。</p>
<p>学长建议我还是要把更多的时间花在ai相关的学习，现在ai正是主流方向，沿着这个方向努力肯定是不会有问题的，平时要把人工智能相关的专业课，比如机器学习等，学扎实，而且我既然打算香港读研也是这个方向，就更要把时间花在这个地方。后续我打算把手头的项目写完后，有时间就开始在网上学习相关知识。</p>
<p>感觉废话有点多了，特别是上大学之后，选择与方向真的太多，但不管是哪个选择，都要大步走下去，而不是犹犹豫豫原地踏步，任重而道远啊！</p>
<p>最后说点题外话，把能认识到像学长这样优秀的人，我着实感到十分幸运。这两天又看了看学长的博客，每次看都能让我受益良多，我能开始写博客很大部分也受他的影响，但相比之下，确实感到自惭形愧，向学长学习！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">张熙浚</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="本站访问数 fa fa-user 次"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="本站总访问量 fa fa-eye 次"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="400" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  <script src="/js/third-party/pace.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
